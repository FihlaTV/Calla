function t(t,...e){if(!t||void 0===t.length)throw new Error("Must provide an array as the first parameter.");for(let i of e)for(let e of t)if(i(e))return e;return null}class e extends Event{constructor(){super("audioActivity"),this.id=null,this.isActive=!1,Object.seal(this)}set(t,e){this.id=t,this.isActive=e}}function i(t,e,i){return typeof t===e||t instanceof i}function n(t){return i(t,"function",Function)}function s(t){return i(t,"string",String)}function r(t){return i(t,"number",Number)}function o(t){return r(t)&&!Number.isNaN(t)}const a=function(){try{return new window.EventTarget,class extends EventTarget{constructor(){super()}}}catch(t){const e=new WeakMap;return class{constructor(){e.set(this,new Map)}addEventListener(t,i,s){if(n(i)){const n=e.get(this);n.has(t)||n.set(t,[]);const r=n.get(t);r.find(t=>t.callback===i)||r.push({target:this,callback:i,options:s})}}removeEventListener(t,i){if(n(i)){const n=e.get(this);if(n.has(t)){const e=n.get(t),s=e.findIndex(t=>t.callback===i);s>=0&&function(t,e){if(!(t instanceof Array))throw new Error("Must provide an array as the first parameter.");t.splice(e,1)}(e,s)}}}dispatchEvent(t){const i=e.get(this);if(i.has(t.type)){const e=i.get(t.type);for(let i of e)i.options&&i.options.once&&this.removeEventListener(t.type,i.callback),i.callback.call(i.target,t);return!t.defaultPrevented}return!0}}}}(),A=["change","click","contextmenu","dblclick","mouseup","pointerup","reset","submit","touchend"];async function c(t){const e=fetch(t),i=await e;if(!i.ok)throw new Error(`[${i.status}] - ${i.statusText}`);return i}async function h(t,e){const{buffer:i,contentType:s}=await async function(t,e){if(!n(e))throw new Error("progress callback is required");e(0,1,t);const i=await c(t),s=parseInt(i.headers.get("Content-Length"),10);if(!s)throw new Error("Server did not provide a content length header.");const r=i.headers.get("Content-Type");if(!r)throw new Error("Server did not provide a content type");const o=i.body.getReader(),a=new Uint8Array(s);let A=0;for(;;){const{done:i,value:n}=await o.read();if(i)break;if(A+n.length>s)throw new Error("Whoa! Recieved content exceeded expected amount");a.set(n,A),A+=n.length,e(A,s,t)}return e(1,1,t),{buffer:a,contentType:r}}(t,e);return new Blob([i],{type:s})}const u=new Map;async function l(t,e=null){if(n(e))return await async function(t,e){const i=t;if(u.has(i)){e(0,1,t);const n=u.get(i);return e(1,1,t),n}{const n=await h(t,e),s=URL.createObjectURL(n);return u.set(i,s),s}}(t,e);const i=await async function(t,e=null){if(n(e))return await h(t,e);const i=await c(t);return await i.blob()}(t);return URL.createObjectURL(i)}const d=new e;function f(t,e,i){const n=e/2,s=Math.round(t/n*i);return r=s,o=0,a=i,Math.min(a,Math.max(o,r));var r,o,a}class p extends a{constructor(t,e,i){if(super(),!o(i)||i<=0)throw new Error("Buffer size must be greater than 0");this.id=t.id,this.bufferSize=i,this.buffer=new Float32Array(this.bufferSize),this.wasActive=!1,this.lastAudible=!0,this.activityCounter=0,this.analyser=null;const n=()=>{t.spatializer.source?(this.analyser=e.createAnalyser(),this.analyser.fftSize=2*this.bufferSize,this.analyser.smoothingTimeConstant=.2,t.spatializer.source.connect(this.analyser)):setTimeout(n,0)};n()}dispose(){this.analyser&&(this.analyser.disconnect(),this.analyser=null),this.buffer=null}update(){if(this.analyser){this.analyser.getFloatFrequencyData(this.buffer);const t=1.1+function(t,e,i,n,s){const r=t.context.sampleRate,o=f(i,r,s),a=f(n,r,s),A=a-o;let c=0;for(let t=o;t<a;++t)c+=e[t];return 0===A?0:c/A}(this.analyser,this.buffer,85,255,this.bufferSize)/100;t>=.5&&this.activityCounter<60?this.activityCounter++:t<.5&&this.activityCounter>0&&this.activityCounter--;const e=this.activityCounter>5;this.wasActive!==e&&(this.wasActive=e,d.id=this.id,d.isActive=e,this.dispatchEvent(d))}}}const g=[];for(let t=0;t<256;t++)g[t]=(t<16?"0":"")+t.toString(16);let v=1234567;const m={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(g[255&t]+g[t>>8&255]+g[t>>16&255]+g[t>>24&255]+"-"+g[255&e]+g[e>>8&255]+"-"+g[e>>16&15|64]+g[e>>24&255]+"-"+g[63&i|128]+g[i>>8&255]+"-"+g[i>>16&255]+g[i>>24&255]+g[255&n]+g[n>>8&255]+g[n>>16&255]+g[n>>24&255]).toUpperCase()},clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,n,s){return n+(t-e)*(s-n)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(v=t%2147483647),v=16807*v%2147483647,(v-1)/2147483646},degToRad:function(t){return t*m.DEG2RAD},radToDeg:function(t){return t*m.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,i,n,s){const r=Math.cos,o=Math.sin,a=r(i/2),A=o(i/2),c=r((e+n)/2),h=o((e+n)/2),u=r((e-n)/2),l=o((e-n)/2),d=r((n-e)/2),f=o((n-e)/2);switch(s){case"XYX":t.set(a*h,A*u,A*l,a*c);break;case"YZY":t.set(A*l,a*h,A*u,a*c);break;case"ZXZ":t.set(A*u,A*l,a*h,a*c);break;case"XZX":t.set(a*h,A*f,A*d,a*c);break;case"YXY":t.set(A*d,a*h,A*f,a*c);break;case"ZYZ":t.set(A*f,A*d,a*h,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}};class w{constructor(t=0,e=0,i=0,n=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=i,this._w=n}static slerp(t,e,i,n){return i.copy(t).slerp(e,n)}static slerpFlat(t,e,i,n,s,r,o){let a=i[n+0],A=i[n+1],c=i[n+2],h=i[n+3];const u=s[r+0],l=s[r+1],d=s[r+2],f=s[r+3];if(h!==f||a!==u||A!==l||c!==d){let t=1-o;const e=a*u+A*l+c*d+h*f,i=e>=0?1:-1,n=1-e*e;if(n>Number.EPSILON){const s=Math.sqrt(n),r=Math.atan2(s,e*i);t=Math.sin(t*r)/s,o=Math.sin(o*r)/s}const s=o*i;if(a=a*t+u*s,A=A*t+l*s,c=c*t+d*s,h=h*t+f*s,t===1-o){const t=1/Math.sqrt(a*a+A*A+c*c+h*h);a*=t,A*=t,c*=t,h*=t}}t[e]=a,t[e+1]=A,t[e+2]=c,t[e+3]=h}static multiplyQuaternionsFlat(t,e,i,n,s,r){const o=i[n],a=i[n+1],A=i[n+2],c=i[n+3],h=s[r],u=s[r+1],l=s[r+2],d=s[r+3];return t[e]=o*d+c*h+a*l-A*u,t[e+1]=a*d+c*u+A*h-o*l,t[e+2]=A*d+c*l+o*u-a*h,t[e+3]=c*d-o*h-a*u-A*l,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,n=t._y,s=t._z,r=t._order,o=Math.cos,a=Math.sin,A=o(i/2),c=o(n/2),h=o(s/2),u=a(i/2),l=a(n/2),d=a(s/2);switch(r){case"XYZ":this._x=u*c*h+A*l*d,this._y=A*l*h-u*c*d,this._z=A*c*d+u*l*h,this._w=A*c*h-u*l*d;break;case"YXZ":this._x=u*c*h+A*l*d,this._y=A*l*h-u*c*d,this._z=A*c*d-u*l*h,this._w=A*c*h+u*l*d;break;case"ZXY":this._x=u*c*h-A*l*d,this._y=A*l*h+u*c*d,this._z=A*c*d+u*l*h,this._w=A*c*h-u*l*d;break;case"ZYX":this._x=u*c*h-A*l*d,this._y=A*l*h+u*c*d,this._z=A*c*d-u*l*h,this._w=A*c*h+u*l*d;break;case"YZX":this._x=u*c*h+A*l*d,this._y=A*l*h+u*c*d,this._z=A*c*d-u*l*h,this._w=A*c*h-u*l*d;break;case"XZY":this._x=u*c*h-A*l*d,this._y=A*l*h-u*c*d,this._z=A*c*d+u*l*h,this._w=A*c*h+u*l*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+r)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],n=e[4],s=e[8],r=e[1],o=e[5],a=e[9],A=e[2],c=e[6],h=e[10],u=i+o+h;if(u>0){const t=.5/Math.sqrt(u+1);this._w=.25/t,this._x=(c-a)*t,this._y=(s-A)*t,this._z=(r-n)*t}else if(i>o&&i>h){const t=2*Math.sqrt(1+i-o-h);this._w=(c-a)/t,this._x=.25*t,this._y=(n+r)/t,this._z=(s+A)/t}else if(o>h){const t=2*Math.sqrt(1+o-i-h);this._w=(s-A)/t,this._x=(n+r)/t,this._y=.25*t,this._z=(a+c)/t}else{const t=2*Math.sqrt(1+h-i-o);this._w=(r-n)/t,this._x=(s+A)/t,this._y=(a+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(m.clamp(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const n=Math.min(1,e/i);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}inverse(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,n=t._y,s=t._z,r=t._w,o=e._x,a=e._y,A=e._z,c=e._w;return this._x=i*c+r*o+n*A-s*a,this._y=n*c+r*a+s*o-i*A,this._z=s*c+r*A+i*a-n*o,this._w=r*c-i*o-n*a-s*A,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,n=this._y,s=this._z,r=this._w;let o=r*t._w+i*t._x+n*t._y+s*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=r,this._x=i,this._y=n,this._z=s,this;const a=1-o*o;if(a<=Number.EPSILON){const t=1-e;return this._w=t*r+e*this._w,this._x=t*i+e*this._x,this._y=t*n+e*this._y,this._z=t*s+e*this._z,this.normalize(),this._onChangeCallback(),this}const A=Math.sqrt(a),c=Math.atan2(A,o),h=Math.sin((1-e)*c)/A,u=Math.sin(e*c)/A;return this._w=r*h+this._w*u,this._x=i*h+this._x*u,this._y=n*h+this._y*u,this._z=s*h+this._z*u,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class _{constructor(t=0,e=0,i=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(b.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(b.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,n=this.z,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6]*n,this.y=s[1]*e+s[4]*i+s[7]*n,this.z=s[2]*e+s[5]*i+s[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,n=this.z,s=t.elements,r=1/(s[3]*e+s[7]*i+s[11]*n+s[15]);return this.x=(s[0]*e+s[4]*i+s[8]*n+s[12])*r,this.y=(s[1]*e+s[5]*i+s[9]*n+s[13])*r,this.z=(s[2]*e+s[6]*i+s[10]*n+s[14])*r,this}applyQuaternion(t){const e=this.x,i=this.y,n=this.z,s=t.x,r=t.y,o=t.z,a=t.w,A=a*e+r*n-o*i,c=a*i+o*e-s*n,h=a*n+s*i-r*e,u=-s*e-r*i-o*n;return this.x=A*a+u*-s+c*-o-h*-r,this.y=c*a+u*-r+h*-s-A*-o,this.z=h*a+u*-o+A*-r-c*-s,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,n=this.z,s=t.elements;return this.x=s[0]*e+s[4]*i+s[8]*n,this.y=s[1]*e+s[5]*i+s[9]*n,this.z=s[2]*e+s[6]*i+s[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,n=t.y,s=t.z,r=e.x,o=e.y,a=e.z;return this.x=n*a-s*o,this.y=s*r-i*a,this.z=i*o-n*r,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return D.copy(this).projectOnVector(t),this.sub(D)}reflect(t){return this.sub(D.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(m.clamp(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const n=Math.sin(e)*t;return this.x=n*Math.sin(i),this.y=Math.cos(e)*t,this.z=n*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const D=new _,b=new w;function P(t,e,i,n){const s=e.dot(i),r=Math.acos(s);if(0!==r){const s=Math.sin(r),o=Math.sin((1-n)*r)/s,a=Math.sin(n*r)/s;t.x=o*e.x+a*i.x,t.y=o*e.y+a*i.y,t.x=o*e.z+a*i.z}}class C{constructor(){this.t=0,this.p=new _,this.f=new _,this.f.set(0,0,-1),this.u=new _,this.u.set(0,1,0),Object.seal(this)}set(t,e,i,n,s,r,o,a,A){this.p.set(t,e,i),this.f.set(n,s,r),this.u.set(o,a,A)}copy(t){this.p.copy(t.p),this.f.copy(t.f),this.u.copy(t.u)}interpolate(t,e,i){if(i<=t.t)this.copy(t);else if(e.t<=i)this.copy(e);else if(t.t<i){const n=function(t,e,i){const n=i-e;return 0===n?0:(t-e)/n}(i,t.t,e.t);this.p.copy(t.p),this.p.lerp(e.p,n),P(this.f,t.f,e.f,n),P(this.u,t.u,e.u,n),this.t=i}}}class M{constructor(){this.start=new C,this.current=new C,this.end=new C,Object.seal(this)}setTarget(t,e,i,n,s,r,o,a,A,c,h){this.end.set(t,e,i,n,s,r,o,a,A),this.end.t=c+h,h<=0?(this.start.copy(this.end),this.start.t=c,this.current.copy(this.end),this.current.t=c):(this.start.copy(this.current),this.start.t=c)}setTargetPosition(t,e,i,n,s){this.setTarget(t,e,i,this.end.f.x,this.end.f.y,this.end.f.z,this.end.u.x,this.end.u.y,this.end.u.z,n,s)}setTargetOrientation(t,e,i,n,s,r,o,a){this.setTarget(this.end.p.x,this.end.p.y,this.end.p.z,t,e,i,n,s,r,o,a)}update(t){this.current.interpolate(this.start,this.end,t)}}class E{constructor(){this.pose=new M,this.tracks=new Map,this._spatializer=null}get spatializer(){return this._spatializer}set spatializer(t){this.spatializer!==t&&(this._spatializer&&this._spatializer.dispose(),this._spatializer=t)}dispose(){this.spatializer=null}update(t){this.pose.update(t),this.spatializer&&this.spatializer.update(this.pose.current)}}class B{constructor(){this._t=performance.now()/1e3,Object.seal(this)}get currentTime(){return performance.now()/1e3-this._t}get destination(){return null}}const O=HTMLAudioElement.prototype.setSinkId instanceof Function;class T extends a{constructor(){super(),this.minDistance=1,this.minDistanceSq=1,this.maxDistance=10,this.maxDistanceSq=100,this.rolloff=1,this.transitionTime=.5}setAudioProperties(t,e,i,n){this.minDistance=t,this.maxDistance=e,this.transitionTime=n,this.rolloff=i}dispose(){}update(t){}}class I extends T{constructor(t,e,i,n){if(super(),this.id=t,this.audio=null,this.stream=null,this.source=null,this.volume=1,e instanceof HTMLAudioElement)this.audio=e,this.source=i.createMediaElementSource(this.audio),this.source.connect(n);else if(e instanceof MediaStream){this.stream=e,this.audio=document.createElement("audio"),this.audio.srcObject=this.stream;const t=()=>{this.stream.active?(this.source=i.createMediaStreamSource(this.stream),this.source.connect(n)):setTimeout(t,0)};setTimeout(t,0)}else if(null!==e)throw new Error("Can't create a node from the given stream. Expected type HTMLAudioElement or MediaStream.");this.audio.playsInline=!0}async play(){this.audio&&await this.audio.play()}stop(){this.audio&&this.audio.pause()}dispose(){this.source&&(this.source.disconnect(),this.source=null),this.audio&&(this.audio.pause(),this.audio=null),this.stream=null,super.dispose()}setAudioOutputDevice(t){this.audio&&O&&this.audio.setSinkId(t)}}class Q extends I{constructor(t,e,i,n){super(t,e,i,n),this.inNode=n,this.inNode.connect(i.destination)}dispose(){this.inNode&&(this.inNode.disconnect(),this.inNode=null),super.dispose()}}class S extends Q{constructor(t,e,i){const n=i.createPanner();super(t,e,i,n),this.inNode.panningModel="HRTF",this.inNode.distanceModel="inverse",this.inNode.coneInnerAngle=360,this.inNode.coneOuterAngle=0,this.inNode.coneOuterGain=0}update(t){super.update(t),this.inNode.refDistance=this.minDistance,this.inNode.rolloffFactor=this.rolloff}}class k extends S{constructor(t,e,i){super(t,e,i),Object.seal(this)}update(t){super.update(t);const{p:e,f:i}=t;this.inNode.positionX.setValueAtTime(e.x,0),this.inNode.positionY.setValueAtTime(e.y,0),this.inNode.positionZ.setValueAtTime(e.z,0),this.inNode.orientationX.setValueAtTime(i.x,0),this.inNode.orientationY.setValueAtTime(i.y,0),this.inNode.orientationZ.setValueAtTime(i.z,0)}}class L extends I{constructor(t,e,i){super(t,e,i,i.destination)}}class N extends T{constructor(){super()}createSource(t,e,i,n){if(i)throw new Error("Calla no longer supports manual volume scaling");return new L(t,e,n)}}class R extends N{constructor(t){super(),this.node=t}dispose(){this.node=null,super.dispose()}}class j extends R{constructor(t){super(t),Object.seal(this)}update(t){super.update(t);const{p:e,f:i,u:n}=t;this.node.positionX.setValueAtTime(e.x,0),this.node.positionY.setValueAtTime(e.y,0),this.node.positionZ.setValueAtTime(e.z,0),this.node.forwardX.setValueAtTime(i.x,0),this.node.forwardY.setValueAtTime(i.y,0),this.node.forwardZ.setValueAtTime(i.z,0),this.node.upX.setValueAtTime(n.x,0),this.node.upY.setValueAtTime(n.y,0),this.node.upZ.setValueAtTime(n.z,0)}createSource(t,e,i,n){return i?new k(t,e,n):super.createSource(t,e,i,n)}}class F extends S{constructor(t,e,i){super(t,e,i),Object.seal(this)}update(t){super.update(t);const{p:e,f:i}=t;this.inNode.setPosition(e.x,e.y,e.z),this.inNode.setOrientation(i.x,i.y,i.z)}}class H extends R{constructor(t){super(t),Object.seal(this)}update(t){super.update(t);const{p:e,f:i,u:n}=t;this.node.setPosition(e.x,e.y,e.z),this.node.setOrientation(i.x,i.y,i.z,n.x,n.y,n.z)}createSource(t,e,i,n){return i?new F(t,e,n):super.createSource(t,e,i,n)}}
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(){const t=`[Omnitone] ${Array.prototype.slice.call(arguments).join(" ")} (${performance.now().toFixed(2)}ms)`;window.console.log(t)}function G(){const t=`[Omnitone] ${Array.prototype.slice.call(arguments).join(" ")} (${performance.now().toFixed(2)}ms)`;throw window.console.error(t),new Error(t)}function q(t){return t instanceof AudioContext||t instanceof OfflineAudioContext}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Y={BASE64:"base64",URL:"url"};class X{constructor(t,e,i){q(t)||G("BufferList: Invalid BaseAudioContext."),this._context=t,this._options={dataType:Y.BASE64,verbose:!1},i&&(i.dataType&&function(t,e){for(let i in t)if(e===t[i])return!0;return!1}(Y,i.dataType)&&(this._options.dataType=i.dataType),i.verbose&&(this._options.verbose=Boolean(i.verbose))),this._bufferData=this._options.dataType===Y.BASE64?e:e.slice(0)}async load(){try{const t=this._bufferData.map((t,e)=>this._launchAsyncLoadTask(t,e)),e=await Promise.all(t);return U("BufferList: "+(this._options.dataType===Y.BASE64?this._bufferData.length+" AudioBuffers from Base64-encoded HRIRs":this._bufferData.length+" files via XHR")+" loaded successfully."),e}catch(t){G('BufferList: error while loading "'+bData+'". ('+t.message+")")}}async _launchAsyncLoadTask(t,e){const i=await this._fetch(t),n=await this._context.decodeAudioData(i);return U("BufferList: "+(this._options.dataType===Y.BASE64?"ArrayBuffer("+e+") from Base64-encoded HRIR":'"'+t+'"')+" successfully loaded."),n}async _fetch(t){if(this._options.dataType===Y.BASE64)return function(t){const e=window.atob(t),i=new Uint8Array(e.length);return i.forEach((t,n)=>i[n]=e.charCodeAt(n)),i.buffer}(t);{const e=await fetch(t);return await e.arrayBuffer()}}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t,e){this._context=t,this._active=!1,this._isBufferLoaded=!1,this._buildAudioGraph(),e&&this.setHRIRBufferList(e),this.enable()}_buildAudioGraph(){this._splitterWYZX=this._context.createChannelSplitter(4),this._mergerWY=this._context.createChannelMerger(2),this._mergerZX=this._context.createChannelMerger(2),this._convolverWY=this._context.createConvolver(),this._convolverZX=this._context.createConvolver(),this._splitterWY=this._context.createChannelSplitter(2),this._splitterZX=this._context.createChannelSplitter(2),this._inverter=this._context.createGain(),this._mergerBinaural=this._context.createChannelMerger(2),this._summingBus=this._context.createGain(),this._splitterWYZX.connect(this._mergerWY,0,0),this._splitterWYZX.connect(this._mergerWY,1,1),this._splitterWYZX.connect(this._mergerZX,2,0),this._splitterWYZX.connect(this._mergerZX,3,1),this._mergerWY.connect(this._convolverWY),this._mergerZX.connect(this._convolverZX),this._convolverWY.connect(this._splitterWY),this._convolverZX.connect(this._splitterZX),this._splitterWY.connect(this._mergerBinaural,0,0),this._splitterWY.connect(this._mergerBinaural,0,1),this._splitterWY.connect(this._mergerBinaural,1,0),this._splitterWY.connect(this._inverter,1,0),this._inverter.connect(this._mergerBinaural,0,1),this._splitterZX.connect(this._mergerBinaural,0,0),this._splitterZX.connect(this._mergerBinaural,0,1),this._splitterZX.connect(this._mergerBinaural,1,0),this._splitterZX.connect(this._mergerBinaural,1,1),this._convolverWY.normalize=!1,this._convolverZX.normalize=!1,this._inverter.gain.value=-1,this.input=this._splitterWYZX,this.output=this._summingBus}dispose(){this._active&&this.disable(),this._splitterWYZX.disconnect(this._mergerWY,0,0),this._splitterWYZX.disconnect(this._mergerWY,1,1),this._splitterWYZX.disconnect(this._mergerZX,2,0),this._splitterWYZX.disconnect(this._mergerZX,3,1),this._mergerWY.disconnect(this._convolverWY),this._mergerZX.disconnect(this._convolverZX),this._convolverWY.disconnect(this._splitterWY),this._convolverZX.disconnect(this._splitterZX),this._splitterWY.disconnect(this._mergerBinaural,0,0),this._splitterWY.disconnect(this._mergerBinaural,0,1),this._splitterWY.disconnect(this._mergerBinaural,1,0),this._splitterWY.disconnect(this._inverter,1,0),this._inverter.disconnect(this._mergerBinaural,0,1),this._splitterZX.disconnect(this._mergerBinaural,0,0),this._splitterZX.disconnect(this._mergerBinaural,0,1),this._splitterZX.disconnect(this._mergerBinaural,1,0),this._splitterZX.disconnect(this._mergerBinaural,1,1)}setHRIRBufferList(t){this._isBufferLoaded||(this._convolverWY.buffer=t[0],this._convolverZX.buffer=t[1],this._isBufferLoaded=!0)}enable(){this._mergerBinaural.connect(this._summingBus),this._active=!0}disable(){this._mergerBinaural.disconnect(),this._active=!1}}const Z=["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"];
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(t){this._context=t,this._splitter=this._context.createChannelSplitter(4),this._inX=this._context.createGain(),this._inY=this._context.createGain(),this._inZ=this._context.createGain(),this._m0=this._context.createGain(),this._m1=this._context.createGain(),this._m2=this._context.createGain(),this._m3=this._context.createGain(),this._m4=this._context.createGain(),this._m5=this._context.createGain(),this._m6=this._context.createGain(),this._m7=this._context.createGain(),this._m8=this._context.createGain(),this._outX=this._context.createGain(),this._outY=this._context.createGain(),this._outZ=this._context.createGain(),this._merger=this._context.createChannelMerger(4),this._splitter.connect(this._inX,1),this._splitter.connect(this._inY,2),this._splitter.connect(this._inZ,3),this._inX.gain.value=-1,this._inY.gain.value=-1,this._inZ.gain.value=-1,this._inX.connect(this._m0),this._inX.connect(this._m1),this._inX.connect(this._m2),this._inY.connect(this._m3),this._inY.connect(this._m4),this._inY.connect(this._m5),this._inZ.connect(this._m6),this._inZ.connect(this._m7),this._inZ.connect(this._m8),this._m0.connect(this._outX),this._m1.connect(this._outY),this._m2.connect(this._outZ),this._m3.connect(this._outX),this._m4.connect(this._outY),this._m5.connect(this._outZ),this._m6.connect(this._outX),this._m7.connect(this._outY),this._m8.connect(this._outZ),this._splitter.connect(this._merger,0,0),this._outX.connect(this._merger,0,1),this._outY.connect(this._merger,0,2),this._outZ.connect(this._merger,0,3),this._outX.gain.value=-1,this._outY.gain.value=-1,this._outZ.gain.value=-1,this.setRotationMatrix3(new Float32Array([1,0,0,0,1,0,0,0,1])),this.input=this._splitter,this.output=this._merger}dispose(){this._splitter.disconnect(this._inX,1),this._splitter.disconnect(this._inY,2),this._splitter.disconnect(this._inZ,3),this._inX.disconnect(this._m0),this._inX.disconnect(this._m1),this._inX.disconnect(this._m2),this._inY.disconnect(this._m3),this._inY.disconnect(this._m4),this._inY.disconnect(this._m5),this._inZ.disconnect(this._m6),this._inZ.disconnect(this._m7),this._inZ.disconnect(this._m8),this._m0.disconnect(this._outX),this._m1.disconnect(this._outY),this._m2.disconnect(this._outZ),this._m3.disconnect(this._outX),this._m4.disconnect(this._outY),this._m5.disconnect(this._outZ),this._m6.disconnect(this._outX),this._m7.disconnect(this._outY),this._m8.disconnect(this._outZ),this._splitter.disconnect(this._merger,0,0),this._outX.disconnect(this._merger,0,1),this._outY.disconnect(this._merger,0,2),this._outZ.disconnect(this._merger,0,3)}setRotationMatrix3(t){this._m0.gain.value=t[0],this._m1.gain.value=t[1],this._m2.gain.value=t[2],this._m3.gain.value=t[3],this._m4.gain.value=t[4],this._m5.gain.value=t[5],this._m6.gain.value=t[6],this._m7.gain.value=t[7],this._m8.gain.value=t[8]}setRotationMatrix4(t){this._m0.gain.value=t[0],this._m1.gain.value=t[1],this._m2.gain.value=t[2],this._m3.gain.value=t[4],this._m4.gain.value=t[5],this._m5.gain.value=t[6],this._m6.gain.value=t[8],this._m7.gain.value=t[9],this._m8.gain.value=t[10]}getRotationMatrix3(){const t=new Float32Array(9);return t[0]=this._m0.gain.value,t[1]=this._m1.gain.value,t[2]=this._m2.gain.value,t[3]=this._m3.gain.value,t[4]=this._m4.gain.value,t[5]=this._m5.gain.value,t[6]=this._m6.gain.value,t[7]=this._m7.gain.value,t[8]=this._m8.gain.value,t}getRotationMatrix4(){const t=new Float32Array(16);return t[0]=this._m0.gain.value,t[1]=this._m1.gain.value,t[2]=this._m2.gain.value,t[4]=this._m3.gain.value,t[5]=this._m4.gain.value,t[6]=this._m5.gain.value,t[8]=this._m6.gain.value,t[9]=this._m7.gain.value,t[10]=this._m8.gain.value,t}}
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={DEFAULT:[0,1,2,3],SAFARI:[2,0,1,3],FUMA:[0,3,1,2]};class K{constructor(t,e){this._context=t,this._splitter=this._context.createChannelSplitter(4),this._merger=this._context.createChannelMerger(4),this.input=this._splitter,this.output=this._merger,this.setChannelMap(e||J.DEFAULT)}setChannelMap(t){Array.isArray(t)&&(this._channelMap=t,this._splitter.disconnect(),this._splitter.connect(this._merger,0,this._channelMap[0]),this._splitter.connect(this._merger,1,this._channelMap[1]),this._splitter.connect(this._merger,2,this._channelMap[2]),this._splitter.connect(this._merger,3,this._channelMap[3]))}dipose(){this._splitter.disconnect(this._merger,0,this._channelMap[0]),this._splitter.disconnect(this._merger,1,this._channelMap[1]),this._splitter.disconnect(this._merger,2,this._channelMap[2]),this._splitter.disconnect(this._merger,3,this._channelMap[3])}}K.ChannelMap=J;var $=Object.freeze({AMBISONIC:"ambisonic",BYPASS:"bypass",OFF:"off"});
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t,e){q(t)||G("FOARenderer: Invalid BaseAudioContext."),this._context=t,this._config={channelMap:K.ChannelMap.DEFAULT,renderingMode:$.AMBISONIC},e&&(e.channelMap&&(Array.isArray(e.channelMap)&&4===e.channelMap.length?this._config.channelMap=e.channelMap:G("FOARenderer: Invalid channel map. (got "+e.channelMap+")")),e.hrirPathList&&(Array.isArray(e.hrirPathList)&&2===e.hrirPathList.length?this._config.pathList=e.hrirPathList:G("FOARenderer: Invalid HRIR URLs. It must be an array with 2 URLs to HRIR files. (got "+e.hrirPathList+")")),e.renderingMode&&(Object.values($).includes(e.renderingMode)?this._config.renderingMode=e.renderingMode:U("FOARenderer: Invalid rendering mode order. (got"+e.renderingMode+') Fallbacks to the mode "ambisonic".'))),this._buildAudioGraph(),this._tempMatrix4=new Float32Array(16)}_buildAudioGraph(){this.input=this._context.createGain(),this.output=this._context.createGain(),this._bypass=this._context.createGain(),this._foaRouter=new K(this._context,this._config.channelMap),this._foaRotator=new V(this._context),this._foaConvolver=new W(this._context),this.input.connect(this._foaRouter.input),this.input.connect(this._bypass),this._foaRouter.output.connect(this._foaRotator.input),this._foaRotator.output.connect(this._foaConvolver.input),this._foaConvolver.output.connect(this.output),this.input.channelCount=4,this.input.channelCountMode="explicit",this.input.channelInterpretation="discrete"}dipose(){mode===$.BYPASS&&this._bypass.connect(this.output),this.input.disconnect(this._foaRouter.input),this.input.disconnect(this._bypass),this._foaRouter.output.disconnect(this._foaRotator.input),this._foaRotator.output.disconnect(this._foaConvolver.input),this._foaConvolver.output.disconnect(this.output),this._foaConvolver.dispose(),this._foaRotator.dispose(),this._foaRouter.dipose()}async initialize(){U("FOARenderer: Initializing... (mode: "+this._config.renderingMode+")");const t=this._config.pathList?new X(this._context,this._config.pathList,{dataType:"url"}):new X(this._context,Z);try{const e=await t.load();this._foaConvolver.setHRIRBufferList(e),this.setRenderingMode(this._config.renderingMode),U("FOARenderer: HRIRs loaded successfully. Ready.")}catch(t){G("FOARenderer: HRIR loading/decoding failed. Reason: "+t.message)}}setChannelMap(t){t.toString()!==this._config.channelMap.toString()&&(U("Remapping channels (["+this._config.channelMap.toString()+"] -> ["+t.toString()+"])."),this._config.channelMap=t.slice(),this._foaRouter.setChannelMap(this._config.channelMap))}setRotationMatrix3(t){this._foaRotator.setRotationMatrix3(t)}setRotationMatrix4(t){this._foaRotator.setRotationMatrix4(t)}getRenderingMode(){return this._config.renderingMode}setRenderingMode(t){if(t!==this._config.renderingMode){switch(t){case $.AMBISONIC:this._foaConvolver.enable(),this._bypass.disconnect();break;case $.BYPASS:this._foaConvolver.disable(),this._bypass.connect(this.output);break;case $.OFF:this._foaConvolver.disable(),this._bypass.disconnect();break;default:return void U('FOARenderer: Rendering mode "'+t+'" is not supported.')}this._config.renderingMode=t,U("FOARenderer: Rendering mode changed. ("+t+")")}}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t,e,i){this._context=t,this._active=!1,this._isBufferLoaded=!1,this._ambisonicOrder=e,this._numberOfChannels=(this._ambisonicOrder+1)*(this._ambisonicOrder+1),this._buildAudioGraph(),i&&this.setHRIRBufferList(i),this.enable()}_buildAudioGraph(){const t=Math.ceil(this._numberOfChannels/2);this._inputSplitter=this._context.createChannelSplitter(this._numberOfChannels),this._stereoMergers=[],this._convolvers=[],this._stereoSplitters=[],this._positiveIndexSphericalHarmonics=this._context.createGain(),this._negativeIndexSphericalHarmonics=this._context.createGain(),this._inverter=this._context.createGain(),this._binauralMerger=this._context.createChannelMerger(2),this._outputGain=this._context.createGain();for(let e=0;e<t;++e)this._stereoMergers[e]=this._context.createChannelMerger(2),this._convolvers[e]=this._context.createConvolver(),this._stereoSplitters[e]=this._context.createChannelSplitter(2),this._convolvers[e].normalize=!1;for(let t=0;t<=this._ambisonicOrder;++t)for(let e=-t;e<=t;e++){const i=t*t+t+e,n=Math.floor(i/2);this._inputSplitter.connect(this._stereoMergers[n],i,i%2),this._stereoMergers[n].connect(this._convolvers[n]),this._convolvers[n].connect(this._stereoSplitters[n]),e>=0?this._stereoSplitters[n].connect(this._positiveIndexSphericalHarmonics,i%2):this._stereoSplitters[n].connect(this._negativeIndexSphericalHarmonics,i%2)}this._positiveIndexSphericalHarmonics.connect(this._binauralMerger,0,0),this._positiveIndexSphericalHarmonics.connect(this._binauralMerger,0,1),this._negativeIndexSphericalHarmonics.connect(this._binauralMerger,0,0),this._negativeIndexSphericalHarmonics.connect(this._inverter),this._inverter.connect(this._binauralMerger,0,1),this._inverter.gain.value=-1,this.input=this._inputSplitter,this.output=this._outputGain}dispose(){this._active&&this.disable();for(let t=0;t<=this._ambisonicOrder;++t)for(let e=-t;e<=t;e++){const i=t*t+t+e,n=Math.floor(i/2);this._inputSplitter.disconnect(this._stereoMergers[n],i,i%2),this._stereoMergers[n].disconnect(this._convolvers[n]),this._convolvers[n].disconnect(this._stereoSplitters[n]),e>=0?this._stereoSplitters[n].disconnect(this._positiveIndexSphericalHarmonics,i%2):this._stereoSplitters[n].disconnect(this._negativeIndexSphericalHarmonics,i%2)}this._positiveIndexSphericalHarmonics.disconnect(this._binauralMerger,0,0),this._positiveIndexSphericalHarmonics.disconnect(this._binauralMerger,0,1),this._negativeIndexSphericalHarmonics.disconnect(this._binauralMerger,0,0),this._negativeIndexSphericalHarmonics.disconnect(this._inverter),this._inverter.disconnect(this._binauralMerger,0,1)}setHRIRBufferList(t){if(!this._isBufferLoaded){for(let e=0;e<t.length;++e)this._convolvers[e].buffer=t[e];this._isBufferLoaded=!0}}enable(){this._binauralMerger.connect(this._outputGain),this._active=!0}disable(){this._binauralMerger.disconnect(),this._active=!1}}
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){return t===e?1:0}function nt(t,e,i){return(i+t)*(2*t+1)+(e+t)}function st(t,e,i,n,s){const r=nt(e,i,n);t[e-1][r].gain.value=s}function rt(t,e,i,n){const s=nt(e,i,n);return t[e-1][s].gain.value}function ot(t,e,i,n,s){return n===s?rt(t,1,e,1)*rt(t,s-1,i,s-1)-rt(t,1,e,-1)*rt(t,s-1,i,1-s):n===-s?rt(t,1,e,1)*rt(t,s-1,i,1-s)+rt(t,1,e,-1)*rt(t,s-1,i,s-1):rt(t,1,e,0)*rt(t,s-1,i,n)}function at(t,e,i,n){return ot(t,0,e,i,n)}function At(t,e,i,n){if(0===e)return ot(t,1,1,i,n)+ot(t,-1,-1,i,n);if(e>0){const s=it(e,1);return ot(t,1,e-1,i,n)*Math.sqrt(1+s)-ot(t,-1,1-e,i,n)*(1-s)}{const s=it(e,-1);return ot(t,1,e+1,i,n)*(1-s)+ot(t,-1,-e-1,i,n)*Math.sqrt(1+s)}}function ct(t,e,i,n){return 0===e?0:e>0?ot(t,1,e+1,i,n)+ot(t,-1,-e-1,i,n):ot(t,1,e-1,i,n)-ot(t,-1,1-e,i,n)}function ht(t,e,i){const n=it(t,0),s=Math.abs(e)===i?1/(2*i*(2*i-1)):1/((i+e)*(i-e));return[Math.sqrt((i+t)*(i-t)*s),.5*(1-2*n)*Math.sqrt((1+n)*(i+Math.abs(t)-1)*(i+Math.abs(t))*s),-.5*(1-n)*Math.sqrt((i-Math.abs(t)-1)*(i-Math.abs(t)))*s]}function ut(t,e){for(let i=-e;i<=e;i++)for(let n=-e;n<=e;n++){const s=ht(i,n,e);Math.abs(s[0])>0&&(s[0]*=at(t,i,n,e)),Math.abs(s[1])>0&&(s[1]*=At(t,i,n,e)),Math.abs(s[2])>0&&(s[2]*=ct(t,i,n,e)),st(t,e,i,n,s[0]+s[1]+s[2])}}function lt(t){for(let e=2;e<=t.length;e++)ut(t,e)}class dt{constructor(t,e){this._context=t,this._ambisonicOrder=e;const i=(e+1)*(e+1);this._splitter=this._context.createChannelSplitter(i),this._merger=this._context.createChannelMerger(i),this._gainNodeMatrix=[];for(let t=1;t<=e;t++){const e=t*t,i=2*t+1;this._gainNodeMatrix[t-1]=[];for(let n=0;n<i;n++){const s=e+n;for(let r=0;r<i;r++){const o=e+r,a=n*i+r;this._gainNodeMatrix[t-1][a]=this._context.createGain(),this._splitter.connect(this._gainNodeMatrix[t-1][a],s),this._gainNodeMatrix[t-1][a].connect(this._merger,0,o)}}}this._splitter.connect(this._merger,0,0),this.setRotationMatrix3(new Float32Array([1,0,0,0,1,0,0,0,1])),this.input=this._splitter,this.output=this._merger}dispose(){for(let t=1;t<=ambisonicOrder;t++){const e=t*t,i=2*t+1;for(let n=0;n<i;n++){const s=e+n;for(let r=0;r<i;r++){const o=e+r,a=n*i+r;this._splitter.disconnect(this._gainNodeMatrix[t-1][a],s),this._gainNodeMatrix[t-1][a].disconnect(this._merger,0,o)}}}this._splitter.disconnect(this._merger,0,0)}setRotationMatrix3(t){this._gainNodeMatrix[0][0].gain.value=t[0],this._gainNodeMatrix[0][1].gain.value=t[1],this._gainNodeMatrix[0][2].gain.value=t[2],this._gainNodeMatrix[0][3].gain.value=t[3],this._gainNodeMatrix[0][4].gain.value=t[4],this._gainNodeMatrix[0][5].gain.value=t[5],this._gainNodeMatrix[0][6].gain.value=t[6],this._gainNodeMatrix[0][7].gain.value=t[7],this._gainNodeMatrix[0][8].gain.value=t[8],lt(this._gainNodeMatrix)}setRotationMatrix4(t){this._gainNodeMatrix[0][0].gain.value=t[0],this._gainNodeMatrix[0][1].gain.value=t[1],this._gainNodeMatrix[0][2].gain.value=t[2],this._gainNodeMatrix[0][3].gain.value=t[4],this._gainNodeMatrix[0][4].gain.value=t[5],this._gainNodeMatrix[0][5].gain.value=t[6],this._gainNodeMatrix[0][6].gain.value=t[8],this._gainNodeMatrix[0][7].gain.value=t[9],this._gainNodeMatrix[0][8].gain.value=t[10],lt(this._gainNodeMatrix)}getRotationMatrix3(){const t=new Float32Array(9);return t[0]=this._gainNodeMatrix[0][0].gain.value,t[1]=this._gainNodeMatrix[0][1].gain.value,t[2]=this._gainNodeMatrix[0][2].gain.value,t[3]=this._gainNodeMatrix[0][3].gain.value,t[4]=this._gainNodeMatrix[0][4].gain.value,t[5]=this._gainNodeMatrix[0][5].gain.value,t[6]=this._gainNodeMatrix[0][6].gain.value,t[7]=this._gainNodeMatrix[0][7].gain.value,t[8]=this._gainNodeMatrix[0][8].gain.value,t}getRotationMatrix4(){const t=new Float32Array(16);return t[0]=this._gainNodeMatrix[0][0].gain.value,t[1]=this._gainNodeMatrix[0][1].gain.value,t[2]=this._gainNodeMatrix[0][2].gain.value,t[4]=this._gainNodeMatrix[0][3].gain.value,t[5]=this._gainNodeMatrix[0][4].gain.value,t[6]=this._gainNodeMatrix[0][5].gain.value,t[8]=this._gainNodeMatrix[0][6].gain.value,t[9]=this._gainNodeMatrix[0][7].gain.value,t[10]=this._gainNodeMatrix[0][8].gain.value,t}getAmbisonicOrder(){return this._ambisonicOrder}}const ft=["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AAD7/wEAAgD7//7/AQD8/wAAAwD8//3/AwD9/wAAAgD9//z/AwD/////AgD+//z/AwAAAP7/AQD///3/AgABAP3/AAAAAP3/AgACAPz///8BAP3/AQACAP3//v8BAP7/AAABAP3//v8CAP7///8BAP7//f8CAP////8AAAAA/v8CAAAAAAAAAAAA/v8BAAAAAAD//wAA//8AAP//AAD//wAA//8AAP//","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAP//AAD//wAA//8AAAAA/////wAAAQD+////AAAGAP3/OAABAIIAAwBv//f/E/0QAK0ADQCzA/7/8P4u/0cBDQCJA6ABbQDg/w7/z/9o+Vn/SPnL/1//Ef+2+jr9RfZgA5QFZwILDFj+PAb2/nEFKgKk/R0Dlv6b/FUDsP6YAoj9SgAT/iL/tAPwAv8A0P6zAr7/dwAnAf39uP22/skA2v///2YCoP4UAUsAZgF2AJH+4P70/rz9+f+U/Xv/8v7CAcb+TACS/kwAv/+x/tX9oP71/oL/1f8nAEUAZwGtAAgAIgC/AD4BaP8GAGH/dQDF/64Arf8nAakAhAH9/+kAQQD3AFb/q/8p/yIAR/8FAPD/ZAA/AIYA3v8tADQADQBp/3f/CwABAP3/Wf8OANj/WwDH/xoAe/8DAKz/zv96/z8A3f/J/5X/IAD5//j/q//c/+//RADq//D/vv8pADUAFQDI/y8ACAAbANb/OwD3/+3/9f/e/wcAIAAeAMH/8/8xAC0AEADW/+3/HAADAPv/8P8DAOL/OwD3/xcACQAHAM//5f8XAAcAz//T/9D/HgD9////yf/e//v/AgD//9H/6/////H/+/8hAAIA9//7/w0AFgAQAPL/2v/8/xsAGQABANz/9P8YAAQA/v/y/wMA5v8YAAkAAAAAAAMA7/8KABgADwDs//j/BwATABsA8P/1//z/BAAMAAAA9P/s/xAA/v8GAAkA/v/p/wMACwALAP7/9P/p/wcADQAFAPb/7//4/w0ACAD8//b//v/1/wMACwD1//T/8P/8/wAACQDz/+f/5P8GAAkABQD5//D/+v8FAA0AAwD///T/AgACABAA/v8CAPD/+/8FAAoA9f/3//f//v8GAP7/9v/t//z/+f8AAPj/+v/3/wEA+v8HAPr//P/5/wQA//8DAPr/+P/3/wYA///+//X/+//5/wQA/f/7//X/+//4/wMA/f/8//j//v/9/wYA///8//f/AgAAAAUA/f/6//n/AwACAAIA/f/7//z/AwACAAAA/f/6//3/AgADAP7//f/7/wAAAwAFAPz////8/wMAAgAEAPv//v/+/wMAAgADAPv//v///wMAAQABAPv//f8AAAIAAAD///v//f8BAAIA///+//z//v8CAAIA/v/9//3///8CAAEA/v/9//7/AAACAAAA/v/9////AAABAAAA/f/9/wAAAQABAP///f/+/wEAAQAAAP///v/+/wEAAQD///7//v///wEAAQD///7//v///wEAAAD+//7///8AAAAAAAD+//7///8AAAAA///+//7///8AAAAA////////AAAAAP////////////8AAP//////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAAAAAAABAAAAAAD//////////////v////3/////////+//8////AQD9//z/9f8BAAIA+f8dACgAWQBxAJX/qv+Y/uz9aP9k/7UDUQQBAiQA4Pgi/AkB0gKaBsD/+fxp/vz9CQSp/I/+ywDO+vMD0fzK/PABcgBeBfoBv/+uAuH9Sf5gAy39awMmBWUBuP9fA9/9fgDj/2/+EACaACcCSv9Z/2j/rv7hAA0AWf55/7L84P7E/SIAT/67AMv/tf+FAA7/1v+7/gv/IP+E/sQA+P5aAXz/tP9XAFX/tP8o/4r/j//e/yQAMv9mAJT/rgCr/9X/EwCb//H/9f7F/6D/EAAoAK3//v+e/zsAh/+B/7r/if/C/2r/4P/z/6//HwCy/0IA7/9ZALT/y/80ACgA9v/J/9//DgA5ADUALQARADIACwAfAOf/NgArACMACQBBAEcAGAAjAC4AWQBUAHcAAAAfACEAIAAcAPj/CADk/yQA7v89AEEAFwD5/xYA6f8aAOX/AADF/zQADwAUAOT/BQDr/yUA6P8XAOf/HADR/0AA8P8nAAgACQDt/ycAKAAHAPH/IQDz/xsACADn//n/DgADAA4A8P///8z/GgDN/yMA/f8QANj/MwACAC0ACwAOAO3/JgAZAAUACgAAAA4AIgAaAAkADwACAAAAHQATAAUABQACAAgACwAjAO////8AAA8ABQAPAPL//f8GAAsABgAGAPD/8v8GAPz/CAD6//H/6v8PAAgABgD4//3/9v8aAAgABwD1//7//v8QAAoACAD//wUA9v8QAAoABAAFAAgAAgAJAAoAAwD//w0AAgD//wcA/v8DAAoABQAFABUABAAKAAYABwAHAA8ACgAGAAwADwAMAAkAEAAJAAgADwAMAAgADgAJAAUACQAPAAUACwAHAAEABgAIAAEABAAGAP//AgAJAAAAAgAEAP7///8IAAIA//8GAAEAAQAJAAIA/v8EAAMA//8JAAEA/v8DAAMA/v8HAAMA/f8BAAUA/v8FAAMA/v8BAAcA//8DAAMA/v8BAAYA//8CAAMA/////wcAAAAAAAMAAAD//wYAAQD+/wMAAQD//wUAAQD+/wIAAgD//wQAAgD+/wEAAwD//wMAAwD+/wEAAwD//wIAAwD//wEABAAAAAEABAD//wAABAABAAAAAwAAAAAABAABAP//AwABAAAAAwACAP//AgACAAAAAwACAP//AgACAAAAAgACAAAAAQADAAAAAQACAAAAAQADAAAAAQACAAAAAAACAAEAAAACAAEAAAACAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAAAAAAAAAAAAAAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAP//AAD//wAA//8AAAAA//8AAP//AAACAAAA+f8BAAYA///4/wIA//8AAA8A/v/V/wEAEwA9AAEBRwA2AF7/kfog/3gBwv99CDYBU/qtAUX/AP7OAfkAX/o9B38FSfwaAuT14/60BAr8CQAI/tfyIQTzAXP+egdUBBwBof7TBMT8bAWi/5EEWwBRAAAKyfxE/8b88vp6ACP+PAF4/qD8MQNM/ygCJ/2XAPD9kP5gAVT/iP9I/lEB4P8qAD0BFAGa/+7/DgB2AOP98gFm/u/+Vv5/AG8ASP9gAM//qv9w//oAcv+2/jIBHgA7/6D/oAAGAKH/lADT/wAAggC8AAYAkP9yAEcAkf8BAOD/RAAr/zUANwDt/xQAJQAkAMT/zwA/AOH/xv9zAGsANQBTAIcALAAvACIATACy/xMADADg/xcAWABvAJL/7f9VAPb/EgDt/wcA4f8kAPP/5P+h/wgACQDy//r/LgAQAMn/8/9CAOX/5v/S/9//3P8pABYAuP/s/w8AFgDt/+3/7v/w/9j/5/8GAOf/2P/2//P//v8kABMAuf/m/xoADADZ/+r/3P8KAAUAKwDe/wsA3P8VAAAADgAfAB0ACAAMAF4AGgAhAPL/MwDz/0kABAAKAPX/LwAbAAkA9v/s/+3/8/8CABAAAADm//n/BQALAAUAAQDj//n/JQAVAPX/9v/+/wIAEQABAPP/8P/1/wAABgD6/+3/7//o//j/DAD8/+b/8P8IAAkABgD4//D/8P8UAAoAAwD4/wAA+f8OAAcAAAAFAPX/9v8TAAkA8v8EAPb/9/8dAA0A7/8CAPn/+f8SAAQA8/8CAOf/+v8DAAgA9P////H//P8IAAUA8//0/wIAAQAGAAgA9//7/wAA+/8EAP//+P/+////AgACAAsA8v/+/wIABQD7/wgA9v/7/wMABAD5/wAA/P/3/wEAAQD7//7//P/1/wQA///3//r////3/wMAAwD1//r/AwD6////AgD4//n/AwD8//7/AgD4//n/AwD+//3/AQD4//n/BQD///n/AAD6//j/BAABAPj/AAD9//v/AwADAPj//v/+//z/AwAEAPj//v8BAP7/AQADAPj//f8CAP////8EAPr//P8DAAAA/v8CAPv//P8DAAEA/f8BAP3//f8DAAIA/P8AAP7//f8DAAIA/P///wAA/f8BAAIA+//+/wEA//8AAAEA+//+/wEA/////wEA/P/+/wEA///+/wAA/f/9/wEAAAD9/wAA/f/+/wEAAQD8/////v/+/wAAAQD8////////////AQD9////AAD/////AAD+////AAAAAP//AAD///////8AAP//AAD//wAA//8AAP//"],pt=["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/P////v//P8CAAQA+//+//3//f8CAAUA+v/9//////8AAAQA+v/8////AAD//wIA+//8/wAAAQD+/wEA+//8/wAAAgD9/////P/9/wEAAgD8//7//f/9/wAAAgD8//3//v/+////AQD8//z/////////AAD8//3///8AAP7/AAD9//7///8AAP7////+//////8AAP7////+////////////////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////v8AAP///////wAAAAAAAP7/AQABAAAABwD///X/BQAjAPL/CQDb/9D/GAAb/7sAYwCW/z0BcP/X/7T/2QDW+wH8yANCCCUJ5QT++UXmhPwhA78FuAxH+p78ifudBlAG9vmu/lAK2fdlB///cfjoCa0E7Akn9Yb/zvba+AkAHPywBGEBFwUNAL8AXAAGA20DFvmR/kz+F/06Ag/+GwHl/5EEKgJd/q0AP/ym/9n6EfxY/2H+/QFtAC4C6QBDAaMCo/20/+3/3f/p/fL9rv9V/6cBhQHuAX4AcwJYAaH/IP/P/gsApP0LAe7/sQBuAI0AAgGDAE4BzACe/5X//v+v/+f+Zf+gAOv/5QBhAOIApAANASYAuP+h/8b/HQBr/9//bACWAGEAFAB5AD0AWQDU/+D/Yf/p//D/s/+R/4QAMQBvABEAkQBfABQAJgDW/wwA8/8XALz/vf8zAFAAKwD1/zEAPwDJ/x0A7/8LAOX/FwDR//H/EQAdAO//6P8QAFEA2f8WABEAMgDy/xIA+f/s/xAALgDv////HQAvAPT/+f8iAAYAEgAFABoAGgD//w0A+f/0/xsAHgDx/9f/GAACAPH/8f8JAPf/GwALABEA7/8cAPT/CgD2//j/BQD8/+3/OgAgAAYA9f8PAN7/DgD9/9r/1//3/+3/9//1//b/8//5//f/AgAJAOf/+v8OAAMACwD9/+7/5f8eAAEA9//q//7/8P8WAP7/+//4/wIA+f8TAAIA9f/5/wcA+P8iAAgA9v/n/xoA//8gAAUABwDj/wAA9v8BAAUAFQDn/wMA7v8QABAAEQDm/wwA8f8aAAAABwDu/wcACgASAAEA7//w//f/BgARAAkA6P/3/wcADgAKAAYA4f/4/wYADgAAAPr/8P/9/xQACgAHAPn/7//9/xEAAgD+//L/8v/8/xUAAwDw//H/9f8CAAsA/v/q//L/+f8FAAYA/P/r//j///8GAAkA+//o//j/AQAIAP//+v/o//v/CAAIAPv/+P/w/wEACQAHAPj/+f/0/wIACwAFAPb/+f/4/wQACwACAPP/+f/+/wYACAD///L/+/8BAAYABQD9//P//P8FAAUAAgD7//T//f8HAAQA///7//f///8IAAMA/P/6//r/AQAIAAEA+v/6//3/AgAHAAAA+f/7/wAAAwAFAP7/+P/8/wIAAgACAP3/+f/9/wMAAwAAAPz/+v/+/wQAAgD+//z/+/8AAAQAAQD8//z//f8BAAQAAAD7//3///8BAAMA///7//3/AAACAAEA/v/7//7/AQABAAAA/v/9////AQAAAP///v/+////AAD/////////////////////////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD////////+//////8AAAAA/v/+/wAAAQD8//3/CQAJAP3/+v8PAAcApABlABkBkwCO/i//lfqa/HQAcf/3BdkCzwJcBCMC0wMN/9/9wgI7AaECYfxV/Tf83vhn/xrt8Owx/8n7cgHABYb43QcZDh4WugNrA7P74gHu/9z/zv0t/acCiQHY/iv4qQOl/ysCE/0//XT9Sf4O//j9xfupAn394gHO+rsCXAFIAxQC9wIXBgcD2AQuAnb/9gJh/6wAVfxEAI4Bvf7oAFv/bALsAMQBe/88/joAT/4dAH39/v9LAXn/gwDI//QBdABcAA0A7f4lAMn///+9/tv/iABp/13/pP/dALv/w/8MAHv//f+y/6////7U/5AAZP+Z/8r/nQDR/5r/DwDr/xAA4v+s/3z/+P9uAOv/t/82AGcAHgCb/yQAFQBGAM7/CgD3/xoAegAaAOz/CgBHAA8Adv8/AAAABQC2/xIAAAA7ABQAKgCj/z4AAQAXAJz/JAADAAcA8f/1/2AAAQAlAPD/NgDx/1wA7v/4/wMAZADv//3/HQAkAFoA8P9FAPv/FgBIAPf/WQAHAEUACQD0/xIAQwDu/wMAwP9VALn/XwCw/yEA5f8sAPj/FgDD/1YAyv8rAOX/HQDo//j/IQAQACAAHwD9/yQAHQBAABgABQAiAAUAKAD3/wkACwAKAAMABwAJAPb/+f8GAOr/JQAHABMA6P8TAA4AGgD//woA8/8ZAP//GADu/w0A9v8SAAMABwD4/wQA5P8XAAQACgDq/wUA+/8VAAcACADs/xIAAAATAPH/+v/1//T/7f///+z/+v/y/+//9/8KAAcACgAJAPT/BAAKAAAABgAIAPL/9v8KAAMABAACAPr/9v8OAAIA+P/x//v/+f8MAPb/+P/w/wQA9f8MAPn////7/woA/v8PAAEAAgD1/xAAAQAPAP//AwD//xQABwALAAAABgADABAAAgAHAAAACAABAA8ABQAFAAMABwAEAA4ABwADAAEACQAFAAoAAwD//wAACQADAAUAAQD/////CAABAAMAAAD/////BwACAAEAAAD/////BwACAP7///8BAAAABgABAP7///8CAAAABAAAAP7///8DAAAAAwAAAP3///8DAAAAAQAAAP3//v8EAAAAAAD+//////8EAP/////+/wAA/v8EAP/////+/wEA/v8EAP///v/+/wIA//8DAP///v/+/wIA//8BAP///v/+/wMA//8BAP/////+/wMA//8AAP//AAD+/wQA//8AAP7/AQD//wIA////////AQD//wIA////////AQAAAAEAAAAAAP//AQD//wEAAAAAAP//AQAAAAEAAAAAAAAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wAA+v8AAPz/AAD//wAA/f8AAAEAAAD+/wAACQAAAAQAAAAZAAAAtgAAAFsBAABW/gAAH/oAAGcBAABoBwAAlAAAAO3/AAARAQAA+wIAAEoEAACe/gAAiv4AALD0AADJ8wAAkQQAAF34AABi8QAAPQAAAAH2AAD19AAADAMAAJwGAACTEAAA0AwAAJkHAACOBwAAuQEAANcDAAC6AgAAHwUAAHEFAAB0AwAAbgEAADz+AADYAQAAGAAAAJwCAADgAAAA//0AAMn+AAAT/AAAwP8AAOn9AAAJAAAAewEAAOn+AACN/wAAOv0AAO3+AADN/gAAcP8AACj/AACq/gAA+f4AAML9AACa/wAA/f4AAN7/AABo/wAA6/4AAE//AAAC/wAAEQAAAHX/AAB0AAAA5f8AAEwAAAB3AAAA5/8AAMIAAABCAAAAzgAAAE8AAAB3AAAAKAAAADMAAACqAAAALwAAAK4AAAASAAAAVgAAACgAAAAtAAAATAAAAP3/AAA7AAAA2/8AACQAAADw/wAALQAAADEAAAAlAAAAbAAAADMAAABUAAAAEAAAACgAAAD1/wAA9v8AAPr/AADu/wAALgAAABIAAABUAAAARAAAAGUAAABGAAAAOAAAAGAAAAAuAAAARQAAACEAAAAfAAAAAAAAAAkAAAAQAAAAAwAAABIAAADs/wAAEAAAAAYAAAASAAAAIgAAABEAAAADAAAABAAAAA8AAAD4/wAAHQAAAAsAAAAIAAAADgAAAP//AAAcAAAADwAAAAYAAAASAAAAFwAAAAMAAAAYAAAAEgAAAPr/AAAQAAAADQAAAAoAAAD3/wAABgAAAPb/AADf/wAA/v8AAPL/AAD6/wAAFAAAAAQAAAAEAAAAGwAAAAEAAAAMAAAAIAAAAAIAAAAdAAAAGAAAAAIAAAAcAAAAEgAAAAcAAAAeAAAADwAAAAQAAAAeAAAABAAAAAYAAAAZAAAAAQAAAA4AAAATAAAA/v8AAAoAAAAOAAAA+/8AAAsAAAAJAAAA+f8AAAsAAAABAAAA+f8AAAoAAAD9/wAA+v8AAAcAAAD5/wAA+v8AAAUAAAD3/wAA/f8AAAQAAAD2/wAAAAAAAAEAAAD3/wAAAgAAAAAAAAD4/wAAAwAAAP7/AAD6/wAABAAAAP3/AAD8/wAABAAAAPv/AAD+/wAAAwAAAPv/AAD//wAAAQAAAPv/AAAAAAAAAAAAAPv/AAACAAAA//8AAPz/AAACAAAA/v8AAP3/AAACAAAA/f8AAP7/AAABAAAA/f8AAP//AAABAAAA/f8AAAAAAAAAAAAA/v8AAAEAAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAAAAAA"],gt=[2,3];class vt{constructor(t,e){q(t)||G("HOARenderer: Invalid BaseAudioContext."),this._context=t,this._config={ambisonicOrder:3,renderingMode:$.AMBISONIC},e&&e.ambisonicOrder&&(gt.includes(e.ambisonicOrder)?this._config.ambisonicOrder=e.ambisonicOrder:U("HOARenderer: Invalid ambisonic order. (got "+e.ambisonicOrder+") Fallbacks to 3rd-order ambisonic.")),this._config.numberOfChannels=(this._config.ambisonicOrder+1)*(this._config.ambisonicOrder+1),this._config.numberOfStereoChannels=Math.ceil(this._config.numberOfChannels/2),e&&e.hrirPathList&&(Array.isArray(e.hrirPathList)&&e.hrirPathList.length===this._config.numberOfStereoChannels?this._config.pathList=e.hrirPathList:G("HOARenderer: Invalid HRIR URLs. It must be an array with "+this._config.numberOfStereoChannels+" URLs to HRIR files. (got "+e.hrirPathList+")")),e&&e.renderingMode&&(Object.values($).includes(e.renderingMode)?this._config.renderingMode=e.renderingMode:U("HOARenderer: Invalid rendering mode. (got "+e.renderingMode+') Fallbacks to "ambisonic".')),this._buildAudioGraph()}_buildAudioGraph(){this.input=this._context.createGain(),this.output=this._context.createGain(),this._bypass=this._context.createGain(),this._hoaRotator=new dt(this._context,this._config.ambisonicOrder),this._hoaConvolver=new et(this._context,this._config.ambisonicOrder),this.input.connect(this._hoaRotator.input),this.input.connect(this._bypass),this._hoaRotator.output.connect(this._hoaConvolver.input),this._hoaConvolver.output.connect(this.output),this.input.channelCount=this._config.numberOfChannels,this.input.channelCountMode="explicit",this.input.channelInterpretation="discrete"}dispose(){mode===$.BYPASS&&this._bypass.connect(this.output),this.input.disconnect(this._hoaRotator.input),this.input.disconnect(this._bypass),this._hoaRotator.output.disconnect(this._hoaConvolver.input),this._hoaConvolver.output.disconnect(this.output),this._hoaRotator.dispose(),this._hoaConvolver.dispose()}async initialize(){let t;U("HOARenderer: Initializing... (mode: "+this._config.renderingMode+", ambisonic order: "+this._config.ambisonicOrder+")"),t=this._config.pathList?new X(this._context,this._config.pathList,{dataType:"url"}):2===this._config.ambisonicOrder?new X(this._context,pt):new X(this._context,ft);try{const e=await t.load();this._hoaConvolver.setHRIRBufferList(e),this.setRenderingMode(this._config.renderingMode),U("HOARenderer: HRIRs loaded successfully. Ready.")}catch(t){G("HOARenderer: HRIR loading/decoding failed. Reason: "+t.message)}}setRotationMatrix3(t){this._hoaRotator.setRotationMatrix3(t)}setRotationMatrix4(t){this._hoaRotator.setRotationMatrix4(t)}getRenderingMode(){return this._config.renderingMode}setRenderingMode(t){if(t!==this._config.renderingMode){switch(t){case $.AMBISONIC:this._hoaConvolver.enable(),this._bypass.disconnect();break;case $.BYPASS:this._hoaConvolver.disable(),this._bypass.connect(this.output);break;case $.OFF:this._hoaConvolver.disable(),this._bypass.disconnect();break;default:return void U('HOARenderer: Rendering mode "'+t+'" is not supported.')}this._config.renderingMode=t,U("HOARenderer: Rendering mode changed. ("+t+")")}}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const mt=function(){const t=navigator.userAgent;let e,i=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*([\d\.]+)/i)||[];if(/trident/i.test(i[1]))return e=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:e[1]||""};if("Chrome"===i[1]&&(e=t.match(/\bOPR|Edge\/(\d+)/),null!=e))return{name:"Opera",version:e[1]};i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/([\d.]+)/i))&&i.splice(1,1,e[1]);let n=t.match(/android|ipad|iphone/i);return n||(n=t.match(/cros|linux|mac os x|windows/i)),{name:i[0],version:i[1],platform:n?n[0]:"unknown"}}();
/**
 * @license
 * Copyright 2016 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */U(`Version 1.4.2 (running ${mt.name} ${mt.version} on ${mt.platform})`),"safari"===mt.name.toLowerCase()&&(window.webkitAudioContext&&window.webkitOfflineAudioContext&&(window.AudioContext=window.webkitAudioContext,window.OfflineAudioContext=window.webkitOfflineAudioContext),U(mt.name+" detected. Polyfill applied."));const yt=[[[0,0,0,1,1,1],[.052336,.034899,.017452,.999848,.999391,.99863],[.104528,.069756,.034899,.999391,.997564,.994522],[.156434,.104528,.052336,.99863,.994522,.987688],[.207912,.139173,.069756,.997564,.990268,.978148],[.258819,.173648,.087156,.996195,.984808,.965926],[.309017,.207912,.104528,.994522,.978148,.951057],[.358368,.241922,.121869,.992546,.970296,.93358],[.406737,.275637,.139173,.990268,.961262,.913545],[.45399,.309017,.156434,.987688,.951057,.891007],[.5,.34202,.173648,.984808,.939693,.866025],[.544639,.374607,.190809,.981627,.927184,.838671],[.587785,.406737,.207912,.978148,.913545,.809017],[.62932,.438371,.224951,.97437,.898794,.777146],[.669131,.469472,.241922,.970296,.882948,.743145],[.707107,.5,.258819,.965926,.866025,.707107],[.743145,.529919,.275637,.961262,.848048,.669131],[.777146,.559193,.292372,.956305,.829038,.62932],[.809017,.587785,.309017,.951057,.809017,.587785],[.838671,.615661,.325568,.945519,.788011,.544639],[.866025,.642788,.34202,.939693,.766044,.5],[.891007,.669131,.358368,.93358,.743145,.45399],[.913545,.694658,.374607,.927184,.71934,.406737],[.93358,.71934,.390731,.920505,.694658,.358368],[.951057,.743145,.406737,.913545,.669131,.309017],[.965926,.766044,.422618,.906308,.642788,.258819],[.978148,.788011,.438371,.898794,.615661,.207912],[.987688,.809017,.45399,.891007,.587785,.156434],[.994522,.829038,.469472,.882948,.559193,.104528],[.99863,.848048,.48481,.87462,.529919,.052336],[1,.866025,.5,.866025,.5,0],[.99863,.882948,.515038,.857167,.469472,-.052336],[.994522,.898794,.529919,.848048,.438371,-.104528],[.987688,.913545,.544639,.838671,.406737,-.156434],[.978148,.927184,.559193,.829038,.374607,-.207912],[.965926,.939693,.573576,.819152,.34202,-.258819],[.951057,.951057,.587785,.809017,.309017,-.309017],[.93358,.961262,.601815,.798636,.275637,-.358368],[.913545,.970296,.615661,.788011,.241922,-.406737],[.891007,.978148,.62932,.777146,.207912,-.45399],[.866025,.984808,.642788,.766044,.173648,-.5],[.838671,.990268,.656059,.75471,.139173,-.544639],[.809017,.994522,.669131,.743145,.104528,-.587785],[.777146,.997564,.681998,.731354,.069756,-.62932],[.743145,.999391,.694658,.71934,.034899,-.669131],[.707107,1,.707107,.707107,0,-.707107],[.669131,.999391,.71934,.694658,-.034899,-.743145],[.62932,.997564,.731354,.681998,-.069756,-.777146],[.587785,.994522,.743145,.669131,-.104528,-.809017],[.544639,.990268,.75471,.656059,-.139173,-.838671],[.5,.984808,.766044,.642788,-.173648,-.866025],[.45399,.978148,.777146,.62932,-.207912,-.891007],[.406737,.970296,.788011,.615661,-.241922,-.913545],[.358368,.961262,.798636,.601815,-.275637,-.93358],[.309017,.951057,.809017,.587785,-.309017,-.951057],[.258819,.939693,.819152,.573576,-.34202,-.965926],[.207912,.927184,.829038,.559193,-.374607,-.978148],[.156434,.913545,.838671,.544639,-.406737,-.987688],[.104528,.898794,.848048,.529919,-.438371,-.994522],[.052336,.882948,.857167,.515038,-.469472,-.99863],[0,.866025,.866025,.5,-.5,-1],[-.052336,.848048,.87462,.48481,-.529919,-.99863],[-.104528,.829038,.882948,.469472,-.559193,-.994522],[-.156434,.809017,.891007,.45399,-.587785,-.987688],[-.207912,.788011,.898794,.438371,-.615661,-.978148],[-.258819,.766044,.906308,.422618,-.642788,-.965926],[-.309017,.743145,.913545,.406737,-.669131,-.951057],[-.358368,.71934,.920505,.390731,-.694658,-.93358],[-.406737,.694658,.927184,.374607,-.71934,-.913545],[-.45399,.669131,.93358,.358368,-.743145,-.891007],[-.5,.642788,.939693,.34202,-.766044,-.866025],[-.544639,.615661,.945519,.325568,-.788011,-.838671],[-.587785,.587785,.951057,.309017,-.809017,-.809017],[-.62932,.559193,.956305,.292372,-.829038,-.777146],[-.669131,.529919,.961262,.275637,-.848048,-.743145],[-.707107,.5,.965926,.258819,-.866025,-.707107],[-.743145,.469472,.970296,.241922,-.882948,-.669131],[-.777146,.438371,.97437,.224951,-.898794,-.62932],[-.809017,.406737,.978148,.207912,-.913545,-.587785],[-.838671,.374607,.981627,.190809,-.927184,-.544639],[-.866025,.34202,.984808,.173648,-.939693,-.5],[-.891007,.309017,.987688,.156434,-.951057,-.45399],[-.913545,.275637,.990268,.139173,-.961262,-.406737],[-.93358,.241922,.992546,.121869,-.970296,-.358368],[-.951057,.207912,.994522,.104528,-.978148,-.309017],[-.965926,.173648,.996195,.087156,-.984808,-.258819],[-.978148,.139173,.997564,.069756,-.990268,-.207912],[-.987688,.104528,.99863,.052336,-.994522,-.156434],[-.994522,.069756,.999391,.034899,-.997564,-.104528],[-.99863,.034899,.999848,.017452,-.999391,-.052336],[-1,0,1,0,-1,-0],[-.99863,-.034899,.999848,-.017452,-.999391,.052336],[-.994522,-.069756,.999391,-.034899,-.997564,.104528],[-.987688,-.104528,.99863,-.052336,-.994522,.156434],[-.978148,-.139173,.997564,-.069756,-.990268,.207912],[-.965926,-.173648,.996195,-.087156,-.984808,.258819],[-.951057,-.207912,.994522,-.104528,-.978148,.309017],[-.93358,-.241922,.992546,-.121869,-.970296,.358368],[-.913545,-.275637,.990268,-.139173,-.961262,.406737],[-.891007,-.309017,.987688,-.156434,-.951057,.45399],[-.866025,-.34202,.984808,-.173648,-.939693,.5],[-.838671,-.374607,.981627,-.190809,-.927184,.544639],[-.809017,-.406737,.978148,-.207912,-.913545,.587785],[-.777146,-.438371,.97437,-.224951,-.898794,.62932],[-.743145,-.469472,.970296,-.241922,-.882948,.669131],[-.707107,-.5,.965926,-.258819,-.866025,.707107],[-.669131,-.529919,.961262,-.275637,-.848048,.743145],[-.62932,-.559193,.956305,-.292372,-.829038,.777146],[-.587785,-.587785,.951057,-.309017,-.809017,.809017],[-.544639,-.615661,.945519,-.325568,-.788011,.838671],[-.5,-.642788,.939693,-.34202,-.766044,.866025],[-.45399,-.669131,.93358,-.358368,-.743145,.891007],[-.406737,-.694658,.927184,-.374607,-.71934,.913545],[-.358368,-.71934,.920505,-.390731,-.694658,.93358],[-.309017,-.743145,.913545,-.406737,-.669131,.951057],[-.258819,-.766044,.906308,-.422618,-.642788,.965926],[-.207912,-.788011,.898794,-.438371,-.615661,.978148],[-.156434,-.809017,.891007,-.45399,-.587785,.987688],[-.104528,-.829038,.882948,-.469472,-.559193,.994522],[-.052336,-.848048,.87462,-.48481,-.529919,.99863],[-0,-.866025,.866025,-.5,-.5,1],[.052336,-.882948,.857167,-.515038,-.469472,.99863],[.104528,-.898794,.848048,-.529919,-.438371,.994522],[.156434,-.913545,.838671,-.544639,-.406737,.987688],[.207912,-.927184,.829038,-.559193,-.374607,.978148],[.258819,-.939693,.819152,-.573576,-.34202,.965926],[.309017,-.951057,.809017,-.587785,-.309017,.951057],[.358368,-.961262,.798636,-.601815,-.275637,.93358],[.406737,-.970296,.788011,-.615661,-.241922,.913545],[.45399,-.978148,.777146,-.62932,-.207912,.891007],[.5,-.984808,.766044,-.642788,-.173648,.866025],[.544639,-.990268,.75471,-.656059,-.139173,.838671],[.587785,-.994522,.743145,-.669131,-.104528,.809017],[.62932,-.997564,.731354,-.681998,-.069756,.777146],[.669131,-.999391,.71934,-.694658,-.034899,.743145],[.707107,-1,.707107,-.707107,-0,.707107],[.743145,-.999391,.694658,-.71934,.034899,.669131],[.777146,-.997564,.681998,-.731354,.069756,.62932],[.809017,-.994522,.669131,-.743145,.104528,.587785],[.838671,-.990268,.656059,-.75471,.139173,.544639],[.866025,-.984808,.642788,-.766044,.173648,.5],[.891007,-.978148,.62932,-.777146,.207912,.45399],[.913545,-.970296,.615661,-.788011,.241922,.406737],[.93358,-.961262,.601815,-.798636,.275637,.358368],[.951057,-.951057,.587785,-.809017,.309017,.309017],[.965926,-.939693,.573576,-.819152,.34202,.258819],[.978148,-.927184,.559193,-.829038,.374607,.207912],[.987688,-.913545,.544639,-.838671,.406737,.156434],[.994522,-.898794,.529919,-.848048,.438371,.104528],[.99863,-.882948,.515038,-.857167,.469472,.052336],[1,-.866025,.5,-.866025,.5,0],[.99863,-.848048,.48481,-.87462,.529919,-.052336],[.994522,-.829038,.469472,-.882948,.559193,-.104528],[.987688,-.809017,.45399,-.891007,.587785,-.156434],[.978148,-.788011,.438371,-.898794,.615661,-.207912],[.965926,-.766044,.422618,-.906308,.642788,-.258819],[.951057,-.743145,.406737,-.913545,.669131,-.309017],[.93358,-.71934,.390731,-.920505,.694658,-.358368],[.913545,-.694658,.374607,-.927184,.71934,-.406737],[.891007,-.669131,.358368,-.93358,.743145,-.45399],[.866025,-.642788,.34202,-.939693,.766044,-.5],[.838671,-.615661,.325568,-.945519,.788011,-.544639],[.809017,-.587785,.309017,-.951057,.809017,-.587785],[.777146,-.559193,.292372,-.956305,.829038,-.62932],[.743145,-.529919,.275637,-.961262,.848048,-.669131],[.707107,-.5,.258819,-.965926,.866025,-.707107],[.669131,-.469472,.241922,-.970296,.882948,-.743145],[.62932,-.438371,.224951,-.97437,.898794,-.777146],[.587785,-.406737,.207912,-.978148,.913545,-.809017],[.544639,-.374607,.190809,-.981627,.927184,-.838671],[.5,-.34202,.173648,-.984808,.939693,-.866025],[.45399,-.309017,.156434,-.987688,.951057,-.891007],[.406737,-.275637,.139173,-.990268,.961262,-.913545],[.358368,-.241922,.121869,-.992546,.970296,-.93358],[.309017,-.207912,.104528,-.994522,.978148,-.951057],[.258819,-.173648,.087156,-.996195,.984808,-.965926],[.207912,-.139173,.069756,-.997564,.990268,-.978148],[.156434,-.104528,.052336,-.99863,.994522,-.987688],[.104528,-.069756,.034899,-.999391,.997564,-.994522],[.052336,-.034899,.017452,-.999848,.999391,-.99863],[0,-0,0,-1,1,-1],[-.052336,.034899,-.017452,-.999848,.999391,-.99863],[-.104528,.069756,-.034899,-.999391,.997564,-.994522],[-.156434,.104528,-.052336,-.99863,.994522,-.987688],[-.207912,.139173,-.069756,-.997564,.990268,-.978148],[-.258819,.173648,-.087156,-.996195,.984808,-.965926],[-.309017,.207912,-.104528,-.994522,.978148,-.951057],[-.358368,.241922,-.121869,-.992546,.970296,-.93358],[-.406737,.275637,-.139173,-.990268,.961262,-.913545],[-.45399,.309017,-.156434,-.987688,.951057,-.891007],[-.5,.34202,-.173648,-.984808,.939693,-.866025],[-.544639,.374607,-.190809,-.981627,.927184,-.838671],[-.587785,.406737,-.207912,-.978148,.913545,-.809017],[-.62932,.438371,-.224951,-.97437,.898794,-.777146],[-.669131,.469472,-.241922,-.970296,.882948,-.743145],[-.707107,.5,-.258819,-.965926,.866025,-.707107],[-.743145,.529919,-.275637,-.961262,.848048,-.669131],[-.777146,.559193,-.292372,-.956305,.829038,-.62932],[-.809017,.587785,-.309017,-.951057,.809017,-.587785],[-.838671,.615661,-.325568,-.945519,.788011,-.544639],[-.866025,.642788,-.34202,-.939693,.766044,-.5],[-.891007,.669131,-.358368,-.93358,.743145,-.45399],[-.913545,.694658,-.374607,-.927184,.71934,-.406737],[-.93358,.71934,-.390731,-.920505,.694658,-.358368],[-.951057,.743145,-.406737,-.913545,.669131,-.309017],[-.965926,.766044,-.422618,-.906308,.642788,-.258819],[-.978148,.788011,-.438371,-.898794,.615661,-.207912],[-.987688,.809017,-.45399,-.891007,.587785,-.156434],[-.994522,.829038,-.469472,-.882948,.559193,-.104528],[-.99863,.848048,-.48481,-.87462,.529919,-.052336],[-1,.866025,-.5,-.866025,.5,0],[-.99863,.882948,-.515038,-.857167,.469472,.052336],[-.994522,.898794,-.529919,-.848048,.438371,.104528],[-.987688,.913545,-.544639,-.838671,.406737,.156434],[-.978148,.927184,-.559193,-.829038,.374607,.207912],[-.965926,.939693,-.573576,-.819152,.34202,.258819],[-.951057,.951057,-.587785,-.809017,.309017,.309017],[-.93358,.961262,-.601815,-.798636,.275637,.358368],[-.913545,.970296,-.615661,-.788011,.241922,.406737],[-.891007,.978148,-.62932,-.777146,.207912,.45399],[-.866025,.984808,-.642788,-.766044,.173648,.5],[-.838671,.990268,-.656059,-.75471,.139173,.544639],[-.809017,.994522,-.669131,-.743145,.104528,.587785],[-.777146,.997564,-.681998,-.731354,.069756,.62932],[-.743145,.999391,-.694658,-.71934,.034899,.669131],[-.707107,1,-.707107,-.707107,0,.707107],[-.669131,.999391,-.71934,-.694658,-.034899,.743145],[-.62932,.997564,-.731354,-.681998,-.069756,.777146],[-.587785,.994522,-.743145,-.669131,-.104528,.809017],[-.544639,.990268,-.75471,-.656059,-.139173,.838671],[-.5,.984808,-.766044,-.642788,-.173648,.866025],[-.45399,.978148,-.777146,-.62932,-.207912,.891007],[-.406737,.970296,-.788011,-.615661,-.241922,.913545],[-.358368,.961262,-.798636,-.601815,-.275637,.93358],[-.309017,.951057,-.809017,-.587785,-.309017,.951057],[-.258819,.939693,-.819152,-.573576,-.34202,.965926],[-.207912,.927184,-.829038,-.559193,-.374607,.978148],[-.156434,.913545,-.838671,-.544639,-.406737,.987688],[-.104528,.898794,-.848048,-.529919,-.438371,.994522],[-.052336,.882948,-.857167,-.515038,-.469472,.99863],[-0,.866025,-.866025,-.5,-.5,1],[.052336,.848048,-.87462,-.48481,-.529919,.99863],[.104528,.829038,-.882948,-.469472,-.559193,.994522],[.156434,.809017,-.891007,-.45399,-.587785,.987688],[.207912,.788011,-.898794,-.438371,-.615661,.978148],[.258819,.766044,-.906308,-.422618,-.642788,.965926],[.309017,.743145,-.913545,-.406737,-.669131,.951057],[.358368,.71934,-.920505,-.390731,-.694658,.93358],[.406737,.694658,-.927184,-.374607,-.71934,.913545],[.45399,.669131,-.93358,-.358368,-.743145,.891007],[.5,.642788,-.939693,-.34202,-.766044,.866025],[.544639,.615661,-.945519,-.325568,-.788011,.838671],[.587785,.587785,-.951057,-.309017,-.809017,.809017],[.62932,.559193,-.956305,-.292372,-.829038,.777146],[.669131,.529919,-.961262,-.275637,-.848048,.743145],[.707107,.5,-.965926,-.258819,-.866025,.707107],[.743145,.469472,-.970296,-.241922,-.882948,.669131],[.777146,.438371,-.97437,-.224951,-.898794,.62932],[.809017,.406737,-.978148,-.207912,-.913545,.587785],[.838671,.374607,-.981627,-.190809,-.927184,.544639],[.866025,.34202,-.984808,-.173648,-.939693,.5],[.891007,.309017,-.987688,-.156434,-.951057,.45399],[.913545,.275637,-.990268,-.139173,-.961262,.406737],[.93358,.241922,-.992546,-.121869,-.970296,.358368],[.951057,.207912,-.994522,-.104528,-.978148,.309017],[.965926,.173648,-.996195,-.087156,-.984808,.258819],[.978148,.139173,-.997564,-.069756,-.990268,.207912],[.987688,.104528,-.99863,-.052336,-.994522,.156434],[.994522,.069756,-.999391,-.034899,-.997564,.104528],[.99863,.034899,-.999848,-.017452,-.999391,.052336],[1,0,-1,-0,-1,0],[.99863,-.034899,-.999848,.017452,-.999391,-.052336],[.994522,-.069756,-.999391,.034899,-.997564,-.104528],[.987688,-.104528,-.99863,.052336,-.994522,-.156434],[.978148,-.139173,-.997564,.069756,-.990268,-.207912],[.965926,-.173648,-.996195,.087156,-.984808,-.258819],[.951057,-.207912,-.994522,.104528,-.978148,-.309017],[.93358,-.241922,-.992546,.121869,-.970296,-.358368],[.913545,-.275637,-.990268,.139173,-.961262,-.406737],[.891007,-.309017,-.987688,.156434,-.951057,-.45399],[.866025,-.34202,-.984808,.173648,-.939693,-.5],[.838671,-.374607,-.981627,.190809,-.927184,-.544639],[.809017,-.406737,-.978148,.207912,-.913545,-.587785],[.777146,-.438371,-.97437,.224951,-.898794,-.62932],[.743145,-.469472,-.970296,.241922,-.882948,-.669131],[.707107,-.5,-.965926,.258819,-.866025,-.707107],[.669131,-.529919,-.961262,.275637,-.848048,-.743145],[.62932,-.559193,-.956305,.292372,-.829038,-.777146],[.587785,-.587785,-.951057,.309017,-.809017,-.809017],[.544639,-.615661,-.945519,.325568,-.788011,-.838671],[.5,-.642788,-.939693,.34202,-.766044,-.866025],[.45399,-.669131,-.93358,.358368,-.743145,-.891007],[.406737,-.694658,-.927184,.374607,-.71934,-.913545],[.358368,-.71934,-.920505,.390731,-.694658,-.93358],[.309017,-.743145,-.913545,.406737,-.669131,-.951057],[.258819,-.766044,-.906308,.422618,-.642788,-.965926],[.207912,-.788011,-.898794,.438371,-.615661,-.978148],[.156434,-.809017,-.891007,.45399,-.587785,-.987688],[.104528,-.829038,-.882948,.469472,-.559193,-.994522],[.052336,-.848048,-.87462,.48481,-.529919,-.99863],[0,-.866025,-.866025,.5,-.5,-1],[-.052336,-.882948,-.857167,.515038,-.469472,-.99863],[-.104528,-.898794,-.848048,.529919,-.438371,-.994522],[-.156434,-.913545,-.838671,.544639,-.406737,-.987688],[-.207912,-.927184,-.829038,.559193,-.374607,-.978148],[-.258819,-.939693,-.819152,.573576,-.34202,-.965926],[-.309017,-.951057,-.809017,.587785,-.309017,-.951057],[-.358368,-.961262,-.798636,.601815,-.275637,-.93358],[-.406737,-.970296,-.788011,.615661,-.241922,-.913545],[-.45399,-.978148,-.777146,.62932,-.207912,-.891007],[-.5,-.984808,-.766044,.642788,-.173648,-.866025],[-.544639,-.990268,-.75471,.656059,-.139173,-.838671],[-.587785,-.994522,-.743145,.669131,-.104528,-.809017],[-.62932,-.997564,-.731354,.681998,-.069756,-.777146],[-.669131,-.999391,-.71934,.694658,-.034899,-.743145],[-.707107,-1,-.707107,.707107,-0,-.707107],[-.743145,-.999391,-.694658,.71934,.034899,-.669131],[-.777146,-.997564,-.681998,.731354,.069756,-.62932],[-.809017,-.994522,-.669131,.743145,.104528,-.587785],[-.838671,-.990268,-.656059,.75471,.139173,-.544639],[-.866025,-.984808,-.642788,.766044,.173648,-.5],[-.891007,-.978148,-.62932,.777146,.207912,-.45399],[-.913545,-.970296,-.615661,.788011,.241922,-.406737],[-.93358,-.961262,-.601815,.798636,.275637,-.358368],[-.951057,-.951057,-.587785,.809017,.309017,-.309017],[-.965926,-.939693,-.573576,.819152,.34202,-.258819],[-.978148,-.927184,-.559193,.829038,.374607,-.207912],[-.987688,-.913545,-.544639,.838671,.406737,-.156434],[-.994522,-.898794,-.529919,.848048,.438371,-.104528],[-.99863,-.882948,-.515038,.857167,.469472,-.052336],[-1,-.866025,-.5,.866025,.5,-0],[-.99863,-.848048,-.48481,.87462,.529919,.052336],[-.994522,-.829038,-.469472,.882948,.559193,.104528],[-.987688,-.809017,-.45399,.891007,.587785,.156434],[-.978148,-.788011,-.438371,.898794,.615661,.207912],[-.965926,-.766044,-.422618,.906308,.642788,.258819],[-.951057,-.743145,-.406737,.913545,.669131,.309017],[-.93358,-.71934,-.390731,.920505,.694658,.358368],[-.913545,-.694658,-.374607,.927184,.71934,.406737],[-.891007,-.669131,-.358368,.93358,.743145,.45399],[-.866025,-.642788,-.34202,.939693,.766044,.5],[-.838671,-.615661,-.325568,.945519,.788011,.544639],[-.809017,-.587785,-.309017,.951057,.809017,.587785],[-.777146,-.559193,-.292372,.956305,.829038,.62932],[-.743145,-.529919,-.275637,.961262,.848048,.669131],[-.707107,-.5,-.258819,.965926,.866025,.707107],[-.669131,-.469472,-.241922,.970296,.882948,.743145],[-.62932,-.438371,-.224951,.97437,.898794,.777146],[-.587785,-.406737,-.207912,.978148,.913545,.809017],[-.544639,-.374607,-.190809,.981627,.927184,.838671],[-.5,-.34202,-.173648,.984808,.939693,.866025],[-.45399,-.309017,-.156434,.987688,.951057,.891007],[-.406737,-.275637,-.139173,.990268,.961262,.913545],[-.358368,-.241922,-.121869,.992546,.970296,.93358],[-.309017,-.207912,-.104528,.994522,.978148,.951057],[-.258819,-.173648,-.087156,.996195,.984808,.965926],[-.207912,-.139173,-.069756,.997564,.990268,.978148],[-.156434,-.104528,-.052336,.99863,.994522,.987688],[-.104528,-.069756,-.034899,.999391,.997564,.994522],[-.052336,-.034899,-.017452,.999848,.999391,.99863]],[[-1,-0,1,-0,0,-1,-0,0,-0],[-.999848,.017452,.999543,-.030224,264e-6,-.999086,.042733,-59e-5,4e-6],[-.999391,.034899,.998173,-.060411,.001055,-.996348,.085356,-.002357,34e-6],[-.99863,.052336,.995891,-.090524,.002372,-.991791,.127757,-.005297,113e-6],[-.997564,.069756,.992701,-.120527,.004214,-.985429,.169828,-.0094,268e-6],[-.996195,.087156,.988606,-.150384,.006578,-.977277,.21146,-.014654,523e-6],[-.994522,.104528,.983611,-.180057,.009462,-.967356,.252544,-.021043,903e-6],[-.992546,.121869,.977722,-.209511,.012862,-.955693,.292976,-.028547,.001431],[-.990268,.139173,.970946,-.238709,.016774,-.942316,.332649,-.037143,.002131],[-.987688,.156434,.963292,-.267617,.021193,-.927262,.371463,-.046806,.003026],[-.984808,.173648,.954769,-.296198,.026114,-.910569,.409317,-.057505,.00414],[-.981627,.190809,.945388,-.324419,.03153,-.892279,.446114,-.069209,.005492],[-.978148,.207912,.935159,-.352244,.037436,-.872441,.481759,-.08188,.007105],[-.97437,.224951,.924096,-.379641,.043823,-.851105,.516162,-.095481,.008999],[-.970296,.241922,.912211,-.406574,.050685,-.828326,.549233,-.109969,.011193],[-.965926,.258819,.899519,-.433013,.058013,-.804164,.580889,-.1253,.013707],[-.961262,.275637,.886036,-.458924,.065797,-.77868,.61105,-.141427,.016556],[-.956305,.292372,.871778,-.484275,.074029,-.75194,.639639,-.158301,.019758],[-.951057,.309017,.856763,-.509037,.082698,-.724012,.666583,-.175868,.023329],[-.945519,.325568,.841008,-.533178,.091794,-.694969,.691816,-.194075,.027281],[-.939693,.34202,.824533,-.55667,.101306,-.664885,.715274,-.212865,.03163],[-.93358,.358368,.807359,-.579484,.111222,-.633837,.736898,-.23218,.036385],[-.927184,.374607,.789505,-.601592,.121529,-.601904,.756637,-.25196,.041559],[-.920505,.390731,.770994,-.622967,.132217,-.569169,.774442,-.272143,.04716],[-.913545,.406737,.751848,-.643582,.143271,-.535715,.79027,-.292666,.053196],[-.906308,.422618,.732091,-.663414,.154678,-.501627,.804083,-.313464,.059674],[-.898794,.438371,.711746,-.682437,.166423,-.466993,.81585,-.334472,.066599],[-.891007,.45399,.690839,-.700629,.178494,-.431899,.825544,-.355623,.073974],[-.882948,.469472,.669395,-.717968,.190875,-.396436,.833145,-.376851,.081803],[-.87462,.48481,.647439,-.734431,.203551,-.360692,.838638,-.398086,.090085],[-.866025,.5,.625,-.75,.216506,-.32476,.842012,-.419263,.098821],[-.857167,.515038,.602104,-.764655,.229726,-.288728,.843265,-.440311,.108009],[-.848048,.529919,.578778,-.778378,.243192,-.252688,.842399,-.461164,.117644],[-.838671,.544639,.555052,-.791154,.256891,-.21673,.839422,-.481753,.127722],[-.829038,.559193,.530955,-.802965,.270803,-.180944,.834347,-.502011,.138237],[-.819152,.573576,.506515,-.813798,.284914,-.14542,.827194,-.521871,.149181],[-.809017,.587785,.481763,-.823639,.299204,-.110246,.817987,-.541266,.160545],[-.798636,.601815,.456728,-.832477,.313658,-.075508,.806757,-.560132,.172317],[-.788011,.615661,.431441,-.840301,.328257,-.041294,.793541,-.578405,.184487],[-.777146,.62932,.405934,-.847101,.342984,-.007686,.778379,-.596021,.19704],[-.766044,.642788,.380236,-.852869,.357821,.025233,.761319,-.612921,.209963],[-.75471,.656059,.35438,-.857597,.372749,.057383,.742412,-.629044,.223238],[-.743145,.669131,.328396,-.861281,.387751,.088686,.721714,-.644334,.23685],[-.731354,.681998,.302317,-.863916,.402807,.119068,.699288,-.658734,.250778],[-.71934,.694658,.276175,-.865498,.417901,.148454,.675199,-.67219,.265005],[-.707107,.707107,.25,-.866025,.433013,.176777,.649519,-.684653,.279508],[-.694658,.71934,.223825,-.865498,.448125,.203969,.622322,-.696073,.294267],[-.681998,.731354,.197683,-.863916,.463218,.229967,.593688,-.706405,.309259],[-.669131,.743145,.171604,-.861281,.478275,.254712,.5637,-.715605,.324459],[-.656059,.75471,.14562,-.857597,.493276,.278147,.532443,-.723633,.339844],[-.642788,.766044,.119764,-.852869,.508205,.300221,.500009,-.730451,.355387],[-.62932,.777146,.094066,-.847101,.523041,.320884,.46649,-.736025,.371063],[-.615661,.788011,.068559,-.840301,.537768,.340093,.431982,-.740324,.386845],[-.601815,.798636,.043272,-.832477,.552367,.357807,.396584,-.74332,.402704],[-.587785,.809017,.018237,-.823639,.566821,.373991,.360397,-.744989,.418613],[-.573576,.819152,-.006515,-.813798,.581112,.388612,.323524,-.745308,.434544],[-.559193,.829038,-.030955,-.802965,.595222,.401645,.286069,-.744262,.450467],[-.544639,.838671,-.055052,-.791154,.609135,.413066,.24814,-.741835,.466352],[-.529919,.848048,-.078778,-.778378,.622833,.422856,.209843,-.738017,.482171],[-.515038,.857167,-.102104,-.764655,.6363,.431004,.171288,-.732801,.497894],[-.5,.866025,-.125,-.75,.649519,.4375,.132583,-.726184,.51349],[-.48481,.87462,-.147439,-.734431,.662474,.44234,.093837,-.718167,.528929],[-.469472,.882948,-.169395,-.717968,.67515,.445524,.05516,-.708753,.544183],[-.45399,.891007,-.190839,-.700629,.687531,.447059,.016662,-.69795,.55922],[-.438371,.898794,-.211746,-.682437,.699602,.446953,-.02155,-.685769,.574011],[-.422618,.906308,-.232091,-.663414,.711348,.445222,-.059368,-.672226,.588528],[-.406737,.913545,-.251848,-.643582,.722755,.441884,-.096684,-.657339,.602741],[-.390731,.920505,-.270994,-.622967,.733809,.436964,-.133395,-.64113,.616621],[-.374607,.927184,-.289505,-.601592,.744496,.430488,-.169397,-.623624,.630141],[-.358368,.93358,-.307359,-.579484,.754804,.422491,-.204589,-.604851,.643273],[-.34202,.939693,-.324533,-.55667,.76472,.413008,-.238872,-.584843,.65599],[-.325568,.945519,-.341008,-.533178,.774231,.402081,-.27215,-.563635,.668267],[-.309017,.951057,-.356763,-.509037,.783327,.389754,-.304329,-.541266,.680078],[-.292372,.956305,-.371778,-.484275,.791997,.376077,-.335319,-.517778,.691399],[-.275637,.961262,-.386036,-.458924,.800228,.361102,-.365034,-.493216,.702207],[-.258819,.965926,-.399519,-.433013,.808013,.344885,-.393389,-.467627,.712478],[-.241922,.970296,-.412211,-.406574,.81534,.327486,-.420306,-.441061,.722191],[-.224951,.97437,-.424096,-.379641,.822202,.308969,-.445709,-.413572,.731327],[-.207912,.978148,-.435159,-.352244,.828589,.289399,-.469527,-.385215,.739866],[-.190809,.981627,-.445388,-.324419,.834495,.268846,-.491693,-.356047,.74779],[-.173648,.984808,-.454769,-.296198,.839912,.247382,-.512145,-.326129,.755082],[-.156434,.987688,-.463292,-.267617,.844832,.225081,-.530827,-.295521,.761728],[-.139173,.990268,-.470946,-.238709,.849251,.20202,-.547684,-.264287,.767712],[-.121869,.992546,-.477722,-.209511,.853163,.178279,-.562672,-.232494,.773023],[-.104528,.994522,-.483611,-.180057,.856563,.153937,-.575747,-.200207,.777648],[-.087156,.996195,-.488606,-.150384,.859447,.129078,-.586872,-.167494,.781579],[-.069756,.997564,-.492701,-.120527,.861811,.103786,-.596018,-.134426,.784806],[-.052336,.99863,-.495891,-.090524,.863653,.078146,-.603158,-.101071,.787324],[-.034899,.999391,-.498173,-.060411,.864971,.052243,-.608272,-.0675,.789126],[-.017452,.999848,-.499543,-.030224,.865762,.026165,-.611347,-.033786,.790208],[0,1,-.5,0,.866025,-0,-.612372,0,.790569],[.017452,.999848,-.499543,.030224,.865762,-.026165,-.611347,.033786,.790208],[.034899,.999391,-.498173,.060411,.864971,-.052243,-.608272,.0675,.789126],[.052336,.99863,-.495891,.090524,.863653,-.078146,-.603158,.101071,.787324],[.069756,.997564,-.492701,.120527,.861811,-.103786,-.596018,.134426,.784806],[.087156,.996195,-.488606,.150384,.859447,-.129078,-.586872,.167494,.781579],[.104528,.994522,-.483611,.180057,.856563,-.153937,-.575747,.200207,.777648],[.121869,.992546,-.477722,.209511,.853163,-.178279,-.562672,.232494,.773023],[.139173,.990268,-.470946,.238709,.849251,-.20202,-.547684,.264287,.767712],[.156434,.987688,-.463292,.267617,.844832,-.225081,-.530827,.295521,.761728],[.173648,.984808,-.454769,.296198,.839912,-.247382,-.512145,.326129,.755082],[.190809,.981627,-.445388,.324419,.834495,-.268846,-.491693,.356047,.74779],[.207912,.978148,-.435159,.352244,.828589,-.289399,-.469527,.385215,.739866],[.224951,.97437,-.424096,.379641,.822202,-.308969,-.445709,.413572,.731327],[.241922,.970296,-.412211,.406574,.81534,-.327486,-.420306,.441061,.722191],[.258819,.965926,-.399519,.433013,.808013,-.344885,-.393389,.467627,.712478],[.275637,.961262,-.386036,.458924,.800228,-.361102,-.365034,.493216,.702207],[.292372,.956305,-.371778,.484275,.791997,-.376077,-.335319,.517778,.691399],[.309017,.951057,-.356763,.509037,.783327,-.389754,-.304329,.541266,.680078],[.325568,.945519,-.341008,.533178,.774231,-.402081,-.27215,.563635,.668267],[.34202,.939693,-.324533,.55667,.76472,-.413008,-.238872,.584843,.65599],[.358368,.93358,-.307359,.579484,.754804,-.422491,-.204589,.604851,.643273],[.374607,.927184,-.289505,.601592,.744496,-.430488,-.169397,.623624,.630141],[.390731,.920505,-.270994,.622967,.733809,-.436964,-.133395,.64113,.616621],[.406737,.913545,-.251848,.643582,.722755,-.441884,-.096684,.657339,.602741],[.422618,.906308,-.232091,.663414,.711348,-.445222,-.059368,.672226,.588528],[.438371,.898794,-.211746,.682437,.699602,-.446953,-.02155,.685769,.574011],[.45399,.891007,-.190839,.700629,.687531,-.447059,.016662,.69795,.55922],[.469472,.882948,-.169395,.717968,.67515,-.445524,.05516,.708753,.544183],[.48481,.87462,-.147439,.734431,.662474,-.44234,.093837,.718167,.528929],[.5,.866025,-.125,.75,.649519,-.4375,.132583,.726184,.51349],[.515038,.857167,-.102104,.764655,.6363,-.431004,.171288,.732801,.497894],[.529919,.848048,-.078778,.778378,.622833,-.422856,.209843,.738017,.482171],[.544639,.838671,-.055052,.791154,.609135,-.413066,.24814,.741835,.466352],[.559193,.829038,-.030955,.802965,.595222,-.401645,.286069,.744262,.450467],[.573576,.819152,-.006515,.813798,.581112,-.388612,.323524,.745308,.434544],[.587785,.809017,.018237,.823639,.566821,-.373991,.360397,.744989,.418613],[.601815,.798636,.043272,.832477,.552367,-.357807,.396584,.74332,.402704],[.615661,.788011,.068559,.840301,.537768,-.340093,.431982,.740324,.386845],[.62932,.777146,.094066,.847101,.523041,-.320884,.46649,.736025,.371063],[.642788,.766044,.119764,.852869,.508205,-.300221,.500009,.730451,.355387],[.656059,.75471,.14562,.857597,.493276,-.278147,.532443,.723633,.339844],[.669131,.743145,.171604,.861281,.478275,-.254712,.5637,.715605,.324459],[.681998,.731354,.197683,.863916,.463218,-.229967,.593688,.706405,.309259],[.694658,.71934,.223825,.865498,.448125,-.203969,.622322,.696073,.294267],[.707107,.707107,.25,.866025,.433013,-.176777,.649519,.684653,.279508],[.71934,.694658,.276175,.865498,.417901,-.148454,.675199,.67219,.265005],[.731354,.681998,.302317,.863916,.402807,-.119068,.699288,.658734,.250778],[.743145,.669131,.328396,.861281,.387751,-.088686,.721714,.644334,.23685],[.75471,.656059,.35438,.857597,.372749,-.057383,.742412,.629044,.223238],[.766044,.642788,.380236,.852869,.357821,-.025233,.761319,.612921,.209963],[.777146,.62932,.405934,.847101,.342984,.007686,.778379,.596021,.19704],[.788011,.615661,.431441,.840301,.328257,.041294,.793541,.578405,.184487],[.798636,.601815,.456728,.832477,.313658,.075508,.806757,.560132,.172317],[.809017,.587785,.481763,.823639,.299204,.110246,.817987,.541266,.160545],[.819152,.573576,.506515,.813798,.284914,.14542,.827194,.521871,.149181],[.829038,.559193,.530955,.802965,.270803,.180944,.834347,.502011,.138237],[.838671,.544639,.555052,.791154,.256891,.21673,.839422,.481753,.127722],[.848048,.529919,.578778,.778378,.243192,.252688,.842399,.461164,.117644],[.857167,.515038,.602104,.764655,.229726,.288728,.843265,.440311,.108009],[.866025,.5,.625,.75,.216506,.32476,.842012,.419263,.098821],[.87462,.48481,.647439,.734431,.203551,.360692,.838638,.398086,.090085],[.882948,.469472,.669395,.717968,.190875,.396436,.833145,.376851,.081803],[.891007,.45399,.690839,.700629,.178494,.431899,.825544,.355623,.073974],[.898794,.438371,.711746,.682437,.166423,.466993,.81585,.334472,.066599],[.906308,.422618,.732091,.663414,.154678,.501627,.804083,.313464,.059674],[.913545,.406737,.751848,.643582,.143271,.535715,.79027,.292666,.053196],[.920505,.390731,.770994,.622967,.132217,.569169,.774442,.272143,.04716],[.927184,.374607,.789505,.601592,.121529,.601904,.756637,.25196,.041559],[.93358,.358368,.807359,.579484,.111222,.633837,.736898,.23218,.036385],[.939693,.34202,.824533,.55667,.101306,.664885,.715274,.212865,.03163],[.945519,.325568,.841008,.533178,.091794,.694969,.691816,.194075,.027281],[.951057,.309017,.856763,.509037,.082698,.724012,.666583,.175868,.023329],[.956305,.292372,.871778,.484275,.074029,.75194,.639639,.158301,.019758],[.961262,.275637,.886036,.458924,.065797,.77868,.61105,.141427,.016556],[.965926,.258819,.899519,.433013,.058013,.804164,.580889,.1253,.013707],[.970296,.241922,.912211,.406574,.050685,.828326,.549233,.109969,.011193],[.97437,.224951,.924096,.379641,.043823,.851105,.516162,.095481,.008999],[.978148,.207912,.935159,.352244,.037436,.872441,.481759,.08188,.007105],[.981627,.190809,.945388,.324419,.03153,.892279,.446114,.069209,.005492],[.984808,.173648,.954769,.296198,.026114,.910569,.409317,.057505,.00414],[.987688,.156434,.963292,.267617,.021193,.927262,.371463,.046806,.003026],[.990268,.139173,.970946,.238709,.016774,.942316,.332649,.037143,.002131],[.992546,.121869,.977722,.209511,.012862,.955693,.292976,.028547,.001431],[.994522,.104528,.983611,.180057,.009462,.967356,.252544,.021043,903e-6],[.996195,.087156,.988606,.150384,.006578,.977277,.21146,.014654,523e-6],[.997564,.069756,.992701,.120527,.004214,.985429,.169828,.0094,268e-6],[.99863,.052336,.995891,.090524,.002372,.991791,.127757,.005297,113e-6],[.999391,.034899,.998173,.060411,.001055,.996348,.085356,.002357,34e-6],[.999848,.017452,.999543,.030224,264e-6,.999086,.042733,59e-5,4e-6],[1,-0,1,-0,0,1,-0,0,-0]]],wt=(yt[0].length,yt[1].length,yt[0][0].length/2),_t=[[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1.003236,1.002156,.999152,.990038],[1.03237,1.021194,.990433,.898572],[1.062694,1.040231,.979161,.799806],[1.093999,1.058954,.964976,.693603],[1.126003,1.077006,.947526,.57989],[1.158345,1.093982,.926474,.45869],[1.19059,1.109437,.901512,.330158],[1.222228,1.12289,.87237,.194621],[1.252684,1.133837,.838839,.052614],[1.281987,1.142358,.801199,0],[1.312073,1.150207,.760839,0],[1.343011,1.157424,.717799,0],[1.374649,1.163859,.671999,0],[1.406809,1.169354,.623371,0],[1.439286,1.173739,.571868,0],[1.471846,1.176837,.517465,0],[1.504226,1.178465,.460174,0],[1.536133,1.178438,.400043,0],[1.567253,1.176573,.337165,0],[1.597247,1.172695,.271688,0],[1.625766,1.166645,.203815,0],[1.652455,1.158285,.133806,0],[1.676966,1.147506,.061983,0],[1.699006,1.134261,0,0],[1.720224,1.119789,0,0],[1.741631,1.10481,0,0],[1.763183,1.08933,0,0],[1.784837,1.073356,0,0],[1.806548,1.056898,0,0],[1.828269,1.039968,0,0],[1.849952,1.02258,0,0],[1.871552,1.004752,0,0],[1.893018,.986504,0,0],[1.914305,.967857,0,0],[1.935366,.948837,0,0],[1.956154,.929471,0,0],[1.976625,.90979,0,0],[1.996736,.889823,0,0],[2.016448,.869607,0,0],[2.035721,.849175,0,0],[2.054522,.828565,0,0],[2.072818,.807816,0,0],[2.090581,.786964,0,0],[2.107785,.766051,0,0],[2.124411,.745115,0,0],[2.140439,.724196,0,0],[2.155856,.703332,0,0],[2.170653,.682561,0,0],[2.184823,.661921,0,0],[2.198364,.641445,0,0],[2.211275,.621169,0,0],[2.223562,.601125,0,0],[2.23523,.581341,0,0],[2.246289,.561847,0,0],[2.256751,.542667,0,0],[2.266631,.523826,0,0],[2.275943,.505344,0,0],[2.284707,.487239,0,0],[2.292939,.469528,0,0],[2.300661,.452225,0,0],[2.307892,.435342,0,0],[2.314654,.418888,0,0],[2.320969,.40287,0,0],[2.326858,.387294,0,0],[2.332343,.372164,0,0],[2.337445,.357481,0,0],[2.342186,.343246,0,0],[2.346585,.329458,0,0],[2.350664,.316113,0,0],[2.354442,.303208,0,0],[2.357937,.290738,0,0],[2.361168,.278698,0,0],[2.364152,.26708,0,0],[2.366906,.255878,0,0],[2.369446,.245082,0,0],[2.371786,.234685,0,0],[2.37394,.224677,0,0],[2.375923,.215048,0,0],[2.377745,.20579,0,0],[2.379421,.196891,0,0],[2.380959,.188342,0,0],[2.382372,.180132,0,0],[2.383667,.172251,0,0],[2.384856,.164689,0,0],[2.385945,.157435,0,0],[2.386943,.150479,0,0],[2.387857,.143811,0,0],[2.388694,.137421,0,0],[2.38946,.131299,0,0],[2.39016,.125435,0,0],[2.390801,.11982,0,0],[2.391386,.114445,0,0],[2.391921,.1093,0,0],[2.39241,.104376,0,0],[2.392857,.099666,0,0],[2.393265,.09516,0,0],[2.393637,.090851,0,0],[2.393977,.086731,0,0],[2.394288,.082791,0,0],[2.394571,.079025,0,0],[2.394829,.075426,0,0],[2.395064,.071986,0,0],[2.395279,.068699,0,0],[2.395475,.065558,0,0],[2.395653,.062558,0,0],[2.395816,.059693,0,0],[2.395964,.056955,0,0],[2.396099,.054341,0,0],[2.396222,.051845,0,0],[2.396334,.049462,0,0],[2.396436,.047186,0,0],[2.396529,.045013,0,0],[2.396613,.042939,0,0],[2.396691,.040959,0,0],[2.396761,.039069,0,0],[2.396825,.037266,0,0],[2.396883,.035544,0,0],[2.396936,.033901,0,0],[2.396984,.032334,0,0],[2.397028,.030838,0,0],[2.397068,.02941,0,0],[2.397104,.028048,0,0],[2.397137,.026749,0,0],[2.397167,.025509,0,0],[2.397194,.024326,0,0],[2.397219,.023198,0,0],[2.397242,.022122,0,0],[2.397262,.021095,0,0],[2.397281,.020116,0,0],[2.397298,.019181,0,0],[2.397314,.01829,0,0],[2.397328,.017441,0,0],[2.397341,.01663,0,0],[2.397352,.015857,0,0],[2.397363,.015119,0,0],[2.397372,.014416,0,0],[2.397381,.013745,0,0],[2.397389,.013106,0,0],[2.397396,.012496,0,0],[2.397403,.011914,0,0],[2.397409,.01136,0,0],[2.397414,.010831,0,0],[2.397419,.010326,0,0],[2.397424,.009845,0,0],[2.397428,.009387,0,0],[2.397432,.008949,0,0],[2.397435,.008532,0,0],[2.397438,.008135,0,0],[2.397441,.007755,0,0],[2.397443,.007394,0,0],[2.397446,.007049,0,0],[2.397448,.006721,0,0],[2.39745,.006407,0,0],[2.397451,.006108,0,0],[2.397453,.005824,0,0],[2.397454,.005552,0,0],[2.397456,.005293,0,0],[2.397457,.005046,0,0],[2.397458,.004811,0,0],[2.397459,.004586,0,0],[2.39746,.004372,0,0],[2.397461,.004168,0,0],[2.397461,.003974,0,0],[2.397462,.003788,0,0],[2.397463,.003611,0,0],[2.397463,.003443,0,0],[2.397464,.003282,0,0],[2.397464,.003129,0,0],[2.397465,.002983,0,0],[2.397465,.002844,0,0],[2.397465,.002711,0,0],[2.397466,.002584,0,0],[2.397466,.002464,0,0],[2.397466,.002349,0,0],[2.397466,.002239,0,0],[2.397467,.002135,0,0],[2.397467,.002035,0,0],[2.397467,.00194,0,0],[2.397467,.001849,0,0],[2.397467,.001763,0,0],[2.397467,.001681,0,0],[2.397468,.001602,0,0],[2.397468,.001527,0,0],[2.397468,.001456,0,0],[2.397468,.001388,0,0],[2.397468,.001323,0,0],[2.397468,.001261,0,0],[2.397468,.001202,0,0],[2.397468,.001146,0,0],[2.397468,.001093,0,0],[2.397468,.001042,0,0],[2.397468,993e-6,0,0],[2.397468,947e-6,0,0],[2.397468,902e-6,0,0],[2.397468,86e-5,0,0],[2.397468,82e-5,0,0],[2.397469,782e-6,0,0],[2.397469,745e-6,0,0],[2.397469,71e-5,0,0],[2.397469,677e-6,0,0],[2.397469,646e-6,0,0],[2.397469,616e-6,0,0],[2.397469,587e-6,0,0],[2.397469,559e-6,0,0],[2.397469,533e-6,0,0],[2.397469,508e-6,0,0],[2.397469,485e-6,0,0],[2.397469,462e-6,0,0],[2.397469,44e-5,0,0],[2.397469,42e-5,0,0],[2.397469,4e-4,0,0],[2.397469,381e-6,0,0],[2.397469,364e-6,0,0],[2.397469,347e-6,0,0],[2.397469,33e-5,0,0],[2.397469,315e-6,0,0],[2.397469,3e-4,0,0],[2.397469,286e-6,0,0],[2.397469,273e-6,0,0],[2.397469,26e-5,0,0],[2.397469,248e-6,0,0],[2.397469,236e-6,0,0],[2.397469,225e-6,0,0],[2.397469,215e-6,0,0],[2.397469,205e-6,0,0],[2.397469,195e-6,0,0],[2.397469,186e-6,0,0],[2.397469,177e-6,0,0],[2.397469,169e-6,0,0],[2.397469,161e-6,0,0],[2.397469,154e-6,0,0],[2.397469,147e-6,0,0],[2.397469,14e-5,0,0],[2.397469,133e-6,0,0],[2.397469,127e-6,0,0],[2.397469,121e-6,0,0],[2.397469,115e-6,0,0],[2.397469,11e-5,0,0],[2.397469,105e-6,0,0],[2.397469,1e-4,0,0],[2.397469,95e-6,0,0],[2.397469,91e-6,0,0],[2.397469,87e-6,0,0],[2.397469,83e-6,0,0],[2.397469,79e-6,0,0],[2.397469,75e-6,0,0],[2.397469,71e-6,0,0],[2.397469,68e-6,0,0],[2.397469,65e-6,0,0],[2.397469,62e-6,0,0],[2.397469,59e-6,0,0],[2.397469,56e-6,0,0],[2.397469,54e-6,0,0],[2.397469,51e-6,0,0],[2.397469,49e-6,0,0],[2.397469,46e-6,0,0],[2.397469,44e-6,0,0],[2.397469,42e-6,0,0],[2.397469,4e-5,0,0],[2.397469,38e-6,0,0],[2.397469,37e-6,0,0],[2.397469,35e-6,0,0],[2.397469,33e-6,0,0],[2.397469,32e-6,0,0],[2.397469,3e-5,0,0],[2.397469,29e-6,0,0],[2.397469,27e-6,0,0],[2.397469,26e-6,0,0],[2.397469,25e-6,0,0],[2.397469,24e-6,0,0],[2.397469,23e-6,0,0],[2.397469,22e-6,0,0],[2.397469,21e-6,0,0],[2.397469,2e-5,0,0],[2.397469,19e-6,0,0],[2.397469,18e-6,0,0],[2.397469,17e-6,0,0],[2.397469,16e-6,0,0],[2.397469,15e-6,0,0],[2.397469,15e-6,0,0],[2.397469,14e-6,0,0],[2.397469,13e-6,0,0],[2.397469,13e-6,0,0],[2.397469,12e-6,0,0],[2.397469,12e-6,0,0],[2.397469,11e-6,0,0],[2.397469,11e-6,0,0],[2.397469,1e-5,0,0],[2.397469,1e-5,0,0],[2.397469,9e-6,0,0],[2.397469,9e-6,0,0],[2.397469,8e-6,0,0],[2.397469,8e-6,0,0],[2.397469,8e-6,0,0],[2.397469,7e-6,0,0],[2.397469,7e-6,0,0],[2.397469,7e-6,0,0],[2.397469,6e-6,0,0],[2.397469,6e-6,0,0],[2.397469,6e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,1e-6,0,0],[2.397469,1e-6,0,0],[2.397469,1e-6,0,0]],xt=[0,0,0],Dt=[0,0,-1],bt=[0,1,0],Pt=["logarithmic","linear","none"],Ct={left:0,right:0,front:0,back:0,down:0,up:0},Mt={width:0,height:0,depth:0},Et=[31.25,62.5,125,250,500,1e3,2e3,4e3,8e3],Bt=Et.length,Ot=new Float32Array(Bt),Tt={transparent:[1,1,1,1,1,1,1,1,1],"acoustic-ceiling-tiles":[.672,.675,.7,.66,.72,.92,.88,.75,1],"brick-bare":[.03,.03,.03,.03,.03,.04,.05,.07,.14],"brick-painted":[.006,.007,.01,.01,.02,.02,.02,.03,.06],"concrete-block-coarse":[.36,.36,.36,.44,.31,.29,.39,.25,.5],"concrete-block-painted":[.092,.09,.1,.05,.06,.07,.09,.08,.16],"curtain-heavy":[.073,.106,.14,.35,.55,.72,.7,.65,1],"fiber-glass-insulation":[.193,.22,.22,.82,.99,.99,.99,.99,1],"glass-thin":[.18,.169,.18,.06,.04,.03,.02,.02,.04],"glass-thick":[.35,.35,.35,.25,.18,.12,.07,.04,.08],grass:[.05,.05,.15,.25,.4,.55,.6,.6,.6],"linoleum-on-concrete":[.02,.02,.02,.03,.03,.03,.03,.02,.04],marble:[.01,.01,.01,.01,.01,.01,.02,.02,.04],metal:[.03,.035,.04,.04,.05,.05,.05,.07,.09],"parquet-on-concrete":[.028,.03,.04,.04,.07,.06,.06,.07,.14],"plaster-rough":[.017,.018,.02,.03,.04,.05,.04,.03,.06],"plaster-smooth":[.011,.012,.013,.015,.02,.03,.04,.05,.1],"plywood-panel":[.4,.34,.28,.22,.17,.09,.1,.11,.22],"polished-concrete-or-tile":[.008,.008,.01,.01,.015,.02,.02,.02,.04],"sheet-rock":[.29,.279,.29,.1,.05,.04,.07,.09,.18],"water-or-ice-surface":[.006,.006,.008,.008,.013,.015,.02,.025,.05],"wood-ceiling":[.15,.147,.15,.11,.1,.07,.06,.07,.14],"wood-panel":[.28,.28,.28,.22,.17,.09,.1,.11,.22],uniform:[.5,.5,.5,.5,.5,.5,.5,.5,.5]},It={left:"transparent",right:"transparent",front:"transparent",back:"transparent",down:"transparent",up:"transparent"},Qt=[6e-4,6e-4,7e-4,8e-4,.001,.0015,.0026,.006,.0207],zt=function(){window.console.log.apply(window.console,["%c[ResonanceAudio]%c "+Array.prototype.slice.call(arguments).join(" ")+" %c(@"+performance.now().toFixed(2)+"ms)","background: #BBDEFB; color: #FF5722; font-weight: 700","font-weight: 400","color: #AAA"])},St=function(t){let e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return e>1e-8&&(e=1/e,t[0]*=e,t[1]*=e,t[2]*=e),t},kt=function(t,e,i,n,s,r,o){o[0]=e*r-i*s,o[1]=i*n-t*r,o[2]=t*s-e*n};
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Lt{constructor(t,e){null==e&&(e={}),null==e.ambisonicOrder&&(e.ambisonicOrder=1),null==e.azimuth&&(e.azimuth=0),null==e.elevation&&(e.elevation=0),null==e.sourceWidth&&(e.sourceWidth=0),this._context=t,this.input=t.createGain(),this._channelGain=[],this._merger=void 0,this.output=t.createGain(),this.setAmbisonicOrder(e.ambisonicOrder),this._azimuth=e.azimuth,this._elevation=e.elevation,this.setSourceWidth(e.sourceWidth)}setAmbisonicOrder(t){this._ambisonicOrder=Lt.validateAmbisonicOrder(t),this.input.disconnect();for(let t=0;t<this._channelGain.length;t++)this._channelGain[t].disconnect();null!=this._merger&&this._merger.disconnect(),delete this._channelGain,delete this._merger;let e=(this._ambisonicOrder+1)*(this._ambisonicOrder+1);this._merger=this._context.createChannelMerger(e),this._channelGain=new Array(e);for(let t=0;t<e;t++)this._channelGain[t]=this._context.createGain(),this.input.connect(this._channelGain[t]),this._channelGain[t].connect(this._merger,0,t);this._merger.connect(this.output)}dispose(){this._merger.disconnect(this.output);let t=(this._ambisonicOrder+1)*(this._ambisonicOrder+1);for(let e=0;e<t;++e)this._channelGain[e].disconnect(this._merger,0,e),this.input.disconnect(this._channelGain[e])}setDirection(t,e){(null==t||isNaN(t))&&(t=0),(null==e||isNaN(e))&&(e=0),this._azimuth=t,this._elevation=e,(t=Math.round(t%360))<0&&(t+=360),e=Math.round(Math.min(90,Math.max(-90,e)))+90,this._channelGain[0].gain.value=_t[this._spreadIndex][0];for(let i=1;i<=this._ambisonicOrder;i++){let n=_t[this._spreadIndex][i];for(let s=-i;s<=i;s++){let r=i*i+i+s,o=i*(i+1)/2+Math.abs(s)-1,a=yt[1][e][o];if(0!=s){let e=wt+s-1;s<0&&(e=wt+s),a*=yt[0][t][e]}this._channelGain[r].gain.value=a*n}}}setSourceWidth(t){this._spreadIndex=Math.min(359,Math.max(0,Math.round(t))),this.setDirection(this._azimuth,this._elevation)}}Lt.validateAmbisonicOrder=function(t){return isNaN(t)||null==t?(zt("Error: Invalid ambisonic order",options.ambisonicOrder,"\nUsing ambisonicOrder=1 instead."),t=1):t<1?(zt("Error: Unable to render ambisonic order",options.ambisonicOrder,"(Min order is 1)","\nUsing min order instead."),t=1):t>wt&&(zt("Error: Unable to render ambisonic order",options.ambisonicOrder,"(Max order is",wt,")\nUsing max order instead."),options.ambisonicOrder=wt),t};
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Nt{constructor(t,e){null==e&&(e={}),null==e.ambisonicOrder&&(e.ambisonicOrder=1),null==e.position&&(e.position=xt.slice()),null==e.forward&&(e.forward=Dt.slice()),null==e.up&&(e.up=bt.slice()),null==e.renderingMode&&(e.renderingMode="ambisonic"),this.position=new Float32Array(3),this._tempMatrix3=new Float32Array(9),this._ambisonicOrder=Lt.validateAmbisonicOrder(e.ambisonicOrder),this._context=t,1==this._ambisonicOrder?this._renderer=function(t,e){return new tt(t,e)}(t,{renderingMode:e.renderingMode}):this._ambisonicOrder>1&&(this._renderer=function(t,e){return new vt(t,e)}(t,{ambisonicOrder:this._ambisonicOrder,renderingMode:e.renderingMode})),this.input=t.createGain(),this.output=t.createGain(),this.ambisonicOutput=t.createGain(),this._renderer.initialize().then(()=>{this.input.connect(this._renderer.input),this._ambisonicOrder>1?this._renderer._hoaRotator.output.connect(this.ambisonicOutput):this._renderer._foaRotator.output.connect(this.ambisonicOutput),this._renderer.output.connect(this.output)}),this.setOrientation(e.forward[0],e.forward[1],e.forward[2],e.up[0],e.up[1],e.up[2])}getRenderingMode(){return this._renderer.getRenderingMode()}setRenderingMode(t){this._renderer.setRenderingMode(t)}dispose(){this.input.disconnect(this._renderer.input),this._ambisonicOrder>1?this._renderer._hoaRotator.output.disconnect(this.ambisonicOutput):this._renderer._foaRotator.output.disconnect(this.ambisonicOutput),this._renderer.output.disconnect(this.output),this._renderer.dispose()}setOrientation(t,e,i,n,s,r){kt(t,e,i,n,s,r,this._tempMatrix3),this._tempMatrix3[3]=n,this._tempMatrix3[4]=s,this._tempMatrix3[5]=r,this._tempMatrix3[6]=-t,this._tempMatrix3[7]=-e,this._tempMatrix3[8]=-i,this._renderer.setRotationMatrix3(this._tempMatrix3)}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t,e){null==e&&(e={}),null==e.alpha&&(e.alpha=0),null==e.sharpness&&(e.sharpness=1),this._context=t,this._lowpass=t.createBiquadFilter(),this._lowpass.type="lowpass",this._lowpass.Q.value=0,this._lowpass.frequency.value=.5*t.sampleRate,this._cosTheta=0,this.setPattern(e.alpha,e.sharpness),this.input=this._lowpass,this.output=this._lowpass}computeAngle(t,e){let i=St(t),n=St(e),s=1;if(this._alpha>1e-8){let t=i[0]*n[0]+i[1]*n[1]+i[2]*n[2];s=1-this._alpha+this._alpha*t,s=Math.pow(Math.abs(s),this._sharpness)}this._lowpass.frequency.value=.5*this._context.sampleRate*s}setPattern(t,e){this._alpha=Math.min(1,Math.max(0,t)),this._sharpness=Math.max(1,e),this.computeAngle([this._cosTheta*this._cosTheta,0,0],[1,0,0])}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t,e){null==e&&(e={}),null==e.minDistance&&(e.minDistance=1),null==e.maxDistance&&(e.maxDistance=1e3),null==e.rolloff&&(e.rolloff="logarithmic"),this.minDistance=e.minDistance,this.maxDistance=e.maxDistance,this.setRolloff(e.rolloff),this._gainNode=t.createGain(),this.setDistance(e.maxDistance),this.input=this._gainNode,this.output=this._gainNode}setDistance(t){let e=1;if("logarithmic"==this._rolloff){if(t>this.maxDistance)e=0;else if(t>this.minDistance){let i=this.maxDistance-this.minDistance;if(i>1e-8){let n=1/(i+1);e=(1/(t-this.minDistance+1)-n)/(1-n)}}}else if("linear"==this._rolloff)if(t>this.maxDistance)e=0;else if(t>this.minDistance){let i=this.maxDistance-this.minDistance;i>1e-8&&(e=(this.maxDistance-t)/i)}this._gainNode.gain.value=e}setRolloff(t){let e=~Pt.indexOf(t);null!=t&&e?t=t.toString().toLowerCase():(e||zt('Invalid rolloff model ("'+t+'"). Using default: "logarithmic".'),t="logarithmic"),this._rolloff=t}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t,e){null==e&&(e={}),null==e.position&&(e.position=xt.slice()),null==e.forward&&(e.forward=Dt.slice()),null==e.up&&(e.up=bt.slice()),null==e.minDistance&&(e.minDistance=1),null==e.maxDistance&&(e.maxDistance=1e3),null==e.rolloff&&(e.rolloff="logarithmic"),null==e.gain&&(e.gain=1),null==e.alpha&&(e.alpha=0),null==e.sharpness&&(e.sharpness=1),null==e.sourceWidth&&(e.sourceWidth=0),this._scene=t,this._position=e.position,this._forward=e.forward,this._up=e.up,this._dx=new Float32Array(3),this._right=[],kt(this._forward[0],this._forward[1],this._forward[2],this._up[0],this._up[1],this._up[2],this._right);let i=t._context;this.input=i.createGain(),this._directivity=new Rt(i,{alpha:e.alpha,sharpness:e.sharpness}),this._toEarly=i.createGain(),this._toLate=i.createGain(),this._attenuation=new jt(i,{minDistance:e.minDistance,maxDistance:e.maxDistance,rolloff:e.rolloff}),this._encoder=new Lt(i,{ambisonicOrder:t._ambisonicOrder,sourceWidth:e.sourceWidth}),this.input.connect(this._toLate),this._toLate.connect(t._room.late.input),this.input.connect(this._attenuation.input),this._attenuation.output.connect(this._toEarly),this._toEarly.connect(t._room.early.input),this._attenuation.output.connect(this._directivity.input),this._directivity.output.connect(this._encoder.input),this._encoder.output.connect(t._listener.input),this.setPosition(e.position[0],e.position[1],e.position[2]),this.input.gain.value=e.gain}dispose(){this._encoder.output.disconnect(this._scene._listener.input),this._directivity.output.disconnect(this._encoder.input),this._attenuation.output.disconnect(this._directivity.input),this._toEarly.disconnect(this._scene._room.early.input),this._attenuation.output.disconnect(this._toEarly),this.input.disconnect(this._attenuation.input),this._toLate.disconnect(this._scene._room.late.input),this.input.disconnect(this._toLate),this._encoder.dispose()}setPosition(t,e,i){this._position[0]=t,this._position[1]=e,this._position[2]=i;let n=function(t){let e=1;return t>1e-8&&(e=1-t/1,e=Math.max(0,Math.min(1,e))),e}(this._scene._room.getDistanceOutsideRoom(this._position[0],this._position[1],this._position[2]));this._toLate.gain.value=n,this._toEarly.gain.value=n,this._update()}_update(){for(let t=0;t<3;t++)this._dx[t]=this._position[t]-this._scene._listener.position[t];let t=Math.sqrt(this._dx[0]*this._dx[0]+this._dx[1]*this._dx[1]+this._dx[2]*this._dx[2]);t>0&&(this._dx[0]/=t,this._dx[1]/=t,this._dx[2]/=t);let e=57.29577951308232*Math.atan2(-this._dx[0],this._dx[2]),i=57.29577951308232*Math.atan2(this._dx[1],Math.sqrt(this._dx[0]*this._dx[0]+this._dx[2]*this._dx[2]));this._attenuation.setDistance(t),this._directivity.computeAngle(this._forward,this._dx),this._encoder.setDirection(e,i)}setRolloff(t){this._attenuation.setRolloff(t)}setMinDistance(t){this._attenuation.minDistance=t}setMaxDistance(t){this._attenuation.maxDistance=t}setGain(t){this.input.gain.value=t}setOrientation(t,e,i,n,s,r){this._forward[0]=t,this._forward[1]=e,this._forward[2]=i,this._up[0]=n,this._up[1]=s,this._up[2]=r,kt(t,e,i,n,s,r,this._right)}setSourceWidth(t){this._encoder.setSourceWidth(t),this.setPosition(this._position[0],this._position[1],this._position[2])}setDirectivityPattern(t,e){this._directivity.setPattern(t,e),this.setPosition(this._position[0],this._position[1],this._position[2])}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,e){null==e&&(e={}),null==e.durations&&(e.durations=Ot.slice()),null==e.predelay&&(e.predelay=1.5),null==e.gain&&(e.gain=.01),null==e.bandwidth&&(e.bandwidth=1),null==e.tailonset&&(e.tailonset=3.8);let i=e.predelay/1e3;this._bandwidthCoeff=.346573590279973*e.bandwidth,this._tailonsetSamples=e.tailonset/1e3,this._context=t,this.input=t.createGain(),this._predelay=t.createDelay(i),this._convolver=t.createConvolver(),this.output=t.createGain(),this.output.gain.value=e.gain,this._convolver.normalize=!1,this.input.connect(this._predelay),this._predelay.connect(this._convolver),this._convolver.connect(this.output),this.setDurations(e.durations)}dispose(){this.input.disconnect(this._predelay),this._predelay.disconnect(this._convolver),this._convolver.disconnect(this.output)}setDurations(t){if(t.length!==Bt)return void zt("Warning: invalid number of RT60 values provided to reverb.");let e=new Float32Array(Bt),i=this._context.sampleRate;for(let n=0;n<t.length;n++)t[n]=Math.max(0,Math.min(3,t[n])),e[n]=Math.round(t[n]*i*1);let n=0;for(let t=0;t<e.length;t++)e[t]>n&&(n=e[t]);n<1&&(n=1);let s=this._context.createBuffer(1,n,i),r=s.getChannelData(0),o=new Float32Array(n);for(let t=0;t<n;t++)o[t]=2*Math.random()-1;for(let t=0;t<Bt;t++){let n=-6.90775527898214/e[t],s=6.28318530717959*Et[t]/i,a=Math.sin(s),A=a*Math.sinh(this._bandwidthCoeff*s/a),c=1/(1+A),h=A*c,u=-2*Math.cos(s)*c,l=(1-A)*c,d=0,f=0;for(let i=0;i<e[t];i++){let t=o[i]*Math.exp(n*i)-u*d-l*f;r[i]+=h*(t-f),f=d,d=t}}let a=Math.round(this._tailonsetSamples);for(let t=0;t<Math.min(r.length,a);t++){let e=.5*(1-Math.cos(6.28318530717959*t/(2*a-1)));r[t]*=e}this._convolver.buffer=s}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t,e){null==e&&(e={}),null==e.speedOfSound&&(e.speedOfSound=343),null==e.listenerPosition&&(e.listenerPosition=xt.slice()),null==e.coefficients&&(e.coefficients={},Object.assign(e.coefficients,Ct)),this.speedOfSound=e.speedOfSound,this.input=t.createGain(),this.output=t.createGain(),this._lowpass=t.createBiquadFilter(),this._delays={},this._gains={},this._inverters={},this._merger=t.createChannelMerger(4);for(let e in Ct)Ct.hasOwnProperty(e)&&(this._delays[e]=t.createDelay(2),this._gains[e]=t.createGain());this._inverters.right=t.createGain(),this._inverters.down=t.createGain(),this._inverters.back=t.createGain(),this._lowpass.type="lowpass",this._lowpass.frequency.value=6400,this._lowpass.Q.value=0;for(let t in Ct)Ct.hasOwnProperty(t)&&(this._delays[t].delayTime.value=0,this._gains[t].gain.value=0);this._inverters.right.gain.value=-1,this._inverters.down.gain.value=-1,this._inverters.back.gain.value=-1,this.input.connect(this._lowpass);for(let t in Ct)Ct.hasOwnProperty(t)&&(this._lowpass.connect(this._delays[t]),this._delays[t].connect(this._gains[t]),this._gains[t].connect(this._merger,0,0));this._gains.left.connect(this._merger,0,1),this._gains.right.connect(this._inverters.right),this._inverters.right.connect(this._merger,0,1),this._gains.up.connect(this._merger,0,2),this._gains.down.connect(this._inverters.down),this._inverters.down.connect(this._merger,0,2),this._gains.front.connect(this._merger,0,3),this._gains.back.connect(this._inverters.back),this._inverters.back.connect(this._merger,0,3),this._merger.connect(this.output),this._listenerPosition=e.listenerPosition,this.setRoomProperties(e.dimensions,e.coefficients)}dipose(){this.input.disconnect(this._lowpass);for(let t in Ct)Ct.hasOwnProperty(t)&&(this._lowpass.disconnect(this._delays[t]),this._delays[t].disconnect(this._gains[t]),this._gains[t].disconnect(this._merger,0,0));this._gains.left.disconnect(this._merger,0,1),this._gains.right.disconnect(this._inverters.right),this._inverters.right.disconnect(this._merger,0,1),this._gains.up.disconnect(this._merger,0,2),this._gains.down.disconnect(this._inverters.down),this._inverters.down.disconnect(this._merger,0,2),this._gains.front.disconnect(this._merger,0,3),this._gains.back.disconnect(this._inverters.back),this._inverters.back.disconnect(this._merger,0,3),this._merger.disconnect(this.output)}setListenerPosition(t,e,i){this._listenerPosition=[t,e,i];let n={left:1*Math.max(0,this._halfDimensions.width+t)+1,right:1*Math.max(0,this._halfDimensions.width-t)+1,front:1*Math.max(0,this._halfDimensions.depth+i)+1,back:1*Math.max(0,this._halfDimensions.depth-i)+1,down:1*Math.max(0,this._halfDimensions.height+e)+1,up:1*Math.max(0,this._halfDimensions.height-e)+1};for(let t in Ct)if(Ct.hasOwnProperty(t)){let e=n[t]/this.speedOfSound;this._delays[t].delayTime.value=e;let i=this._coefficients[t]/n[t];this._gains[t].gain.value=i}}setRoomProperties(t,e){null==t&&(t={},Object.assign(t,Mt)),null==e&&(e={},Object.assign(e,Ct)),this._coefficients=e,this._halfDimensions={},this._halfDimensions.width=.5*t.width,this._halfDimensions.height=.5*t.height,this._halfDimensions.depth=.5*t.depth,this.setListenerPosition(this._listenerPosition[0],this._listenerPosition[1],this._listenerPosition[2])}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){let e={};for(let t in It)It.hasOwnProperty(t)&&(e[t]=Tt[It[t]]);null==t&&(t={},Object.assign(t,It));for(let i in It)It.hasOwnProperty(i)&&t.hasOwnProperty(i)?t[i]in Tt?e[i]=Tt[t[i]]:zt('Material "'+t[i]+'" on wall "'+i+'" not found. Using "'+It[i]+'".'):zt('Wall "'+i+'" is not defined. Default used.');return e}function qt(t){null==t&&(t={});for(let e in Mt)t.hasOwnProperty(e)||(t[e]=Mt[e]);return t}function Yt(t,e,i){let n=new Float32Array(Bt);t=qt(t),e=function(t){null==t&&(t={});for(let e in It)t.hasOwnProperty(e)||(t[e]=Tt[It[e]]);return t}(e),null==i&&(i=343);let s=55.2620422318571/i,r=t.width*t.height*t.depth;if(r<1e-4)return n;let o=t.width*t.height,a=t.width*t.depth,A=t.depth*t.height,c=2*(o+a+A);for(let t=0;t<Bt;t++){let i=((e.left[t]+e.right[t])*o+(e.down[t]+e.up[t])*a+(e.front[t]+e.back[t])*A)/c;n[t]=1.38*s*r/(-c*Math.log(1-i)+4*Qt[t]*r)}return n}function Xt(t){let e=[];for(let i in Ct)if(Ct.hasOwnProperty(i)){e[i]=0;for(let n=0;n<3;n++){let s=n+4;e[i]+=t[i][s]}e[i]/=3,e[i]=Math.sqrt(1-e[i])}return e}class Wt{constructor(t,e){null==e&&(e={}),null==e.listenerPosition&&(e.listenerPosition=xt.slice()),null==e.dimensions&&(e.dimensions={},Object.assign(e.dimensions,Mt)),null==e.materials&&(e.materials={},Object.assign(e.materials,It)),null==e.speedOfSound&&(e.speedOfSound=343),e.dimensions=qt(e.dimensions);let i=Gt(e.materials),n=Xt(i),s=Yt(e.dimensions,i,e.speedOfSound);this.early=new Ut(t,{dimensions:e.dimensions,coefficients:n,speedOfSound:e.speedOfSound,listenerPosition:e.listenerPosition}),this.late=new Ht(t,{durations:s}),this.speedOfSound=e.speedOfSound,this.output=t.createGain(),this.early.output.connect(this.output),this._merger=t.createChannelMerger(4),this.late.output.connect(this._merger,0,0),this._merger.connect(this.output)}dispose(){this.early.output.disconnect(this.output),this.late.output.disconnect(this._merger,0,0),this._merger.disconnect(this.output)}setProperties(t,e){let i=Gt(e),n=Yt(t,i,this.speedOfSound);this.late.setDurations(n),this.early.speedOfSound=this.speedOfSound;let s=Xt(i);this.early.setRoomProperties(t,s)}setListenerPosition(t,e,i){this.early.speedOfSound=this.speedOfSound,this.early.setListenerPosition(t,e,i);let n=this.getDistanceOutsideRoom(t,e,i),s=1;n>1e-8&&(s=1-n/1,s=Math.max(0,Math.min(1,s))),this.output.gain.value=s}getDistanceOutsideRoom(t,e,i){let n=Math.max(0,-this.early._halfDimensions.width-t,t-this.early._halfDimensions.width),s=Math.max(0,-this.early._halfDimensions.height-e,e-this.early._halfDimensions.height),r=Math.max(0,-this.early._halfDimensions.depth-i,i-this.early._halfDimensions.depth);return Math.sqrt(n*n+s*s+r*r)}}
/**
 * @license
 * Copyright 2017 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zt{constructor(t,e){null==e&&(e={}),null==e.ambisonicOrder&&(e.ambisonicOrder=1),null==e.listenerPosition&&(e.listenerPosition=xt.slice()),null==e.listenerForward&&(e.listenerForward=Dt.slice()),null==e.listenerUp&&(e.listenerUp=bt.slice()),null==e.dimensions&&(e.dimensions={},Object.assign(e.dimensions,Mt)),null==e.materials&&(e.materials={},Object.assign(e.materials,It)),null==e.speedOfSound&&(e.speedOfSound=343),null==e.renderingMode&&(e.renderingMode="ambisonic"),this._ambisonicOrder=Lt.validateAmbisonicOrder(e.ambisonicOrder),this._sources=[],this._room=new Wt(t,{listenerPosition:e.listenerPosition,dimensions:e.dimensions,materials:e.materials,speedOfSound:e.speedOfSound}),this._listener=new Nt(t,{ambisonicOrder:e.ambisonicOrder,position:e.listenerPosition,forward:e.listenerForward,up:e.listenerUp,renderingMode:e.renderingMode}),this._context=t,this.output=t.createGain(),this.ambisonicOutput=t.createGain(),this.ambisonicInput=this._listener.input,this._room.output.connect(this._listener.input),this._listener.output.connect(this.output),this._listener.ambisonicOutput.connect(this.ambisonicOutput)}getRenderingMode(){return this._listener.getRenderingMode()}setRenderingMode(t){this._listener.setRenderingMode(t)}dispose(){this._room.output.disconnect(this._listener.input),this._listener.output.disconnect(this.output),this._listener.ambisonicOutput.disconnect(this.ambisonicOutput)}createSource(t){let e=new Ft(this,t);return this._sources[this._sources.length]=e,e}removeSource(t){const e=this._sources.findIndex(e=>e===t);e>-1&&(this._sources.splice(e,1),t.dispose())}setAmbisonicOrder(t){this._ambisonicOrder=Lt.validateAmbisonicOrder(t)}setRoomProperties(t,e){this._room.setProperties(t,e)}setListenerPosition(t,e,i){this._listener.position[0]=t,this._listener.position[1]=e,this._listener.position[2]=i,this._room.setListenerPosition(t,e,i),this._sources.forEach((function(t){t._update()}))}setListenerOrientation(t,e,i,n,s,r){this._listener.setOrientation(t,e,i,n,s,r)}setListenerFromMatrix(t){this._listener.setFromMatrix(t),this.setListenerPosition(this._listener.position[0],this._listener.position[1],this._listener.position[2])}setSpeedOfSound(t){this._room.speedOfSound=t}}Zt.Version="2.0.0";class Vt extends Q{constructor(t,e,i,n){const s=n.createSource();super(t,e,i,s.input),this.inNode.disconnect(i.destination),this.resScene=n,this.resNode=s,Object.seal(this)}update(t){super.update(t);const{p:e,f:i,u:n}=t;this.resNode.setMinDistance(this.minDistance),this.resNode.setMaxDistance(this.maxDistance),this.resNode.setPosition(e.x,e.y,e.z),this.resNode.setOrientation(i.x,i.y,i.z,n.x,n.y,n.z)}dispose(){this.resScene.removeSource(this.resNode),this.resNode=null,super.dispose()}}class Jt extends N{constructor(t){super(),this.scene=new Zt(t,{ambisonicOrder:1,renderingMode:"bypass"}),this.scene.output.connect(t.destination),this.scene.setRoomProperties({width:10,height:5,depth:10},{left:"transparent",right:"transparent",front:"transparent",back:"transparent",down:"grass",up:"transparent"}),Object.seal(this)}update(t){super.update(t);const{p:e,f:i,u:n}=t;this.scene.setListenerPosition(e.x,e.y,e.z),this.scene.setListenerOrientation(i.x,i.y,i.z,n.x,n.y,n.z)}createSource(t,e,i,n){return i?new Vt(t,e,n,this.scene):super.createSource(t,e,i,n)}}const Kt=new e,$t=new Event("audioready");let te=Object.prototype.hasOwnProperty.call(window,"AudioContext"),ee=te&&Object.prototype.hasOwnProperty.call(window,"AudioListener"),ie=ee&&Object.prototype.hasOwnProperty.call(AudioListener.prototype,"setPosition"),ne=ee&&Object.prototype.hasOwnProperty.call(AudioListener.prototype,"positionX"),se=ee;class re extends a{constructor(){super(),this.minDistance=1,this.minDistanceSq=1,this.maxDistance=10,this.maxDistanceSq=100,this.rolloff=1,this.transitionTime=.5,this.users=new Map,this.analysers=new Map,this.clips=new Map,this.onAudioActivity=t=>{Kt.id=t.id,Kt.isActive=t.isActive,this.dispatchEvent(Kt)},this.listener=null,this.audioContext=null,this.createContext(),Object.seal(this)}addEventListener(t,e,i){t===$t.type&&this.ready?e($t):super.addEventListener(t,e,i)}get ready(){return this.audioContext&&"running"===this.audioContext.state}async start(){this.createContext(),await this.audioContext.resume()}update(){if(this.audioContext){const t=this.currentTime;for(let e of this.clips.values())e.update(t);for(let e of this.users.values())e.update(t);for(let e of this.analysers.values())e.update(t)}}createContext(){if(!this.audioContext){if(te)try{this.audioContext=new AudioContext,this.ready?console.log("AudioContext is already running."):(console.log("AudioContext is not yet running."),function(t,e){e=e||(()=>!0);const i=async n=>{let s=e();if(s instanceof Promise&&(s=await s),n.isTrusted&&s){for(let t of A)window.removeEventListener(t,i);const e=t();e instanceof Promise&&await e}};for(let t of A)window.addEventListener(t,i)}(()=>{console.log("AudioContext is finally running."),this.dispatchEvent($t)},async()=>(await this.start(),this.ready)))}catch(t){te=!1,console.warn("Could not create WebAudio AudioContext",t)}if(te||(this.audioContext=new B),te&&se)try{this.listener=new Jt(this.audioContext)}catch(t){se=!1,console.warn("Resonance Audio API not available!",t)}if(te&&!se&&ne)try{this.listener=new j(this.audioContext.listener)}catch(t){ne=!1,console.warn("No AudioListener.positionX property!",t)}if(te&&!se&&!ne&&ie)try{this.listener=new H(this.audioContext.listener)}catch(t){ie=!1,console.warn("No WebAudio API!",t)}ie&&te||(this.listener=new N)}}createSpatializer(t,e,i){if(!this.listener)throw new Error("Audio context isn't ready");if(!e)throw new Error("No stream or audio element given.");return this.listener.createSource(t,e,i,this.audioContext)}get currentTime(){return this.audioContext.currentTime}createUser(t){return this.users.has(t)||this.users.set(t,new E),this.users.get(t)}createLocalUser(t){const e=this.createUser(t);return e.spatializer=this.listener,e}async createClip(t,e,i,n,s,...r){const o=new E,a=[];for(let t of r){const e=document.createElement("source");s&&(t=await l(t,s)),e.src=t,a.push(e)}const A=document.createElement("audio");return A.loop=e,A.controls=!1,A.playsInline=!0,A.autoplay=i,A.append(...a),o.spatializer=this.createSpatializer(t,A,n),this.clips.set(t,o),o}async playClip(t,e=1){if(this.clips.has(t)){const i=this.clips.get(t);i.volume=e,await i.spatializer.play()}}stopClip(t){if(this.clips.has(t)){this.clips.get(t).spatializer.stop()}}getSource(t,e){return t.get(e)||null}getUser(t){return this.getSource(this.users,t)}getClip(t){return this.getSource(this.clips,t)}removeSource(t,e){if(t.has(e)){const i=t.get(e);t.delete(e),i.dispose()}}removeUser(t){this.removeSource(this.users,t)}removeClip(t){this.removeSource(this.clips,t)}setUserStream(t,e){if(this.users.has(t)){if(this.analysers.has(t)){const e=this.analysers.get(t);this.analysers.delete(t),e.removeEventListener("audioActivity",this.onAudioActivity),e.dispose()}const i=this.users.get(t);if(i.spatializer=null,e){i.spatializer=this.createSpatializer(t,e,!0),i.spatializer.setAudioProperties(this.minDistance,this.maxDistance,this.rolloff,this.transitionTime),i.spatializer.audio.autoPlay=!0,i.spatializer.audio.muted=!0,i.spatializer.audio.addEventListener("onloadedmetadata",()=>i.spatializer.audio.play()),i.spatializer.audio.play();const n=new p(i,this.audioContext,1024);n.addEventListener("audioActivity",this.onAudioActivity),this.analysers.set(t,n)}}}setAudioProperties(t,e,i,n){this.minDistance=t,this.maxDistance=e,this.transitionTime=n,this.rolloff=i;for(let t of this.users.values())t.spatializer&&t.spatializer.setAudioProperties(this.minDistance,this.maxDistance,this.rolloff,this.transitionTime);for(let t of this.clips.values())t.spatializer&&t.spatializer.setAudioProperties(this.minDistance,this.maxDistance,this.rolloff,this.transitionTime)}withPose(t,e,i,n){if(t.has(e)){const s=t.get(e).pose;null===i&&(i=this.transitionTime),n(s,i)}}withUser(t,e,i){this.withPose(this.users,t,e,i)}setUserPosition(t,e,i,n,s=null){this.withUser(t,s,(t,s)=>{t.setTargetPosition(e,i,n,this.currentTime,s)})}setUserOrientation(t,e,i,n,s,r,o,a=null){this.withUser(t,a,(t,a)=>{t.setTargetOrientation(e,i,n,s,r,o,this.currentTime,a)})}setUserPose(t,e,i,n,s,r,o,a,A,c,h=null){this.withUser(t,h,(t,h)=>{t.setTarget(e,i,n,s,r,o,a,A,c,this.currentTime,h)})}withClip(t,e,i){this.withPose(this.clips,t,e,i)}setClipPosition(t,e,i,n,s=null){this.withClip(t,s,(t,s)=>{t.setTargetPosition(e,i,n,this.currentTime,s)})}setClipOrientation(t,e,i,n,s,r,o,a=null){this.withClip(t,a,(t,a)=>{t.setTargetOrientation(e,i,n,s,r,o,this.currentTime,a)})}setClipPose(t,e,i,n,s,r,o,a,A,c,h=null){this.withClip(t,h,(t,h)=>{t.setTarget(e,i,n,s,r,o,a,A,c,this.currentTime,h)})}}
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */var oe,ae;function Ae(t,e){return i=>{t(i),e(i)}}function ce(t,e,i,n){return void 0===n&&o(i)&&(n=i,i=void 0),new Promise((o,a)=>{const A=s(e);if(A){const i=o,n=()=>{t.removeEventListener(e,i)};o=Ae(n,o),a=Ae(n,a)}const c=s(i);if(c){const e=a,n=()=>{t.removeEventListener(i,e)};o=Ae(n,o),a=Ae(n,a)}if(r(n)){const t=setTimeout(a,n,`'${e}' has timed out.`),i=()=>clearTimeout(t);o=Ae(i,o),a=Ae(i,a)}A&&t.addEventListener(e,o),c&&t.addEventListener(i,()=>{a("Rejection event found")})})}oe=window,ae=function(t,e){var i=[],n=Object.getPrototypeOf,s=i.slice,r=i.flat?function(t){return i.flat.call(t)}:function(t){return i.concat.apply([],t)},o=i.push,a=i.indexOf,A={},c=A.toString,h=A.hasOwnProperty,u=h.toString,l=u.call(Object),d={},f=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},p=function(t){return null!=t&&t===t.window},g=t.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function m(t,e,i){var n,s,r=(i=i||g).createElement("script");if(r.text=t,e)for(n in v)(s=e[n]||e.getAttribute&&e.getAttribute(n))&&r.setAttribute(n,s);i.head.appendChild(r).parentNode.removeChild(r)}function y(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?A[c.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)};function _(t){var e=!!t&&"length"in t&&t.length,i=y(t);return!f(t)&&!p(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:"3.5.1",constructor:w,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(w.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:i.sort,splice:i.splice},w.extend=w.fn.extend=function(){var t,e,i,n,s,r,o=arguments[0]||{},a=1,A=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||f(o)||(o={}),a===A&&(o=this,a--);a<A;a++)if(null!=(t=arguments[a]))for(e in t)n=t[e],"__proto__"!==e&&o!==n&&(c&&n&&(w.isPlainObject(n)||(s=Array.isArray(n)))?(i=o[e],r=s&&!Array.isArray(i)?[]:s||w.isPlainObject(i)?i:{},s=!1,o[e]=w.extend(c,r,n)):void 0!==n&&(o[e]=n));return o},w.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==c.call(t)||(e=n(t))&&("function"!=typeof(i=h.call(e,"constructor")&&e.constructor)||u.call(i)!==l))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){m(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(_(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){var i=e||[];return null!=t&&(_(Object(t))?w.merge(i,"string"==typeof t?[t]:t):o.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:a.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;n<i;n++)t[s++]=e[n];return t.length=s,t},grep:function(t,e,i){for(var n=[],s=0,r=t.length,o=!i;s<r;s++)!e(t[s],s)!==o&&n.push(t[s]);return n},map:function(t,e,i){var n,s,o=0,a=[];if(_(t))for(n=t.length;o<n;o++)null!=(s=e(t[o],o,i))&&a.push(s);else for(o in t)null!=(s=e(t[o],o,i))&&a.push(s);return r(a)},guid:1,support:d}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=i[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){A["[object "+e+"]"]=e.toLowerCase()}));var x=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(t){var e,i,n,s,r,o,a,A,c,h,u,l,d,f,p,g,v,m,y,w="sizzle"+1*new Date,_=t.document,x=0,D=0,b=At(),P=At(),C=At(),M=At(),E=function(t,e){return t===e&&(u=!0),0},B={}.hasOwnProperty,O=[],T=O.pop,I=O.push,Q=O.push,z=O.slice,S=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",N="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+L+"*("+N+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",j=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",F=new RegExp(L+"+","g"),H=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),U=new RegExp("^"+L+"*,"+L+"*"),G=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),q=new RegExp(L+"|>"),Y=new RegExp(j),X=new RegExp("^"+N+"$"),W={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+k+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,V=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),it=function(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,st=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){l()},ot=wt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{Q.apply(O=z.call(_.childNodes),_.childNodes),O[_.childNodes.length].nodeType}catch(t){Q={apply:O.length?function(t,e){I.apply(t,z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function at(t,e,n,s){var r,a,c,h,u,f,v,m=e&&e.ownerDocument,_=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return n;if(!s&&(l(e),e=e||d,p)){if(11!==_&&(u=$.exec(t)))if(r=u[1]){if(9===_){if(!(c=e.getElementById(r)))return n;if(c.id===r)return n.push(c),n}else if(m&&(c=m.getElementById(r))&&y(e,c)&&c.id===r)return n.push(c),n}else{if(u[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&i.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(i.qsa&&!M[t+" "]&&(!g||!g.test(t))&&(1!==_||"object"!==e.nodeName.toLowerCase())){if(v=t,m=e,1===_&&(q.test(t)||G.test(t))){for((m=tt.test(t)&&vt(e.parentNode)||e)===e&&i.scope||((h=e.getAttribute("id"))?h=h.replace(nt,st):e.setAttribute("id",h=w)),a=(f=o(t)).length;a--;)f[a]=(h?"#"+h:":scope")+" "+yt(f[a]);v=f.join(",")}try{return Q.apply(n,m.querySelectorAll(v)),n}catch(e){M(t,!0)}finally{h===w&&e.removeAttribute("id")}}}return A(t.replace(H,"$1"),e,n,s)}function At(){var t=[];return function e(i,s){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=s}}function ct(t){return t[w]=!0,t}function ht(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var i=t.split("|"),s=i.length;s--;)n.attrHandle[i[s]]=e}function lt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ct((function(e){return e=+e,ct((function(i,n){for(var s,r=t([],i.length,e),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=at.support={},r=at.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!Z.test(e||i&&i.nodeName||"HTML")},l=at.setDocument=function(t){var e,s,o=t?t.ownerDocument||t:_;return o!=d&&9===o.nodeType&&o.documentElement?(f=(d=o).documentElement,p=!r(d),_!=d&&(s=d.defaultView)&&s.top!==s&&(s.addEventListener?s.addEventListener("unload",rt,!1):s.attachEvent&&s.attachEvent("onunload",rt)),i.scope=ht((function(t){return f.appendChild(t).appendChild(d.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),i.attributes=ht((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=ht((function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=K.test(d.getElementsByClassName),i.getById=ht((function(t){return f.appendChild(t).id=w,!d.getElementsByName||!d.getElementsByName(w).length})),i.getById?(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&p){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&p){var i,n,s,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(s=e.getElementsByName(t),n=0;r=s[n++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&p)return e.getElementsByClassName(t)},v=[],g=[],(i.qsa=K.test(d.querySelectorAll))&&(ht((function(t){var e;f.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+k+")"),t.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(e=d.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\["+L+"*name"+L+"*="+L+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ht((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(i.matchesSelector=K.test(m=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ht((function(t){i.disconnectedMatch=m.call(t,"*"),m.call(t,"[s!='']:x"),v.push("!=",j)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(f.compareDocumentPosition),y=e||K.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t==d||t.ownerDocument==_&&y(_,t)?-1:e==d||e.ownerDocument==_&&y(_,e)?1:h?S(h,t)-S(h,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,s=t.parentNode,r=e.parentNode,o=[t],a=[e];if(!s||!r)return t==d?-1:e==d?1:s?-1:r?1:h?S(h,t)-S(h,e):0;if(s===r)return lt(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;o[n]===a[n];)n++;return n?lt(o[n],a[n]):o[n]==_?-1:a[n]==_?1:0},d):d},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(l(t),i.matchesSelector&&p&&!M[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var n=m.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){M(e,!0)}return at(e,d,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=d&&l(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=d&&l(t);var s=n.attrHandle[e.toLowerCase()],r=s&&B.call(n.attrHandle,e.toLowerCase())?s(t,e,!p):void 0;return void 0!==r?r:i.attributes||!p?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},at.escape=function(t){return(t+"").replace(nt,st)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],s=0,r=0;if(u=!i.detectDuplicates,h=!i.sortStable&&t.slice(0),t.sort(E),u){for(;e=t[r++];)e===t[r]&&(s=n.push(r));for(;s--;)t.splice(n[s],1)}return h=null,t},s=at.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=s(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=s(e);return i},(n=at.selectors={cacheLength:50,createPseudo:ct,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return W.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&Y.test(i)&&(e=o(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=b[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&b(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(n){var s=at.attr(n,t);return null==s?"!="===e:!e||(s+="","="===e?s===i:"!="===e?s!==i:"^="===e?i&&0===s.indexOf(i):"*="===e?i&&s.indexOf(i)>-1:"$="===e?i&&s.slice(-i.length)===i:"~="===e?(" "+s.replace(F," ")+" ").indexOf(i)>-1:"|="===e&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,s){var r="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,A){var c,h,u,l,d,f,p=r!==o?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),m=!A&&!a,y=!1;if(g){if(r){for(;p;){for(l=e;l=l[p];)if(a?l.nodeName.toLowerCase()===v:1===l.nodeType)return!1;f=p="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&m){for(y=(d=(c=(h=(u=(l=g)[w]||(l[w]={}))[l.uniqueID]||(u[l.uniqueID]={}))[t]||[])[0]===x&&c[1])&&c[2],l=d&&g.childNodes[d];l=++d&&l&&l[p]||(y=d=0)||f.pop();)if(1===l.nodeType&&++y&&l===e){h[t]=[x,d,y];break}}else if(m&&(y=d=(c=(h=(u=(l=e)[w]||(l[w]={}))[l.uniqueID]||(u[l.uniqueID]={}))[t]||[])[0]===x&&c[1]),!1===y)for(;(l=++d&&l&&l[p]||(y=d=0)||f.pop())&&((a?l.nodeName.toLowerCase()!==v:1!==l.nodeType)||!++y||(m&&((h=(u=l[w]||(l[w]={}))[l.uniqueID]||(u[l.uniqueID]={}))[t]=[x,y]),l!==e)););return(y-=s)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,e){var i,s=n.pseudos[t]||n.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return s[w]?s(e):s.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?ct((function(t,i){for(var n,r=s(t,e),o=r.length;o--;)t[n=S(t,r[o])]=!(i[n]=r[o])})):function(t){return s(t,0,i)}):s}},pseudos:{not:ct((function(t){var e=[],i=[],n=a(t.replace(H,"$1"));return n[w]?ct((function(t,e,i,s){for(var r,o=n(t,null,s,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))})):function(t,s,r){return e[0]=t,n(e,null,r,i),e[0]=null,!i.pop()}})),has:ct((function(t){return function(e){return at(t,e).length>0}})),contains:ct((function(t){return t=t.replace(et,it),function(e){return(e.textContent||s(e)).indexOf(t)>-1}})),lang:ct((function(t){return X.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=p?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return V.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,i){return[i<0?i+e:i]})),even:gt((function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t})),odd:gt((function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t})),lt:gt((function(t,e,i){for(var n=i<0?i+e:i>e?e:i;--n>=0;)t.push(n);return t})),gt:gt((function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=ft(e);function mt(){}function yt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function wt(t,e,i){var n=e.dir,s=e.next,r=s||n,o=i&&"parentNode"===r,a=D++;return e.first?function(e,i,s){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,s);return!1}:function(e,i,A){var c,h,u,l=[x,a];if(A){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,A))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(h=(u=e[w]||(e[w]={}))[e.uniqueID]||(u[e.uniqueID]={}),s&&s===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=h[r])&&c[0]===x&&c[1]===a)return l[2]=c[2];if(h[r]=l,l[2]=t(e,i,A))return!0}return!1}}function _t(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function xt(t,e,i,n,s){for(var r,o=[],a=0,A=t.length,c=null!=e;a<A;a++)(r=t[a])&&(i&&!i(r,n,s)||(o.push(r),c&&e.push(a)));return o}function Dt(t,e,i,n,s,r){return n&&!n[w]&&(n=Dt(n)),s&&!s[w]&&(s=Dt(s,r)),ct((function(r,o,a,A){var c,h,u,l=[],d=[],f=o.length,p=r||function(t,e,i){for(var n=0,s=e.length;n<s;n++)at(t,e[n],i);return i}(e||"*",a.nodeType?[a]:a,[]),g=!t||!r&&e?p:xt(p,l,t,a,A),v=i?s||(r?t:f||n)?[]:o:g;if(i&&i(g,v,a,A),n)for(c=xt(v,d),n(c,[],a,A),h=c.length;h--;)(u=c[h])&&(v[d[h]]=!(g[d[h]]=u));if(r){if(s||t){if(s){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(g[h]=u);s(null,v=[],c,A)}for(h=v.length;h--;)(u=v[h])&&(c=s?S(r,u):l[h])>-1&&(r[c]=!(o[c]=u))}}else v=xt(v===o?v.splice(f,v.length):v),s?s(null,o,v,A):Q.apply(o,v)}))}function bt(t){for(var e,i,s,r=t.length,o=n.relative[t[0].type],a=o||n.relative[" "],A=o?1:0,h=wt((function(t){return t===e}),a,!0),u=wt((function(t){return S(e,t)>-1}),a,!0),l=[function(t,i,n){var s=!o&&(n||i!==c)||((e=i).nodeType?h(t,i,n):u(t,i,n));return e=null,s}];A<r;A++)if(i=n.relative[t[A].type])l=[wt(_t(l),i)];else{if((i=n.filter[t[A].type].apply(null,t[A].matches))[w]){for(s=++A;s<r&&!n.relative[t[s].type];s++);return Dt(A>1&&_t(l),A>1&&yt(t.slice(0,A-1).concat({value:" "===t[A-2].type?"*":""})).replace(H,"$1"),i,A<s&&bt(t.slice(A,s)),s<r&&bt(t=t.slice(s)),s<r&&yt(t))}l.push(i)}return _t(l)}return mt.prototype=n.filters=n.pseudos,n.setFilters=new mt,o=at.tokenize=function(t,e){var i,s,r,o,a,A,c,h=P[t+" "];if(h)return e?0:h.slice(0);for(a=t,A=[],c=n.preFilter;a;){for(o in i&&!(s=U.exec(a))||(s&&(a=a.slice(s[0].length)||a),A.push(r=[])),i=!1,(s=G.exec(a))&&(i=s.shift(),r.push({value:i,type:s[0].replace(H," ")}),a=a.slice(i.length)),n.filter)!(s=W[o].exec(a))||c[o]&&!(s=c[o](s))||(i=s.shift(),r.push({value:i,type:o,matches:s}),a=a.slice(i.length));if(!i)break}return e?a.length:a?at.error(t):P(t,A).slice(0)},a=at.compile=function(t,e){var i,s=[],r=[],a=C[t+" "];if(!a){for(e||(e=o(t)),i=e.length;i--;)(a=bt(e[i]))[w]?s.push(a):r.push(a);(a=C(t,function(t,e){var i=e.length>0,s=t.length>0,r=function(r,o,a,A,h){var u,f,g,v=0,m="0",y=r&&[],w=[],_=c,D=r||s&&n.find.TAG("*",h),b=x+=null==_?1:Math.random()||.1,P=D.length;for(h&&(c=o==d||o||h);m!==P&&null!=(u=D[m]);m++){if(s&&u){for(f=0,o||u.ownerDocument==d||(l(u),a=!p);g=t[f++];)if(g(u,o||d,a)){A.push(u);break}h&&(x=b)}i&&((u=!g&&u)&&v--,r&&y.push(u))}if(v+=m,i&&m!==v){for(f=0;g=e[f++];)g(y,w,o,a);if(r){if(v>0)for(;m--;)y[m]||w[m]||(w[m]=T.call(A));w=xt(w)}Q.apply(A,w),h&&!r&&w.length>0&&v+e.length>1&&at.uniqueSort(A)}return h&&(x=b,c=_),y};return i?ct(r):r}(r,s))).selector=t}return a},A=at.select=function(t,e,i,s){var r,A,c,h,u,l="function"==typeof t&&t,d=!s&&o(t=l.selector||t);if(i=i||[],1===d.length){if((A=d[0]=d[0].slice(0)).length>2&&"ID"===(c=A[0]).type&&9===e.nodeType&&p&&n.relative[A[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(et,it),e)||[])[0]))return i;l&&(e=e.parentNode),t=t.slice(A.shift().value.length)}for(r=W.needsContext.test(t)?0:A.length;r--&&(c=A[r],!n.relative[h=c.type]);)if((u=n.find[h])&&(s=u(c.matches[0].replace(et,it),tt.test(A[0].type)&&vt(e.parentNode)||e))){if(A.splice(r,1),!(t=s.length&&yt(A)))return Q.apply(i,s),i;break}}return(l||a(t,d))(s,e,!p,i,!e||tt.test(t)&&vt(e.parentNode)||e),i},i.sortStable=w.split("").sort(E).join("")===w,i.detectDuplicates=!!u,l(),i.sortDetached=ht((function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))})),ht((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ut("type|href|height|width",(function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&ht((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ut("value",(function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ht((function(t){return null==t.getAttribute("disabled")}))||ut(k,(function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null})),at}(t);w.find=x,w.expr=x.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=x.uniqueSort,w.text=x.getText,w.isXMLDoc=x.isXML,w.contains=x.contains,w.escapeSelector=x.escape;var D=function(t,e,i){for(var n=[],s=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&w(t).is(i))break;n.push(t)}return n},b=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},P=w.expr.match.needsContext;function C(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var M=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(t,e,i){return f(e)?w.grep(t,(function(t,n){return!!e.call(t,n,t)!==i})):e.nodeType?w.grep(t,(function(t){return t===e!==i})):"string"!=typeof e?w.grep(t,(function(t){return a.call(e,t)>-1!==i})):w.filter(e,t,i)}w.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?w.find.matchesSelector(n,t)?[n]:[]:w.find.matches(t,w.grep(e,(function(t){return 1===t.nodeType})))},w.fn.extend({find:function(t){var e,i,n=this.length,s=this;if("string"!=typeof t)return this.pushStack(w(t).filter((function(){for(e=0;e<n;e++)if(w.contains(s[e],this))return!0})));for(i=this.pushStack([]),e=0;e<n;e++)w.find(t,s[e],i);return n>1?w.uniqueSort(i):i},filter:function(t){return this.pushStack(E(this,t||[],!1))},not:function(t){return this.pushStack(E(this,t||[],!0))},is:function(t){return!!E(this,"string"==typeof t&&P.test(t)?w(t):t||[],!1).length}});var B,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,i){var n,s;if(!t)return this;if(i=i||B,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:O.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:g,!0)),M.test(n[1])&&w.isPlainObject(e))for(n in e)f(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(s=g.getElementById(n[2]))&&(this[0]=s,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):f(t)?void 0!==i.ready?i.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,B=w(g);var T=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function Q(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),i=e.length;return this.filter((function(){for(var t=0;t<i;t++)if(w.contains(this,e[t]))return!0}))},closest:function(t,e){var i,n=0,s=this.length,r=[],o="string"!=typeof t&&w(t);if(!P.test(t))for(;n<s;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&w.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?w.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?a.call(w(t),this[0]):a.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return D(t,"parentNode")},parentsUntil:function(t,e,i){return D(t,"parentNode",i)},next:function(t){return Q(t,"nextSibling")},prev:function(t){return Q(t,"previousSibling")},nextAll:function(t){return D(t,"nextSibling")},prevAll:function(t){return D(t,"previousSibling")},nextUntil:function(t,e,i){return D(t,"nextSibling",i)},prevUntil:function(t,e,i){return D(t,"previousSibling",i)},siblings:function(t){return b((t.parentNode||{}).firstChild,t)},children:function(t){return b(t.firstChild)},contents:function(t){return null!=t.contentDocument&&n(t.contentDocument)?t.contentDocument:(C(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},(function(t,e){w.fn[t]=function(i,n){var s=w.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=w.filter(n,s)),this.length>1&&(I[t]||w.uniqueSort(s),T.test(t)&&s.reverse()),this.pushStack(s)}}));var z=/[^\x20\t\r\n\f]+/g;function S(t){return t}function k(t){throw t}function L(t,e,i,n){var s;try{t&&f(s=t.promise)?s.call(t).done(e).fail(i):t&&f(s=t.then)?s.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(z)||[],(function(t,i){e[i]=!0})),e}(t):w.extend({},t);var e,i,n,s,r=[],o=[],a=-1,A=function(){for(s=s||t.once,n=e=!0;o.length;a=-1)for(i=o.shift();++a<r.length;)!1===r[a].apply(i[0],i[1])&&t.stopOnFalse&&(a=r.length,i=!1);t.memory||(i=!1),e=!1,s&&(r=i?[]:"")},c={add:function(){return r&&(i&&!e&&(a=r.length-1,o.push(i)),function e(i){w.each(i,(function(i,n){f(n)?t.unique&&c.has(n)||r.push(n):n&&n.length&&"string"!==y(n)&&e(n)}))}(arguments),i&&!e&&A()),this},remove:function(){return w.each(arguments,(function(t,e){for(var i;(i=w.inArray(e,r,i))>-1;)r.splice(i,1),i<=a&&a--})),this},has:function(t){return t?w.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return s=o=[],r=i="",this},disabled:function(){return!r},lock:function(){return s=o=[],i||e||(r=i=""),this},locked:function(){return!!s},fireWith:function(t,i){return s||(i=[t,(i=i||[]).slice?i.slice():i],o.push(i),e||A()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},w.extend({Deferred:function(e){var i=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],n="pending",s={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var t=arguments;return w.Deferred((function(e){w.each(i,(function(i,n){var s=f(t[n[4]])&&t[n[4]];r[n[1]]((function(){var t=s&&s.apply(this,arguments);t&&f(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,s?[t]:arguments)}))})),t=null})).promise()},then:function(e,n,s){var r=0;function o(e,i,n,s){return function(){var a=this,A=arguments,c=function(){var t,c;if(!(e<r)){if((t=n.apply(a,A))===i.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,f(c)?s?c.call(t,o(r,i,S,s),o(r,i,k,s)):(r++,c.call(t,o(r,i,S,s),o(r,i,k,s),o(r,i,S,i.notifyWith))):(n!==S&&(a=void 0,A=[t]),(s||i.resolveWith)(a,A))}},h=s?c:function(){try{c()}catch(t){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(t,h.stackTrace),e+1>=r&&(n!==k&&(a=void 0,A=[t]),i.rejectWith(a,A))}};e?h():(w.Deferred.getStackHook&&(h.stackTrace=w.Deferred.getStackHook()),t.setTimeout(h))}}return w.Deferred((function(t){i[0][3].add(o(0,t,f(s)?s:S,t.notifyWith)),i[1][3].add(o(0,t,f(e)?e:S)),i[2][3].add(o(0,t,f(n)?n:k))})).promise()},promise:function(t){return null!=t?w.extend(t,s):s}},r={};return w.each(i,(function(t,e){var o=e[2],a=e[5];s[e[1]]=o.add,a&&o.add((function(){n=a}),i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),o.add(e[3].fire),r[e[0]]=function(){return r[e[0]+"With"](this===r?void 0:this,arguments),this},r[e[0]+"With"]=o.fireWith})),s.promise(r),e&&e.call(r,r),r},when:function(t){var e=arguments.length,i=e,n=Array(i),r=s.call(arguments),o=w.Deferred(),a=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?s.call(arguments):i,--e||o.resolveWith(n,r)}};if(e<=1&&(L(t,o.done(a(i)).resolve,o.reject,!e),"pending"===o.state()||f(r[i]&&r[i].then)))return o.then();for(;i--;)L(r[i],a(i),o.reject);return o.promise()}});var N=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&N.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},w.readyException=function(e){t.setTimeout((function(){throw e}))};var R=w.Deferred();function j(){g.removeEventListener("DOMContentLoaded",j),t.removeEventListener("load",j),w.ready()}w.fn.ready=function(t){return R.then(t).catch((function(t){w.readyException(t)})),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||R.resolveWith(g,[w]))}}),w.ready.then=R.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?t.setTimeout(w.ready):(g.addEventListener("DOMContentLoaded",j),t.addEventListener("load",j));var F=function(t,e,i,n,s,r,o){var a=0,A=t.length,c=null==i;if("object"===y(i))for(a in s=!0,i)F(t,e,a,i[a],!0,r,o);else if(void 0!==n&&(s=!0,f(n)||(o=!0),c&&(o?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(w(t),i)})),e))for(;a<A;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return s?t:c?e.call(t):A?e(t[0],i):r},H=/^-ms-/,U=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function q(t){return t.replace(H,"ms-").replace(U,G)}var Y=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=w.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Y(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,s=this.cache(t);if("string"==typeof e)s[q(e)]=i;else for(n in e)s[q(n)]=e[n];return s},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][q(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(q):(e=q(e))in n?[e]:e.match(z)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||w.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var W=new X,Z=new X,V=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function K(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:V.test(t)?JSON.parse(t):t)}(i)}catch(t){}Z.set(t,e,i)}else i=void 0;return i}w.extend({hasData:function(t){return Z.hasData(t)||W.hasData(t)},data:function(t,e,i){return Z.access(t,e,i)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,i){return W.access(t,e,i)},_removeData:function(t,e){W.remove(t,e)}}),w.fn.extend({data:function(t,e){var i,n,s,r=this[0],o=r&&r.attributes;if(void 0===t){if(this.length&&(s=Z.get(r),1===r.nodeType&&!W.get(r,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=q(n.slice(5)),K(r,n,s[n]));W.set(r,"hasDataAttrs",!0)}return s}return"object"==typeof t?this.each((function(){Z.set(this,t)})):F(this,(function(e){var i;if(r&&void 0===e)return void 0!==(i=Z.get(r,t))||void 0!==(i=K(r,t))?i:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),w.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=W.get(t,e),i&&(!n||Array.isArray(i)?n=W.access(t,e,w.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=w.queue(t,e),n=i.length,s=i.shift(),r=w._queueHooks(t,e);"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete r.stop,s.call(t,(function(){w.dequeue(t,e)}),r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return W.get(t,i)||W.access(t,i,{empty:w.Callbacks("once memory").add((function(){W.remove(t,[e+"queue",i])}))})}}),w.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?w.queue(this[0],t):void 0===e?this:this.each((function(){var i=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&w.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){w.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=w.Deferred(),r=this,o=this.length,a=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=W.get(r[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(e)}});var $=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^(?:([+-])=|)("+$+")([a-z%]*)$","i"),et=["Top","Right","Bottom","Left"],it=g.documentElement,nt=function(t){return w.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(nt=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&nt(t)&&"none"===w.css(t,"display")};function ot(t,e,i,n){var s,r,o=20,a=n?function(){return n.cur()}:function(){return w.css(t,e,"")},A=a(),c=i&&i[3]||(w.cssNumber[e]?"":"px"),h=t.nodeType&&(w.cssNumber[e]||"px"!==c&&+A)&&tt.exec(w.css(t,e));if(h&&h[3]!==c){for(A/=2,c=c||h[3],h=+A||1;o--;)w.style(t,e,h+c),(1-r)*(1-(r=a()/A||.5))<=0&&(o=0),h/=r;h*=2,w.style(t,e,h+c),i=i||[]}return i&&(h=+h||+A||0,s=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=h,n.end=s)),s}var at={};function At(t){var e,i=t.ownerDocument,n=t.nodeName,s=at[n];return s||(e=i.body.appendChild(i.createElement(n)),s=w.css(e,"display"),e.parentNode.removeChild(e),"none"===s&&(s="block"),at[n]=s,s)}function ct(t,e){for(var i,n,s=[],r=0,o=t.length;r<o;r++)(n=t[r]).style&&(i=n.style.display,e?("none"===i&&(s[r]=W.get(n,"display")||null,s[r]||(n.style.display="")),""===n.style.display&&rt(n)&&(s[r]=At(n))):"none"!==i&&(s[r]="none",W.set(n,"display",i)));for(r=0;r<o;r++)null!=s[r]&&(t[r].style.display=s[r]);return t}w.fn.extend({show:function(){return ct(this,!0)},hide:function(){return ct(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){rt(this)?w(this).show():w(this).hide()}))}});var ht,ut,lt=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i;ht=g.createDocumentFragment().appendChild(g.createElement("div")),(ut=g.createElement("input")).setAttribute("type","radio"),ut.setAttribute("checked","checked"),ut.setAttribute("name","t"),ht.appendChild(ut),d.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML="<option></option>",d.option=!!ht.lastChild;var pt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&C(t,e)?w.merge([t],i):i}function vt(t,e){for(var i=0,n=t.length;i<n;i++)W.set(t[i],"globalEval",!e||W.get(e[i],"globalEval"))}pt.tbody=pt.tfoot=pt.colgroup=pt.caption=pt.thead,pt.th=pt.td,d.option||(pt.optgroup=pt.option=[1,"<select multiple='multiple'>","</select>"]);var mt=/<|&#?\w+;/;function yt(t,e,i,n,s){for(var r,o,a,A,c,h,u=e.createDocumentFragment(),l=[],d=0,f=t.length;d<f;d++)if((r=t[d])||0===r)if("object"===y(r))w.merge(l,r.nodeType?[r]:r);else if(mt.test(r)){for(o=o||u.appendChild(e.createElement("div")),a=(dt.exec(r)||["",""])[1].toLowerCase(),A=pt[a]||pt._default,o.innerHTML=A[1]+w.htmlPrefilter(r)+A[2],h=A[0];h--;)o=o.lastChild;w.merge(l,o.childNodes),(o=u.firstChild).textContent=""}else l.push(e.createTextNode(r));for(u.textContent="",d=0;r=l[d++];)if(n&&w.inArray(r,n)>-1)s&&s.push(r);else if(c=nt(r),o=gt(u.appendChild(r),"script"),c&&vt(o),i)for(h=0;r=o[h++];)ft.test(r.type||"")&&i.push(r);return u}var wt=/^key/,_t=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xt=/^([^.]*)(?:\.(.+)|)/;function Dt(){return!0}function bt(){return!1}function Pt(t,e){return t===function(){try{return g.activeElement}catch(t){}}()==("focus"===e)}function Ct(t,e,i,n,s,r){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)Ct(t,a,i,n,e[a],r);return t}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),!1===s)s=bt;else if(!s)return t;return 1===r&&(o=s,(s=function(t){return w().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),t.each((function(){w.event.add(this,e,s,n,i)}))}function Mt(t,e,i){i?(W.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var n,r,o=W.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=s.call(arguments),W.set(this,e,o),n=i(this,e),this[e](),o!==(r=W.get(this,e))||n?W.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(W.set(this,e,{value:w.event.trigger(w.extend(o[0],w.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===W.get(t,e)&&w.event.add(t,e,Dt)}w.event={global:{},add:function(t,e,i,n,s){var r,o,a,A,c,h,u,l,d,f,p,g=W.get(t);if(Y(t))for(i.handler&&(i=(r=i).handler,s=r.selector),s&&w.find.matchesSelector(it,s),i.guid||(i.guid=w.guid++),(A=g.events)||(A=g.events=Object.create(null)),(o=g.handle)||(o=g.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(z)||[""]).length;c--;)d=p=(a=xt.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),d&&(u=w.event.special[d]||{},d=(s?u.delegateType:u.bindType)||d,u=w.event.special[d]||{},h=w.extend({type:d,origType:p,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&w.expr.match.needsContext.test(s),namespace:f.join(".")},r),(l=A[d])||((l=A[d]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,f,o)||t.addEventListener&&t.addEventListener(d,o)),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),s?l.splice(l.delegateCount++,0,h):l.push(h),w.event.global[d]=!0)},remove:function(t,e,i,n,s){var r,o,a,A,c,h,u,l,d,f,p,g=W.hasData(t)&&W.get(t);if(g&&(A=g.events)){for(c=(e=(e||"").match(z)||[""]).length;c--;)if(d=p=(a=xt.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),d){for(u=w.event.special[d]||{},l=A[d=(n?u.delegateType:u.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=l.length;r--;)h=l[r],!s&&p!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(l.splice(r,1),h.selector&&l.delegateCount--,u.remove&&u.remove.call(t,h));o&&!l.length&&(u.teardown&&!1!==u.teardown.call(t,f,g.handle)||w.removeEvent(t,d,g.handle),delete A[d])}else for(d in A)w.event.remove(t,d+e[c],i,n,!0);w.isEmptyObject(A)&&W.remove(t,"handle events")}},dispatch:function(t){var e,i,n,s,r,o,a=new Array(arguments.length),A=w.event.fix(t),c=(W.get(this,"events")||Object.create(null))[A.type]||[],h=w.event.special[A.type]||{};for(a[0]=A,e=1;e<arguments.length;e++)a[e]=arguments[e];if(A.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,A)){for(o=w.event.handlers.call(this,A,c),e=0;(s=o[e++])&&!A.isPropagationStopped();)for(A.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!A.isImmediatePropagationStopped();)A.rnamespace&&!1!==r.namespace&&!A.rnamespace.test(r.namespace)||(A.handleObj=r,A.data=r.data,void 0!==(n=((w.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,a))&&!1===(A.result=n)&&(A.preventDefault(),A.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,A),A.result}},handlers:function(t,e){var i,n,s,r,o,a=[],A=e.delegateCount,c=t.target;if(A&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(r=[],o={},i=0;i<A;i++)void 0===o[s=(n=e[i]).selector+" "]&&(o[s]=n.needsContext?w(s,this).index(c)>-1:w.find(s,this,null,[c]).length),o[s]&&r.push(n);r.length&&a.push({elem:c,handlers:r})}return c=this,A<e.length&&a.push({elem:c,handlers:e.slice(A)}),a},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:f(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return lt.test(e.type)&&e.click&&C(e,"input")&&Mt(e,"click",Dt),!1},trigger:function(t){var e=this||t;return lt.test(e.type)&&e.click&&C(e,"input")&&Mt(e,"click"),!0},_default:function(t){var e=t.target;return lt.test(e.type)&&e.click&&C(e,"input")&&W.get(e,"click")||C(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Dt:bt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:bt,isPropagationStopped:bt,isImmediatePropagationStopped:bt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Dt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Dt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Dt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&wt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&_t.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},(function(t,e){w.event.special[t]={setup:function(){return Mt(this,t,Pt),!1},trigger:function(){return Mt(this,t),!0},delegateType:e}})),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,r=t.handleObj;return s&&(s===n||w.contains(n,s))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}})),w.fn.extend({on:function(t,e,i,n){return Ct(this,t,e,i,n)},one:function(t,e,i,n){return Ct(this,t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,w(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=bt),this.each((function(){w.event.remove(this,t,i,e)}))}});var Et=/<script|<style|<link/i,Bt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Tt(t,e){return C(t,"table")&&C(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function It(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Qt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function zt(t,e){var i,n,s,r,o,a;if(1===e.nodeType){if(W.hasData(t)&&(a=W.get(t).events))for(s in W.remove(e,"handle events"),a)for(i=0,n=a[s].length;i<n;i++)w.event.add(e,s,a[s][i]);Z.hasData(t)&&(r=Z.access(t),o=w.extend({},r),Z.set(e,o))}}function St(t,e){var i=e.nodeName.toLowerCase();"input"===i&&lt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function kt(t,e,i,n){e=r(e);var s,o,a,A,c,h,u=0,l=t.length,p=l-1,g=e[0],v=f(g);if(v||l>1&&"string"==typeof g&&!d.checkClone&&Bt.test(g))return t.each((function(s){var r=t.eq(s);v&&(e[0]=g.call(this,s,r.html())),kt(r,e,i,n)}));if(l&&(o=(s=yt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===s.childNodes.length&&(s=o),o||n)){for(A=(a=w.map(gt(s,"script"),It)).length;u<l;u++)c=s,u!==p&&(c=w.clone(c,!0,!0),A&&w.merge(a,gt(c,"script"))),i.call(t[u],c,u);if(A)for(h=a[a.length-1].ownerDocument,w.map(a,Qt),u=0;u<A;u++)c=a[u],ft.test(c.type||"")&&!W.access(c,"globalEval")&&w.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&!c.noModule&&w._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},h):m(c.textContent.replace(Ot,""),c,h))}return t}function Lt(t,e,i){for(var n,s=e?w.filter(e,t):t,r=0;null!=(n=s[r]);r++)i||1!==n.nodeType||w.cleanData(gt(n)),n.parentNode&&(i&&nt(n)&&vt(gt(n,"script")),n.parentNode.removeChild(n));return t}w.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,s,r,o,a=t.cloneNode(!0),A=nt(t);if(!(d.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(o=gt(a),n=0,s=(r=gt(t)).length;n<s;n++)St(r[n],o[n]);if(e)if(i)for(r=r||gt(t),o=o||gt(a),n=0,s=r.length;n<s;n++)zt(r[n],o[n]);else zt(t,a);return(o=gt(a,"script")).length>0&&vt(o,!A&&gt(t,"script")),a},cleanData:function(t){for(var e,i,n,s=w.event.special,r=0;void 0!==(i=t[r]);r++)if(Y(i)){if(e=i[W.expando]){if(e.events)for(n in e.events)s[n]?w.event.remove(i,n):w.removeEvent(i,n,e.handle);i[W.expando]=void 0}i[Z.expando]&&(i[Z.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Lt(this,t,!0)},remove:function(t){return Lt(this,t)},text:function(t){return F(this,(function(t){return void 0===t?w.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return kt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Tt(this,t).appendChild(t)}))},prepend:function(){return kt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Tt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return kt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return kt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return w.clone(this,t,e)}))},html:function(t){return F(this,(function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Et.test(t)&&!pt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(w.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return kt(this,arguments,(function(e){var i=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(gt(this)),i&&i.replaceChild(e,this))}),t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){w.fn[t]=function(t){for(var i,n=[],s=w(t),r=s.length-1,a=0;a<=r;a++)i=a===r?this:this.clone(!0),w(s[a])[e](i),o.apply(n,i.get());return this.pushStack(n)}}));var Nt=new RegExp("^("+$+")(?!px)[a-z%]+$","i"),Rt=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},jt=function(t,e,i){var n,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];for(s in n=i.call(t),e)t.style[s]=r[s];return n},Ft=new RegExp(et.join("|"),"i");function Ht(t,e,i){var n,s,r,o,a=t.style;return(i=i||Rt(t))&&(""!==(o=i.getPropertyValue(e)||i[e])||nt(t)||(o=w.style(t,e)),!d.pixelBoxStyles()&&Nt.test(o)&&Ft.test(e)&&(n=a.width,s=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=s,a.maxWidth=r)),void 0!==o?o+"":o}function Ut(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(h){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(c).appendChild(h);var e=t.getComputedStyle(h);n="1%"!==e.top,A=12===i(e.marginLeft),h.style.right="60%",o=36===i(e.right),s=36===i(e.width),h.style.position="absolute",r=12===i(h.offsetWidth/3),it.removeChild(c),h=null}}function i(t){return Math.round(parseFloat(t))}var n,s,r,o,a,A,c=g.createElement("div"),h=g.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===h.style.backgroundClip,w.extend(d,{boxSizingReliable:function(){return e(),s},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),A},scrollboxSize:function(){return e(),r},reliableTrDimensions:function(){var e,i,n,s;return null==a&&(e=g.createElement("table"),i=g.createElement("tr"),n=g.createElement("div"),e.style.cssText="position:absolute;left:-11111px",i.style.height="1px",n.style.height="9px",it.appendChild(e).appendChild(i).appendChild(n),s=t.getComputedStyle(i),a=parseInt(s.height)>3,it.removeChild(e)),a}}))}();var Gt=["Webkit","Moz","ms"],qt=g.createElement("div").style,Yt={};function Xt(t){var e=w.cssProps[t]||Yt[t];return e||(t in qt?t:Yt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Gt.length;i--;)if((t=Gt[i]+e)in qt)return t}(t)||t)}var Wt=/^(none|table(?!-c[ea]).+)/,Zt=/^--/,Vt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"};function Kt(t,e,i){var n=tt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function $t(t,e,i,n,s,r){var o="width"===e?1:0,a=0,A=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(A+=w.css(t,i+et[o],!0,s)),n?("content"===i&&(A-=w.css(t,"padding"+et[o],!0,s)),"margin"!==i&&(A-=w.css(t,"border"+et[o]+"Width",!0,s))):(A+=w.css(t,"padding"+et[o],!0,s),"padding"!==i?A+=w.css(t,"border"+et[o]+"Width",!0,s):a+=w.css(t,"border"+et[o]+"Width",!0,s));return!n&&r>=0&&(A+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-A-a-.5))||0),A}function te(t,e,i){var n=Rt(t),s=(!d.boxSizingReliable()||i)&&"border-box"===w.css(t,"boxSizing",!1,n),r=s,o=Ht(t,e,n),a="offset"+e[0].toUpperCase()+e.slice(1);if(Nt.test(o)){if(!i)return o;o="auto"}return(!d.boxSizingReliable()&&s||!d.reliableTrDimensions()&&C(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===w.css(t,"display",!1,n))&&t.getClientRects().length&&(s="border-box"===w.css(t,"boxSizing",!1,n),(r=a in t)&&(o=t[a])),(o=parseFloat(o)||0)+$t(t,e,i||(s?"border":"content"),r,n,o)+"px"}function ee(t,e,i,n,s){return new ee.prototype.init(t,e,i,n,s)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Ht(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,r,o,a=q(e),A=Zt.test(e),c=t.style;if(A||(e=Xt(a)),o=w.cssHooks[e]||w.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(s=o.get(t,!1,n))?s:c[e];"string"==(r=typeof i)&&(s=tt.exec(i))&&s[1]&&(i=ot(t,e,s),r="number"),null!=i&&i==i&&("number"!==r||A||(i+=s&&s[3]||(w.cssNumber[a]?"":"px")),d.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(A?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var s,r,o,a=q(e);return Zt.test(e)||(e=Xt(a)),(o=w.cssHooks[e]||w.cssHooks[a])&&"get"in o&&(s=o.get(t,!0,i)),void 0===s&&(s=Ht(t,e,n)),"normal"===s&&e in Jt&&(s=Jt[e]),""===i||i?(r=parseFloat(s),!0===i||isFinite(r)?r||0:s):s}}),w.each(["height","width"],(function(t,e){w.cssHooks[e]={get:function(t,i,n){if(i)return!Wt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,n):jt(t,Vt,(function(){return te(t,e,n)}))},set:function(t,i,n){var s,r=Rt(t),o=!d.scrollboxSize()&&"absolute"===r.position,a=(o||n)&&"border-box"===w.css(t,"boxSizing",!1,r),A=n?$t(t,e,n,a,r):0;return a&&o&&(A-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-$t(t,e,"border",!1,r)-.5)),A&&(s=tt.exec(i))&&"px"!==(s[3]||"px")&&(t.style[e]=i,i=w.css(t,e)),Kt(0,i,A)}}})),w.cssHooks.marginLeft=Ut(d.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Ht(t,"marginLeft"))||t.getBoundingClientRect().left-jt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),w.each({margin:"",padding:"",border:"Width"},(function(t,e){w.cssHooks[t+e]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];n<4;n++)s[t+et[n]+e]=r[n]||r[n-2]||r[0];return s}},"margin"!==t&&(w.cssHooks[t+e].set=Kt)})),w.fn.extend({css:function(t,e){return F(this,(function(t,e,i){var n,s,r={},o=0;if(Array.isArray(e)){for(n=Rt(t),s=e.length;o<s;o++)r[e[o]]=w.css(t,e[o],!1,n);return r}return void 0!==i?w.style(t,e,i):w.css(t,e)}),t,e,arguments.length>1)}}),w.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,i,n,s,r){this.elem=t,this.prop=i,this.easing=s||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(w.cssNumber[i]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,i=ee.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=ee.prototype.init,w.fx.step={};var ie,ne,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function oe(){ne&&(!1===g.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(oe):t.setTimeout(oe,w.fx.interval),w.fx.tick())}function ae(){return t.setTimeout((function(){ie=void 0})),ie=Date.now()}function Ae(t,e){var i,n=0,s={height:t};for(e=e?1:0;n<4;n+=2-e)s["margin"+(i=et[n])]=s["padding"+i]=t;return e&&(s.opacity=s.width=t),s}function ce(t,e,i){for(var n,s=(he.tweeners[e]||[]).concat(he.tweeners["*"]),r=0,o=s.length;r<o;r++)if(n=s[r].call(i,e,t))return n}function he(t,e,i){var n,s,r=0,o=he.prefilters.length,a=w.Deferred().always((function(){delete A.elem})),A=function(){if(s)return!1;for(var e=ie||ae(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),r=0,o=c.tweens.length;r<o;r++)c.tweens[r].run(n);return a.notifyWith(t,[c,n,i]),n<1&&o?i:(o||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},i),originalProperties:e,originalOptions:i,startTime:ie||ae(),duration:i.duration,tweens:[],createTween:function(e,i){var n=w.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),h=c.props;for(function(t,e){var i,n,s,r,o;for(i in t)if(s=e[n=q(i)],r=t[i],Array.isArray(r)&&(s=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(o=w.cssHooks[n])&&"expand"in o)for(i in r=o.expand(r),delete t[n],r)i in t||(t[i]=r[i],e[i]=s);else e[n]=s}(h,c.opts.specialEasing);r<o;r++)if(n=he.prefilters[r].call(c,t,h,c.opts))return f(n.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return w.map(h,ce,c),f(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(A,{elem:t,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(he,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ot(i.elem,t,tt.exec(e),i),i}]},tweener:function(t,e){f(t)?(e=t,t=["*"]):t=t.match(z);for(var i,n=0,s=t.length;n<s;n++)i=t[n],he.tweeners[i]=he.tweeners[i]||[],he.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,s,r,o,a,A,c,h,u="width"in e||"height"in e,l=this,d={},f=t.style,p=t.nodeType&&rt(t),g=W.get(t,"fxshow");for(n in i.queue||(null==(o=w._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,l.always((function(){l.always((function(){o.unqueued--,w.queue(t,"fx").length||o.empty.fire()}))}))),e)if(s=e[n],se.test(s)){if(delete e[n],r=r||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!g||void 0===g[n])continue;p=!0}d[n]=g&&g[n]||w.style(t,n)}if((A=!w.isEmptyObject(e))||!w.isEmptyObject(d))for(n in u&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=W.get(t,"display")),"none"===(h=w.css(t,"display"))&&(c?h=c:(ct([t],!0),c=t.style.display||c,h=w.css(t,"display"),ct([t]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===w.css(t,"float")&&(A||(l.done((function(){f.display=c})),null==c&&(h=f.display,c="none"===h?"":h)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",l.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),A=!1,d)A||(g?"hidden"in g&&(p=g.hidden):g=W.access(t,"fxshow",{display:c}),r&&(g.hidden=!p),p&&ct([t],!0),l.done((function(){for(n in p||ct([t]),W.remove(t,"fxshow"),d)w.style(t,n,d[n])}))),A=ce(p?g[n]:0,n,l),n in g||(g[n]=A.start,p&&(A.end=A.start,A.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),w.speed=function(t,e,i){var n=t&&"object"==typeof t?w.extend({},t):{complete:i||!i&&e||f(t)&&t,duration:t,easing:i&&e||e&&!f(e)&&e};return w.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in w.fx.speeds?n.duration=w.fx.speeds[n.duration]:n.duration=w.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){f(n.old)&&n.old.call(this),n.queue&&w.dequeue(this,n.queue)},n},w.fn.extend({fadeTo:function(t,e,i,n){return this.filter(rt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=w.isEmptyObject(t),r=w.speed(e,i,n),o=function(){var e=he(this,w.extend({},t),r);(s||W.get(this,"finish"))&&e.stop(!0)};return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,s=null!=t&&t+"queueHooks",r=w.timers,o=W.get(this);if(s)o[s]&&o[s].stop&&n(o[s]);else for(s in o)o[s]&&o[s].stop&&re.test(s)&&n(o[s]);for(s=r.length;s--;)r[s].elem!==this||null!=t&&r[s].queue!==t||(r[s].anim.stop(i),e=!1,r.splice(s,1));!e&&i||w.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=W.get(this),n=i[t+"queue"],s=i[t+"queueHooks"],r=w.timers,o=n?n.length:0;for(i.finish=!0,w.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish}))}}),w.each(["toggle","show","hide"],(function(t,e){var i=w.fn[e];w.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(Ae(e,!0),t,n,s)}})),w.each({slideDown:Ae("show"),slideUp:Ae("hide"),slideToggle:Ae("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){w.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}})),w.timers=[],w.fx.tick=function(){var t,e=0,i=w.timers;for(ie=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||w.fx.stop(),ie=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){ne||(ne=!0,oe())},w.fx.stop=function(){ne=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,i){return e=w.fx&&w.fx.speeds[e]||e,i=i||"fx",this.queue(i,(function(i,n){var s=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(s)}}))},function(){var t=g.createElement("input"),e=g.createElement("select").appendChild(g.createElement("option"));t.type="checkbox",d.checkOn=""!==t.value,d.optSelected=e.selected,(t=g.createElement("input")).value="t",t.type="radio",d.radioValue="t"===t.value}();var ue,le=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return F(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){w.removeAttr(this,t)}))}}),w.extend({attr:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?w.prop(t,e,i):(1===r&&w.isXMLDoc(t)||(s=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?ue:void 0)),void 0!==i?null===i?void w.removeAttr(t,e):s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:(t.setAttribute(e,i+""),i):s&&"get"in s&&null!==(n=s.get(t,e))?n:null==(n=w.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!d.radioValue&&"radio"===e&&C(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,s=e&&e.match(z);if(s&&1===t.nodeType)for(;i=s[n++];)t.removeAttribute(i)}}),ue={set:function(t,e,i){return!1===e?w.removeAttr(t,i):t.setAttribute(i,i),i}},w.each(w.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=le[e]||w.find.attr;le[e]=function(t,e,n){var s,r,o=e.toLowerCase();return n||(r=le[o],le[o]=s,s=null!=i(t,e,n)?o:null,le[o]=r),s}}));var de=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function pe(t){return(t.match(z)||[]).join(" ")}function ge(t){return t.getAttribute&&t.getAttribute("class")||""}function ve(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(z)||[]}w.fn.extend({prop:function(t,e){return F(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[w.propFix[t]||t]}))}}),w.extend({prop:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&w.isXMLDoc(t)||(e=w.propFix[e]||e,s=w.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):de.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(w.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){w.propFix[this.toLowerCase()]=this})),w.fn.extend({addClass:function(t){var e,i,n,s,r,o,a,A=0;if(f(t))return this.each((function(e){w(this).addClass(t.call(this,e,ge(this)))}));if((e=ve(t)).length)for(;i=this[A++];)if(s=ge(i),n=1===i.nodeType&&" "+pe(s)+" "){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s!==(a=pe(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,s,r,o,a,A=0;if(f(t))return this.each((function(e){w(this).removeClass(t.call(this,e,ge(this)))}));if(!arguments.length)return this.attr("class","");if((e=ve(t)).length)for(;i=this[A++];)if(s=ge(i),n=1===i.nodeType&&" "+pe(s)+" "){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s!==(a=pe(n))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):f(t)?this.each((function(i){w(this).toggleClass(t.call(this,i,ge(this),e),e)})):this.each((function(){var e,s,r,o;if(n)for(s=0,r=w(this),o=ve(t);e=o[s++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||((e=ge(this))&&W.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":W.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+pe(ge(i))+" ").indexOf(e)>-1)return!0;return!1}});var me=/\r/g;w.fn.extend({val:function(t){var e,i,n,s=this[0];return arguments.length?(n=f(t),this.each((function(i){var s;1===this.nodeType&&(null==(s=n?t.call(this,i,w(this).val()):t)?s="":"number"==typeof s?s+="":Array.isArray(s)&&(s=w.map(s,(function(t){return null==t?"":t+""}))),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,s,"value")||(this.value=s))}))):s?(e=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(s,"value"))?i:"string"==typeof(i=s.value)?i.replace(me,""):null==i?"":i:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:pe(w.text(t))}},select:{get:function(t){var e,i,n,s=t.options,r=t.selectedIndex,o="select-one"===t.type,a=o?null:[],A=o?r+1:s.length;for(n=r<0?A:o?r:0;n<A;n++)if(((i=s[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!C(i.parentNode,"optgroup"))){if(e=w(i).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var i,n,s=t.options,r=w.makeArray(e),o=s.length;o--;)((n=s[o]).selected=w.inArray(w.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),w.each(["radio","checkbox"],(function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},d.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),d.focusin="onfocusin"in t;var ye=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(e,i,n,s){var r,o,a,A,c,u,l,d,v=[n||g],m=h.call(e,"type")?e.type:e,y=h.call(e,"namespace")?e.namespace.split("."):[];if(o=d=a=n=n||g,3!==n.nodeType&&8!==n.nodeType&&!ye.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(y=m.split("."),m=y.shift(),y.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[w.expando]?e:new w.Event(m,"object"==typeof e&&e)).isTrigger=s?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:w.makeArray(i,[e]),l=w.event.special[m]||{},s||!l.trigger||!1!==l.trigger.apply(n,i))){if(!s&&!l.noBubble&&!p(n)){for(A=l.delegateType||m,ye.test(A+m)||(o=o.parentNode);o;o=o.parentNode)v.push(o),a=o;a===(n.ownerDocument||g)&&v.push(a.defaultView||a.parentWindow||t)}for(r=0;(o=v[r++])&&!e.isPropagationStopped();)d=o,e.type=r>1?A:l.bindType||m,(u=(W.get(o,"events")||Object.create(null))[e.type]&&W.get(o,"handle"))&&u.apply(o,i),(u=c&&o[c])&&u.apply&&Y(o)&&(e.result=u.apply(o,i),!1===e.result&&e.preventDefault());return e.type=m,s||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(v.pop(),i)||!Y(n)||c&&f(n[m])&&!p(n)&&((a=n[c])&&(n[c]=null),w.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,we),n[m](),e.isPropagationStopped()&&d.removeEventListener(m,we),w.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(t,e,i){var n=w.extend(new w.Event,i,{type:t,isSimulated:!0});w.event.trigger(n,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each((function(){w.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];if(i)return w.event.trigger(t,e,i,!0)}}),d.focusin||w.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,s=W.access(n,e);s||n.addEventListener(t,i,!0),W.access(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,s=W.access(n,e)-1;s?W.access(n,e,s):(n.removeEventListener(t,i,!0),W.remove(n,e))}}}));var _e=t.location,xe={guid:Date.now()},De=/\?/;w.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),i};var be=/\[\]$/,Pe=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;function Ee(t,e,i,n){var s;if(Array.isArray(e))w.each(e,(function(e,s){i||be.test(t)?n(t,s):Ee(t+"["+("object"==typeof s&&null!=s?e:"")+"]",s,i,n)}));else if(i||"object"!==y(e))n(t,e);else for(s in e)Ee(t+"["+s+"]",e[s],i,n)}w.param=function(t,e){var i,n=[],s=function(t,e){var i=f(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,(function(){s(this.name,this.value)}));else for(i in t)Ee(i,t[i],e,s);return n.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&Me.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!lt.test(t))})).map((function(t,e){var i=w(this).val();return null==i?null:Array.isArray(i)?w.map(i,(function(t){return{name:e.name,value:t.replace(Pe,"\r\n")}})):{name:e.name,value:i.replace(Pe,"\r\n")}})).get()}});var Be=/%20/g,Oe=/#.*$/,Te=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,Qe=/^(?:GET|HEAD)$/,ze=/^\/\//,Se={},ke={},Le="*/".concat("*"),Ne=g.createElement("a");function Re(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,r=e.toLowerCase().match(z)||[];if(f(i))for(;n=r[s++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function je(t,e,i,n){var s={},r=t===ke;function o(a){var A;return s[a]=!0,w.each(t[a]||[],(function(t,a){var c=a(e,i,n);return"string"!=typeof c||r||s[c]?r?!(A=c):void 0:(e.dataTypes.unshift(c),o(c),!1)})),A}return o(e.dataTypes[0])||!s["*"]&&o("*")}function Fe(t,e){var i,n,s=w.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((s[i]?t:n||(n={}))[i]=e[i]);return n&&w.extend(!0,t,n),t}Ne.href=_e.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_e.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Le,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Fe(Fe(t,w.ajaxSettings),e):Fe(w.ajaxSettings,t)},ajaxPrefilter:Re(Se),ajaxTransport:Re(ke),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0),i=i||{};var n,s,r,o,a,A,c,h,u,l,d=w.ajaxSetup({},i),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?w(f):w.event,v=w.Deferred(),m=w.Callbacks("once memory"),y=d.statusCode||{},_={},x={},D="canceled",b={readyState:0,getResponseHeader:function(t){var e;if(c){if(!o)for(o={};e=Ie.exec(r);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?r:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)b.always(t[b.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||D;return n&&n.abort(e),P(0,e),this}};if(v.promise(b),d.url=((e||d.url||_e.href)+"").replace(ze,_e.protocol+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(z)||[""],null==d.crossDomain){A=g.createElement("a");try{A.href=d.url,A.href=A.href,d.crossDomain=Ne.protocol+"//"+Ne.host!=A.protocol+"//"+A.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=w.param(d.data,d.traditional)),je(Se,d,i,b),c)return b;for(u in(h=w.event&&d.global)&&0==w.active++&&w.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Qe.test(d.type),s=d.url.replace(Oe,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Be,"+")):(l=d.url.slice(s.length),d.data&&(d.processData||"string"==typeof d.data)&&(s+=(De.test(s)?"&":"?")+d.data,delete d.data),!1===d.cache&&(s=s.replace(Te,"$1"),l=(De.test(s)?"&":"?")+"_="+xe.guid+++l),d.url=s+l),d.ifModified&&(w.lastModified[s]&&b.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&b.setRequestHeader("If-None-Match",w.etag[s])),(d.data&&d.hasContent&&!1!==d.contentType||i.contentType)&&b.setRequestHeader("Content-Type",d.contentType),b.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Le+"; q=0.01":""):d.accepts["*"]),d.headers)b.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(!1===d.beforeSend.call(f,b,d)||c))return b.abort();if(D="abort",m.add(d.complete),b.done(d.success),b.fail(d.error),n=je(ke,d,i,b)){if(b.readyState=1,h&&p.trigger("ajaxSend",[b,d]),c)return b;d.async&&d.timeout>0&&(a=t.setTimeout((function(){b.abort("timeout")}),d.timeout));try{c=!1,n.send(_,P)}catch(t){if(c)throw t;P(-1,t)}}else P(-1,"No Transport");function P(e,i,o,A){var u,l,g,_,x,D=i;c||(c=!0,a&&t.clearTimeout(a),n=void 0,r=A||"",b.readyState=e>0?4:0,u=e>=200&&e<300||304===e,o&&(_=function(t,e,i){for(var n,s,r,o,a=t.contents,A=t.dataTypes;"*"===A[0];)A.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(s in a)if(a[s]&&a[s].test(n)){A.unshift(s);break}if(A[0]in i)r=A[0];else{for(s in i){if(!A[0]||t.converters[s+" "+A[0]]){r=s;break}o||(o=s)}r=r||o}if(r)return r!==A[0]&&A.unshift(r),i[r]}(d,b,o)),!u&&w.inArray("script",d.dataTypes)>-1&&(d.converters["text script"]=function(){}),_=function(t,e,i,n){var s,r,o,a,A,c={},h=t.dataTypes.slice();if(h[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(r=h.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!A&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),A=r,r=h.shift())if("*"===r)r=A;else if("*"!==A&&A!==r){if(!(o=c[A+" "+r]||c["* "+r]))for(s in c)if((a=s.split(" "))[1]===r&&(o=c[A+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[s]:!0!==c[s]&&(r=a[0],h.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+A+" to "+r}}}return{state:"success",data:e}}(d,_,b,u),u?(d.ifModified&&((x=b.getResponseHeader("Last-Modified"))&&(w.lastModified[s]=x),(x=b.getResponseHeader("etag"))&&(w.etag[s]=x)),204===e||"HEAD"===d.type?D="nocontent":304===e?D="notmodified":(D=_.state,l=_.data,u=!(g=_.error))):(g=D,!e&&D||(D="error",e<0&&(e=0))),b.status=e,b.statusText=(i||D)+"",u?v.resolveWith(f,[l,D,b]):v.rejectWith(f,[b,D,g]),b.statusCode(y),y=void 0,h&&p.trigger(u?"ajaxSuccess":"ajaxError",[b,d,u?l:g]),m.fireWith(f,[b,D]),h&&(p.trigger("ajaxComplete",[b,d]),--w.active||w.event.trigger("ajaxStop")))}return b},getJSON:function(t,e,i){return w.get(t,e,i,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],(function(t,e){w[e]=function(t,i,n,s){return f(i)&&(s=s||n,n=i,i=void 0),w.ajax(w.extend({url:t,type:e,dataType:s,data:i,success:n},w.isPlainObject(t)&&t))}})),w.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),w._evalUrl=function(t,e,i){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e,i)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(f(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return f(t)?this.each((function(e){w(this).wrapInner(t.call(this,e))})):this.each((function(){var e=w(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=f(t);return this.each((function(i){w(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){w(this).replaceWith(this.childNodes)})),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},Ue=w.ajaxSettings.xhr();d.cors=!!Ue&&"withCredentials"in Ue,d.ajax=Ue=!!Ue,w.ajaxTransport((function(e){var i,n;if(d.cors||Ue&&!e.crossDomain)return{send:function(s,r){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)a.setRequestHeader(o,s[o]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(He[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=a.ontimeout=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout((function(){i&&n()}))},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}})),w.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),w.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain||t.scriptAttrs)return{send:function(n,s){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&s("error"===t.type?404:200,t.type)}),g.head.appendChild(e[0])},abort:function(){i&&i()}}}));var Ge,qe=[],Ye=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||w.expando+"_"+xe.guid++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",(function(e,i,n){var s,r,o,a=!1!==e.jsonp&&(Ye.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return s=e.jsonpCallback=f(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ye,"$1"+s):!1!==e.jsonp&&(e.url+=(De.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return o||w.error(s+" was not called"),o[0]},e.dataTypes[0]="json",r=t[s],t[s]=function(){o=arguments},n.always((function(){void 0===r?w(t).removeProp(s):t[s]=r,e[s]&&(e.jsonpCallback=i.jsonpCallback,qe.push(s)),o&&f(r)&&r(o[0]),o=r=void 0})),"script"})),d.createHTMLDocument=((Ge=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ge.childNodes.length),w.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(d.createHTMLDocument?((n=(e=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,e.head.appendChild(n)):e=g),r=!i&&[],(s=M.exec(t))?[e.createElement(s[1])]:(s=yt([t],e,r),r&&r.length&&w(r).remove(),w.merge([],s.childNodes)));var n,s,r},w.fn.load=function(t,e,i){var n,s,r,o=this,a=t.indexOf(" ");return a>-1&&(n=pe(t.slice(a)),t=t.slice(0,a)),f(e)?(i=e,e=void 0):e&&"object"==typeof e&&(s="POST"),o.length>0&&w.ajax({url:t,type:s||"GET",dataType:"html",data:e}).done((function(t){r=arguments,o.html(n?w("<div>").append(w.parseHTML(t)).find(n):t)})).always(i&&function(t,e){o.each((function(){i.apply(this,r||[t.responseText,e,t])}))}),this},w.expr.pseudos.animated=function(t){return w.grep(w.timers,(function(e){return t===e.elem})).length},w.offset={setOffset:function(t,e,i){var n,s,r,o,a,A,c=w.css(t,"position"),h=w(t),u={};"static"===c&&(t.style.position="relative"),a=h.offset(),r=w.css(t,"top"),A=w.css(t,"left"),("absolute"===c||"fixed"===c)&&(r+A).indexOf("auto")>-1?(o=(n=h.position()).top,s=n.left):(o=parseFloat(r)||0,s=parseFloat(A)||0),f(e)&&(e=e.call(t,i,w.extend({},a))),null!=e.top&&(u.top=e.top-a.top+o),null!=e.left&&(u.left=e.left-a.left+s),"using"in e?e.using.call(t,u):("number"==typeof u.top&&(u.top+="px"),"number"==typeof u.left&&(u.left+="px"),h.css(u))}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){w.offset.setOffset(this,t,e)}));var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],s={top:0,left:0};if("fixed"===w.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((s=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),s.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-s.top-w.css(n,"marginTop",!0),left:e.left-s.left-w.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||it}))}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;w.fn[t]=function(n){return F(this,(function(t,n,s){var r;if(p(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===s)return r?r[e]:t[n];r?r.scrollTo(i?r.pageXOffset:s,i?s:r.pageYOffset):t[n]=s}),t,n,arguments.length)}})),w.each(["top","left"],(function(t,e){w.cssHooks[e]=Ut(d.pixelPosition,(function(t,i){if(i)return i=Ht(t,e),Nt.test(i)?w(t).position()[e]+"px":i}))})),w.each({Height:"height",Width:"width"},(function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,n){w.fn[n]=function(s,r){var o=arguments.length&&(i||"boolean"!=typeof s),a=i||(!0===s||!0===r?"margin":"border");return F(this,(function(e,i,s){var r;return p(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===s?w.css(e,i,a):w.style(e,i,s,a)}),e,o?s:void 0,o)}}))})),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){w.fn[e]=function(t){return this.on(e,t)}})),w.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){w.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}));var Xe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),f(t))return n=s.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(s.call(arguments)))}).guid=t.guid=t.guid||w.guid++,r},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=C,w.isFunction=f,w.isWindow=p,w.camelCase=q,w.type=y,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},w.trim=function(t){return null==t?"":(t+"").replace(Xe,"")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return w}));var We=t.jQuery,Ze=t.$;return w.noConflict=function(e){return t.$===w&&(t.$=Ze),e&&t.jQuery===w&&(t.jQuery=We),w},void 0===e&&(t.jQuery=t.$=w),w},"object"==typeof module&&"object"==typeof module.exports?module.exports=oe.document?ae(oe,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return ae(t)}:ae(oe);console.info("Calla","v0.11.0");class he extends Event{constructor(t,e,i){super(t),this.id=e;for(let t in i)"isTrusted"===t||Object.prototype.hasOwnProperty.call(Event.prototype,t)||(this[t]=i[t])}}const ue=["userMoved","userTurned","userPosed","emote","userInitRequest","userInitResponse","audioMuteStatusChanged","videoMuteStatusChanged","localAudioMuteStatusChanged","localVideoMuteStatusChanged","videoConferenceJoined","videoConferenceLeft","participantJoined","participantLeft","avatarChanged","displayNameChange","audioActivity","setAvatarEmoji","deviceListChanged","participantRoleChanged","audioAdded","videoAdded","audioRemoved","videoRemoved","audioChanged","videoChanged"],le=new e;function de(t,e){if("localhost"===window.location.hostname){const i=(...t)=>{"conference.endpoint_message_received"===e&&t.length>=2&&("e2e-ping-request"===t[1].type||"e2e-ping-response"===t[1].type||"stats"===t[1].type)||console.log(e,...t)};t.addEventListener(e,i)}}function fe(t,e){for(let i of Object.values(e))-1===i.indexOf("audioLevelsChanged")&&de(t,i)}class pe{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,n,s,r,o,a,A,c,h,u,l,d,f,p){const g=this.elements;return g[0]=t,g[4]=e,g[8]=i,g[12]=n,g[1]=s,g[5]=r,g[9]=o,g[13]=a,g[2]=A,g[6]=c,g[10]=h,g[14]=u,g[3]=l,g[7]=d,g[11]=f,g[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new pe).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,n=1/ge.setFromMatrixColumn(t,0).length(),s=1/ge.setFromMatrixColumn(t,1).length(),r=1/ge.setFromMatrixColumn(t,2).length();return e[0]=i[0]*n,e[1]=i[1]*n,e[2]=i[2]*n,e[3]=0,e[4]=i[4]*s,e[5]=i[5]*s,e[6]=i[6]*s,e[7]=0,e[8]=i[8]*r,e[9]=i[9]*r,e[10]=i[10]*r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,i=t.x,n=t.y,s=t.z,r=Math.cos(i),o=Math.sin(i),a=Math.cos(n),A=Math.sin(n),c=Math.cos(s),h=Math.sin(s);if("XYZ"===t.order){const t=r*c,i=r*h,n=o*c,s=o*h;e[0]=a*c,e[4]=-a*h,e[8]=A,e[1]=i+n*A,e[5]=t-s*A,e[9]=-o*a,e[2]=s-t*A,e[6]=n+i*A,e[10]=r*a}else if("YXZ"===t.order){const t=a*c,i=a*h,n=A*c,s=A*h;e[0]=t+s*o,e[4]=n*o-i,e[8]=r*A,e[1]=r*h,e[5]=r*c,e[9]=-o,e[2]=i*o-n,e[6]=s+t*o,e[10]=r*a}else if("ZXY"===t.order){const t=a*c,i=a*h,n=A*c,s=A*h;e[0]=t-s*o,e[4]=-r*h,e[8]=n+i*o,e[1]=i+n*o,e[5]=r*c,e[9]=s-t*o,e[2]=-r*A,e[6]=o,e[10]=r*a}else if("ZYX"===t.order){const t=r*c,i=r*h,n=o*c,s=o*h;e[0]=a*c,e[4]=n*A-i,e[8]=t*A+s,e[1]=a*h,e[5]=s*A+t,e[9]=i*A-n,e[2]=-A,e[6]=o*a,e[10]=r*a}else if("YZX"===t.order){const t=r*a,i=r*A,n=o*a,s=o*A;e[0]=a*c,e[4]=s-t*h,e[8]=n*h+i,e[1]=h,e[5]=r*c,e[9]=-o*c,e[2]=-A*c,e[6]=i*h+n,e[10]=t-s*h}else if("XZY"===t.order){const t=r*a,i=r*A,n=o*a,s=o*A;e[0]=a*c,e[4]=-h,e[8]=A*c,e[1]=t*h+s,e[5]=r*c,e[9]=i*h-n,e[2]=n*h-i,e[6]=o*c,e[10]=s*h+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(me,t,ye)}lookAt(t,e,i){const n=this.elements;return xe.subVectors(t,e),0===xe.lengthSq()&&(xe.z=1),xe.normalize(),we.crossVectors(i,xe),0===we.lengthSq()&&(1===Math.abs(i.z)?xe.x+=1e-4:xe.z+=1e-4,xe.normalize(),we.crossVectors(i,xe)),we.normalize(),_e.crossVectors(xe,we),n[0]=we.x,n[4]=_e.x,n[8]=xe.x,n[1]=we.y,n[5]=_e.y,n[9]=xe.y,n[2]=we.z,n[6]=_e.z,n[10]=xe.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,s=this.elements,r=i[0],o=i[4],a=i[8],A=i[12],c=i[1],h=i[5],u=i[9],l=i[13],d=i[2],f=i[6],p=i[10],g=i[14],v=i[3],m=i[7],y=i[11],w=i[15],_=n[0],x=n[4],D=n[8],b=n[12],P=n[1],C=n[5],M=n[9],E=n[13],B=n[2],O=n[6],T=n[10],I=n[14],Q=n[3],z=n[7],S=n[11],k=n[15];return s[0]=r*_+o*P+a*B+A*Q,s[4]=r*x+o*C+a*O+A*z,s[8]=r*D+o*M+a*T+A*S,s[12]=r*b+o*E+a*I+A*k,s[1]=c*_+h*P+u*B+l*Q,s[5]=c*x+h*C+u*O+l*z,s[9]=c*D+h*M+u*T+l*S,s[13]=c*b+h*E+u*I+l*k,s[2]=d*_+f*P+p*B+g*Q,s[6]=d*x+f*C+p*O+g*z,s[10]=d*D+f*M+p*T+g*S,s[14]=d*b+f*E+p*I+g*k,s[3]=v*_+m*P+y*B+w*Q,s[7]=v*x+m*C+y*O+w*z,s[11]=v*D+m*M+y*T+w*S,s[15]=v*b+m*E+y*I+w*k,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],n=t[8],s=t[12],r=t[1],o=t[5],a=t[9],A=t[13],c=t[2],h=t[6],u=t[10],l=t[14];return t[3]*(+s*a*h-n*A*h-s*o*u+i*A*u+n*o*l-i*a*l)+t[7]*(+e*a*l-e*A*u+s*r*u-n*r*l+n*A*c-s*a*c)+t[11]*(+e*A*h-e*o*l-s*r*h+i*r*l+s*o*c-i*A*c)+t[15]*(-n*o*c-e*a*h+e*o*u+n*r*h-i*r*u+i*a*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=i),this}getInverse(t,e){void 0!==e&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const i=this.elements,n=t.elements,s=n[0],r=n[1],o=n[2],a=n[3],A=n[4],c=n[5],h=n[6],u=n[7],l=n[8],d=n[9],f=n[10],p=n[11],g=n[12],v=n[13],m=n[14],y=n[15],w=d*m*u-v*f*u+v*h*p-c*m*p-d*h*y+c*f*y,_=g*f*u-l*m*u-g*h*p+A*m*p+l*h*y-A*f*y,x=l*v*u-g*d*u+g*c*p-A*v*p-l*c*y+A*d*y,D=g*d*h-l*v*h-g*c*f+A*v*f+l*c*m-A*d*m,b=s*w+r*_+o*x+a*D;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/b;return i[0]=w*P,i[1]=(v*f*a-d*m*a-v*o*p+r*m*p+d*o*y-r*f*y)*P,i[2]=(c*m*a-v*h*a+v*o*u-r*m*u-c*o*y+r*h*y)*P,i[3]=(d*h*a-c*f*a-d*o*u+r*f*u+c*o*p-r*h*p)*P,i[4]=_*P,i[5]=(l*m*a-g*f*a+g*o*p-s*m*p-l*o*y+s*f*y)*P,i[6]=(g*h*a-A*m*a-g*o*u+s*m*u+A*o*y-s*h*y)*P,i[7]=(A*f*a-l*h*a+l*o*u-s*f*u-A*o*p+s*h*p)*P,i[8]=x*P,i[9]=(g*d*a-l*v*a-g*r*p+s*v*p+l*r*y-s*d*y)*P,i[10]=(A*v*a-g*c*a+g*r*u-s*v*u-A*r*y+s*c*y)*P,i[11]=(l*c*a-A*d*a-l*r*u+s*d*u+A*r*p-s*c*p)*P,i[12]=D*P,i[13]=(l*v*o-g*d*o+g*r*f-s*v*f-l*r*m+s*d*m)*P,i[14]=(g*c*o-A*v*o-g*r*h+s*v*h+A*r*m-s*c*m)*P,i[15]=(A*d*o-l*c*o+l*r*h-s*d*h-A*r*f+s*c*f)*P,this}scale(t){const e=this.elements,i=t.x,n=t.y,s=t.z;return e[0]*=i,e[4]*=n,e[8]*=s,e[1]*=i,e[5]*=n,e[9]*=s,e[2]*=i,e[6]*=n,e[10]*=s,e[3]*=i,e[7]*=n,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))}makeTranslation(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),n=Math.sin(e),s=1-i,r=t.x,o=t.y,a=t.z,A=s*r,c=s*o;return this.set(A*r+i,A*o-n*a,A*a+n*o,0,A*o+n*a,c*o+i,c*a-n*r,0,A*a-n*o,c*a+n*r,s*a*a+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this}compose(t,e,i){const n=this.elements,s=e._x,r=e._y,o=e._z,a=e._w,A=s+s,c=r+r,h=o+o,u=s*A,l=s*c,d=s*h,f=r*c,p=r*h,g=o*h,v=a*A,m=a*c,y=a*h,w=i.x,_=i.y,x=i.z;return n[0]=(1-(f+g))*w,n[1]=(l+y)*w,n[2]=(d-m)*w,n[3]=0,n[4]=(l-y)*_,n[5]=(1-(u+g))*_,n[6]=(p+v)*_,n[7]=0,n[8]=(d+m)*x,n[9]=(p-v)*x,n[10]=(1-(u+f))*x,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,i){const n=this.elements;let s=ge.set(n[0],n[1],n[2]).length();const r=ge.set(n[4],n[5],n[6]).length(),o=ge.set(n[8],n[9],n[10]).length();this.determinant()<0&&(s=-s),t.x=n[12],t.y=n[13],t.z=n[14],ve.copy(this);const a=1/s,A=1/r,c=1/o;return ve.elements[0]*=a,ve.elements[1]*=a,ve.elements[2]*=a,ve.elements[4]*=A,ve.elements[5]*=A,ve.elements[6]*=A,ve.elements[8]*=c,ve.elements[9]*=c,ve.elements[10]*=c,e.setFromRotationMatrix(ve),i.x=s,i.y=r,i.z=o,this}makePerspective(t,e,i,n,s,r){void 0===r&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,a=2*s/(e-t),A=2*s/(i-n),c=(e+t)/(e-t),h=(i+n)/(i-n),u=-(r+s)/(r-s),l=-2*r*s/(r-s);return o[0]=a,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=A,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=l,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(t,e,i,n,s,r){const o=this.elements,a=1/(e-t),A=1/(i-n),c=1/(r-s),h=(e+t)*a,u=(i+n)*A,l=(r+s)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*A,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-l,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let t=0;t<16;t++)if(e[t]!==i[t])return!1;return!0}fromArray(t,e){void 0===e&&(e=0);for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const ge=new _,ve=new pe,me=new _(0,0,0),ye=new _(1,1,1),we=new _,_e=new _,xe=new _;function De(){}Object.assign(De.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0===this._listeners)return;const i=this._listeners[t];if(void 0!==i){const t=i.indexOf(e);-1!==t&&i.splice(t,1)}},dispatchEvent:function(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const i=e.slice(0);for(let e=0,n=i.length;e<n;e++)i[e].call(this,t)}}});class be{constructor(t=0,e=0,i=0,n=be.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=e,this._z=i,this._order=n}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._order=n||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e,i){const n=m.clamp,s=t.elements,r=s[0],o=s[4],a=s[8],A=s[1],c=s[5],h=s[9],u=s[2],l=s[6],d=s[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(l,c),this._z=0);break;case"YXZ":this._x=Math.asin(-n(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(A,c)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(n(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(A,r));break;case"ZYX":this._y=Math.asin(-n(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(l,d),this._z=Math.atan2(A,r)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(n(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(l,c),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-h,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==i&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return Pe.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Pe,e,i)}setFromVector3(t,e){return this.set(t.x,t.y,t.z,e||this._order)}reorder(t){return Ce.setFromEuler(this),this.setFromQuaternion(Ce,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new _(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}be.DefaultOrder="XYZ",be.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const Pe=new pe,Ce=new w;class Me{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}}class Ee{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,n,s,r,o,a,A){const c=this.elements;return c[0]=t,c[1]=n,c[2]=o,c[3]=e,c[4]=s,c[5]=a,c[6]=i,c[7]=r,c[8]=A,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,s=this.elements,r=i[0],o=i[3],a=i[6],A=i[1],c=i[4],h=i[7],u=i[2],l=i[5],d=i[8],f=n[0],p=n[3],g=n[6],v=n[1],m=n[4],y=n[7],w=n[2],_=n[5],x=n[8];return s[0]=r*f+o*v+a*w,s[3]=r*p+o*m+a*_,s[6]=r*g+o*y+a*x,s[1]=A*f+c*v+h*w,s[4]=A*p+c*m+h*_,s[7]=A*g+c*y+h*x,s[2]=u*f+l*v+d*w,s[5]=u*p+l*m+d*_,s[8]=u*g+l*y+d*x,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],o=t[5],a=t[6],A=t[7],c=t[8];return e*r*c-e*o*A-i*s*c+i*o*a+n*s*A-n*r*a}getInverse(t,e){void 0!==e&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const i=t.elements,n=this.elements,s=i[0],r=i[1],o=i[2],a=i[3],A=i[4],c=i[5],h=i[6],u=i[7],l=i[8],d=l*A-c*u,f=c*h-l*a,p=u*a-A*h,g=s*d+r*f+o*p;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return n[0]=d*v,n[1]=(o*u-l*r)*v,n[2]=(c*r-o*A)*v,n[3]=f*v,n[4]=(l*s-o*h)*v,n[5]=(o*a-c*s)*v,n[6]=p*v,n[7]=(r*h-u*s)*v,n[8]=(A*s-r*a)*v,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).getInverse(this).transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,n,s,r,o){const a=Math.cos(s),A=Math.sin(s);this.set(i*a,i*A,-i*(a*r+A*o)+r+t,-n*A,n*a,-n*(-A*r+a*o)+o+e,0,0,1)}scale(t,e){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),n=this.elements,s=n[0],r=n[3],o=n[6],a=n[1],A=n[4],c=n[7];return n[0]=e*s+i*a,n[3]=e*r+i*A,n[6]=e*o+i*c,n[1]=-i*s+e*a,n[4]=-i*r+e*A,n[7]=-i*o+e*c,this}translate(t,e){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this}equals(t){const e=this.elements,i=t.elements;for(let t=0;t<9;t++)if(e[t]!==i[t])return!1;return!0}fromArray(t,e){void 0===e&&(e=0);for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}}let Be=0;const Oe=new _,Te=new w,Ie=new pe,Qe=new _,ze=new _,Se=new _,ke=new w,Le=new _(1,0,0),Ne=new _(0,1,0),Re=new _(0,0,1),je={type:"added"},Fe={type:"removed"};function He(){Object.defineProperty(this,"id",{value:Be++}),this.uuid=m.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=He.DefaultUp.clone();const t=new _,e=new be,i=new w,n=new _(1,1,1);e._onChange((function(){i.setFromEuler(e,!1)})),i._onChange((function(){e.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new pe},normalMatrix:{value:new Ee}}),this.matrix=new pe,this.matrixWorld=new pe,this.matrixAutoUpdate=He.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Me,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}He.DefaultUp=new _(0,1,0),He.DefaultMatrixAutoUpdate=!0,He.prototype=Object.assign(Object.create(De.prototype),{constructor:He,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return Te.setFromAxisAngle(t,e),this.quaternion.multiply(Te),this},rotateOnWorldAxis:function(t,e){return Te.setFromAxisAngle(t,e),this.quaternion.premultiply(Te),this},rotateX:function(t){return this.rotateOnAxis(Le,t)},rotateY:function(t){return this.rotateOnAxis(Ne,t)},rotateZ:function(t){return this.rotateOnAxis(Re,t)},translateOnAxis:function(t,e){return Oe.copy(t).applyQuaternion(this.quaternion),this.position.add(Oe.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(Le,t)},translateY:function(t){return this.translateOnAxis(Ne,t)},translateZ:function(t){return this.translateOnAxis(Re,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Ie.getInverse(this.matrixWorld))},lookAt:function(t,e,i){t.isVector3?Qe.copy(t):Qe.set(t,e,i);const n=this.parent;this.updateWorldMatrix(!0,!1),ze.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ie.lookAt(ze,Qe,this.up):Ie.lookAt(Qe,ze,this.up),this.quaternion.setFromRotationMatrix(Ie),n&&(Ie.extractRotation(n.matrixWorld),Te.setFromRotationMatrix(Ie),this.quaternion.premultiply(Te.inverse()))},add:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(je)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Fe)),this},attach:function(t){return this.updateWorldMatrix(!0,!1),Ie.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Ie.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ie),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let i=0,n=this.children.length;i<n;i++){const n=this.children[i].getObjectByProperty(t,e);if(void 0!==n)return n}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new _),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new w),this.updateMatrixWorld(!0),this.matrixWorld.decompose(ze,t,Se),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new _),this.updateMatrixWorld(!0),this.matrixWorld.decompose(ze,ke,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new _),this.updateMatrixWorld(!0);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1===this.visible)return;t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,i=t.length;e<i;e++)t[e].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};function s(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){n.geometry=s(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const i=e.shapes;if(Array.isArray(i))for(let e=0,n=i.length;e<n;e++){const n=i[e];s(t.shapes,n)}else s(t.shapes,i)}}if(void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let i=0,n=this.material.length;i<n;i++)e.push(s(t.materials,this.material[i]));n.material=e}else n.material=s(t.materials,this.material);if(this.children.length>0){n.children=[];for(let e=0;e<this.children.length;e++)n.children.push(this.children[e].toJSON(t).object)}if(e){const e=r(t.geometries),n=r(t.materials),s=r(t.textures),o=r(t.images),a=r(t.shapes);e.length>0&&(i.geometries=e),n.length>0&&(i.materials=n),s.length>0&&(i.textures=s),o.length>0&&(i.images=o),a.length>0&&(i.shapes=a)}return i.object=n,i;function r(t){const e=[];for(const i in t){const n=t[i];delete n.metadata,e.push(n)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const i=t.children[e];this.add(i.clone())}return this}});new _,new _,new _,new _;const Ue=function(){const t=new URL(document.location.href);return t.searchParams.has("testUserNumber")?parseFloat(t.searchParams.get("testUserNumber")):1}(),Ge=[];window.addEventListener("unload",()=>{for(let t of Ge)t.close()});const qe=Array.prototype.reduce.call(document.querySelectorAll("[id]"),(t,e)=>(t[e.id]=e,t),{});let Ye=null;const Xe=new class extends a{constructor(t,e,i){super(),this.host=t,this.bridgeHost=e,this.bridgeMUC=i,this._prepTask=null,this.joined=!1,this.connection=null,this.conference=null,this.audio=new re,this.audio.addEventListener("audioActivity",t=>{le.id=t.id,le.isActive=t.isActive,this.dispatchEvent(le)}),this.hasAudioPermission=!1,this.hasVideoPermission=!1,this.localUserID=null,this.preferredAudioOutputID=null,this.preferredAudioInputID=null,this.preferredVideoInputID=null,this.addEventListener("participantJoined",async t=>{const e=await this.userInitRequestAsync(t.id);r(e.x)&&r(e.y)&&r(e.z)?this.audio.setUserPosition(e.id,e.x,e.y,e.z):r(e.fx)&&r(e.fy)&&r(e.fz)&&r(e.ux)&&r(e.uy)&&r(e.uz)&&(r(e.px)&&r(e.py)&&r(e.pz)?this.audio.setUserPose(e.id,e.px,e.py,e.pz,e.fx,e.fy,e.fz,e.ux,e.uy,e.uz):this.audio.setUserOrientation(e.id,e.fx,e.fy,e.fz,e.ux,e.uy,e.uz))}),this.addEventListener("userInitRequest",t=>{const e=this.audio.getUser(this.localUserID),{p:i,f:n,u:s}=e.pose.end;this.userInitResponse(t.id,{id:this.localUserID,px:i.x,py:i.y,pz:i.z,fx:n.x,fy:n.y,fz:n.z,ux:s.x,uy:s.y,uz:s.z})}),this.addEventListener("userMoved",t=>{this.audio.setUserPosition(t.id,t.x,t.y,t.z)}),this.addEventListener("userTurned",t=>{this.audio.setUserOrientation(t.id,t.fx,t.fy,t.fz,t.ux,t.uy,t.uz)}),this.addEventListener("userPosed",t=>{this.audio.setUserPose(t.id,t.px,t.py,t.pz,t.fx,t.fy,t.fz,t.ux,t.uy,t.uz)}),this.addEventListener("participantLeft",t=>{this.removeUser(t.id)});const n=t=>{const e=Object.assign(new Event("audioChanged"),{id:t.id,stream:t.stream});this.dispatchEvent(e)},s=t=>{const e=Object.assign(new Event("videoChanged"),{id:t.id,stream:t.stream});this.dispatchEvent(e)};this.addEventListener("audioAdded",n),this.addEventListener("audioRemoved",n),this.addEventListener("videoAdded",s),this.addEventListener("videoRemoved",s),this.addEventListener("audioMuteStatusChanged",t=>{if(t.id===this.localUserID){const e=Object.assign(new Event("localAudioMuteStatusChanged"),{id:t.id,muted:t.muted});this.dispatchEvent(e)}}),this.addEventListener("videoMuteStatusChanged",t=>{if(t.id===this.localUserID){const e=Object.assign(new Event("localVideoMuteStatusChanged"),{id:t.id,muted:t.muted});this.dispatchEvent(e)}});const o=()=>this.dispose();window.addEventListener("beforeunload",o),window.addEventListener("unload",o),window.addEventListener("pagehide",o),Object.seal(this)}get appFingerPrint(){return"Calla"}userIDs(){return Object.keys(this.conference.participants)}userExists(t){return!!this.conference.participants[t]}users(){return Object.keys(this.conference.participants).map(t=>[t,this.conference.participants[t].getDisplayName()])}update(){this.audio.update()}_prepareAsync(){return this._prepTask||(console.info("Connecting to:",this.host),this._prepTask=import(`https://${this.host}/libs/lib-jitsi-meet.min.js`)),this._prepTask}async join(t,e){await this.leaveAsync(),await this._prepareAsync(),t=t.toLocaleLowerCase(),JitsiMeetJS.setLogLevel(JitsiMeetJS.logLevels.ERROR),JitsiMeetJS.init(),this.connection=new JitsiMeetJS.JitsiConnection(null,null,{hosts:{domain:this.bridgeHost,muc:this.bridgeMUC},serviceUrl:`https://${this.host}/http-bind`,enableLipSync:!0});const{CONNECTION_ESTABLISHED:i,CONNECTION_FAILED:n,CONNECTION_DISCONNECTED:s}=JitsiMeetJS.events.connection;fe(this.connection,JitsiMeetJS.events.connection);const r=()=>{this.dispatchEvent(Object.assign(new Event("videoConferenceLeft"),{roomName:t})),this.localUserID=null,this.conference=null,this.joined=!1},o=t=>{console.error("Connection failed",t),this.dispose(),r(),a()},a=()=>{this.connection.removeEventListener(i,A),this.connection.removeEventListener(n,o),this.connection.removeEventListener(s,a),this.connection=null},A=i=>{this.conference=this.connection.initJitsiConference(t,{openBridgeChannel:!0});const{TRACK_ADDED:n,TRACK_REMOVED:s,CONFERENCE_JOINED:a,CONFERENCE_LEFT:A,USER_JOINED:c,USER_LEFT:h,DISPLAY_NAME_CHANGED:u,ENDPOINT_MESSAGE_RECEIVED:l,CONNECTION_INTERRUPTED:d}=JitsiMeetJS.events.conference;fe(this.conference,JitsiMeetJS.events.conference),this.conference.addEventListener(a,async()=>{this.localUserID=this.conference.myUserId(),console.log("======== CONFERENCE_JOINED ::",this.localUserID);const i=this.audio.createLocalUser(this.localUserID);this.joined=!0,this.setDisplayName(e),this.dispatchEvent(Object.assign(new Event("videoConferenceJoined"),{id:this.localUserID,roomName:t,displayName:e,pose:i.pose})),await this.setPreferredDevicesAsync()}),this.conference.addEventListener(A,r);const f=(t,e)=>{const i=t.getParticipantId()||this.localUserID,n=t.getType()+"MuteStatusChanged",s=Object.assign(new Event(n),{id:i,muted:e});this.dispatchEvent(s)},p=t=>{f(t,t.isMuted())};this.conference.addEventListener(c,(t,e)=>{console.log("======== USER_JOINED ::",t);const i=this.audio.createUser(t),n=Object.assign(new Event("participantJoined"),{id:t,displayName:e.getDisplayName(),pose:i.pose});this.dispatchEvent(n)}),this.conference.addEventListener(h,t=>{const e=Object.assign(new Event("participantLeft"),{id:t});this.dispatchEvent(e)}),this.conference.addEventListener(u,(t,e)=>{const i=Object.assign(new Event("displayNameChange"),{id:t,displayName:e});this.dispatchEvent(i)}),this.conference.addEventListener(n,t=>{const e=t.getParticipantId()||this.localUserID,i=t.isLocal(),n=t.getType(),s=Object.assign(new Event(n+"Added"),{id:e,stream:t.stream}),r=this.audio.getUser(e);fe(t,JitsiMeetJS.events.track),t.addEventListener(JitsiMeetJS.events.track.TRACK_MUTE_CHANGED,p),r.tracks.has(n)&&(r.tracks.get(n).dispose(),r.tracks.delete(n)),r.tracks.set(n,t),"audio"!==n||i||this.audio.setUserStream(e,t.stream),this.dispatchEvent(s),f(t,!1)}),this.conference.addEventListener(s,t=>{const e=t.getParticipantId()||this.localUserID,i=t.isLocal(),n=t.getType(),s=Object.assign(new Event(n+"Removed"),{id:e,stream:null}),r=this.audio.getUser(e);r&&r.tracks.has(n)&&(r.tracks.get(n).dispose(),r.tracks.delete(n)),"audio"!==n||i||this.audio.setUserStream(e,null),t.dispose(),f(t,!0),this.dispatchEvent(s)}),this.conference.addEventListener(l,(t,e)=>{this.rxGameData({user:t,data:e})}),this.conference.addEventListener(d,(...t)=>{console.log("CONNECTION_INTERRUPTED"),o(t)}),this.conference.join()};this.connection.addEventListener(i,A),this.connection.addEventListener(n,o),this.connection.addEventListener(s,a),fe(JitsiMeetJS.mediaDevices,JitsiMeetJS.events.mediaDevices),this.connection.connect()}dispatchEvent(t){null!==t.id&&void 0!==t.id&&"local"!==t.id||(null===this.localUserID&&console.warn("I DON'T KNOW THE LOCAL USER ID YET!"),t.id=this.localUserID),super.dispatchEvent(t)}async setPreferredDevicesAsync(){await this.setPreferredAudioInputAsync(!0),await this.setPreferredVideoInputAsync(!1),await this.setPreferredAudioOutputAsync(!0)}async getPreferredAudioOutputAsync(e){return t(await this.getAudioOutputDevicesAsync(),t=>t.deviceId===this.preferredAudioOutputID,t=>"communications"===t.deviceId,t=>"default"===t.deviceId,t=>e&&t&&t.deviceId)}async setPreferredAudioOutputAsync(t){const e=await this.getPreferredAudioOutputAsync(t);e&&await this.setAudioOutputDeviceAsync(e)}async getPreferredAudioInputAsync(e){return t(await this.getAudioInputDevicesAsync(),t=>t.deviceId===this.preferredAudioInputID,t=>"communications"===t.deviceId,t=>"default"===t.deviceId,t=>e&&t&&t.deviceId)}async setPreferredAudioInputAsync(t){const e=await this.getPreferredAudioInputAsync(t);e&&await this.setAudioInputDeviceAsync(e)}async getPreferredVideoInputAsync(e){return t(await this.getVideoInputDevicesAsync(),t=>t.deviceId===this.preferredVideoInputID,t=>e&&t&&/front/i.test(t.label),t=>e&&t&&t.deviceId)}async setPreferredVideoInputAsync(t){const e=await this.getPreferredVideoInputAsync(t);e&&await this.setVideoInputDeviceAsync(e)}dispose(){if(this.localUserID){const t=this.audio.getUser(this.localUserID);if(t)for(let e of t.tracks.values())e.dispose()}}setDisplayName(t){this.conference.setDisplayName(t)}async leaveAsync(){if(this.conference){if(null!==this.localUserID){const t=this.audio.getUser(this.localUserID);if(t){if(t.tracks.has("video")){const e=ce(this,"videoRemoved");this.conference.removeTrack(t.tracks.get("video")),await e}if(t.tracks.has("audio")){const e=ce(this,"audioRemoved");this.conference.removeTrack(t.tracks.get("audio")),await e}}}await this.conference.leave(),await this.connection.disconnect()}}async _getDevicesAsync(){await this._prepareAsync();const t=await navigator.mediaDevices.enumerateDevices();for(let e of t)e.deviceId.length>0&&(this.hasAudioPermission|="audioinput"===e.kind&&e.label.length>0,this.hasVideoPermission|="videoinput"===e.kind&&e.label.length>0);return t}async getAvailableDevicesAsync(){let t=await this._getDevicesAsync();for(let e=0;e<3&&!this.hasAudioPermission;++e){t=null;try{await navigator.mediaDevices.getUserMedia({audio:!this.hasAudioPermission,video:!this.hasVideoPermission})}catch(t){console.warn(t)}t=await this._getDevicesAsync()}return{audioOutput:O?t.filter(t=>"audiooutput"===t.kind):[],audioInput:t.filter(t=>"audioinput"===t.kind),videoInput:t.filter(t=>"videoinput"===t.kind)}}async getAudioOutputDevicesAsync(){if(!O)return[];const t=await this.getAvailableDevicesAsync();return t&&t.audioOutput||[]}async getAudioInputDevicesAsync(){const t=await this.getAvailableDevicesAsync();return t&&t.audioInput||[]}async getVideoInputDevicesAsync(){const t=await this.getAvailableDevicesAsync();return t&&t.videoInput||[]}async setAudioOutputDeviceAsync(t){O&&(this.preferredAudioOutputID=t&&t.deviceId||null,await JitsiMeetJS.mediaDevices.setAudioOutputDevice(this.preferredAudioOutputID))}taskOf(t){return function(t,e,i,o){if(!s(e))throw new Error("Need an event name on which to resolve the operation.");if(!n(i))throw new Error("Filtering tests function is required. Otherwise, use `once`.");return new Promise((i,n)=>{const s=()=>{t.removeEventListener(e,i)};if(i=Ae(s,i),n=Ae(s,n),r(o)){const t=setTimeout(n,o,`'${e}' has timed out.`),s=()=>clearTimeout(t);i=Ae(s,i),n=Ae(s,n)}t.addEventListener(e,i)})}(this,t,t=>t.id===this.localUserID,5e3)}getCurrentMediaTrack(t){if(null===this.localUserID)return null;const e=this.audio.getUser(this.localUserID);return e&&e.tracks.has(t)?e.tracks.get(t):null}async setAudioInputDeviceAsync(t){this.preferredAudioInputID=t&&t.deviceId||null;const e=this.getCurrentMediaTrack("audio");if(e){const t=this.taskOf("audioRemoved");this.conference.removeTrack(e),await t}if(this.joined&&this.preferredAudioInputID){const t=this.taskOf("audioAdded"),e=await JitsiMeetJS.createLocalTracks({devices:["audio"],micDeviceId:this.preferredAudioInputID});for(let t of e)this.conference.addTrack(t);await t}}async setVideoInputDeviceAsync(t){this.preferredVideoInputID=t&&t.deviceId||null;const e=this.getCurrentMediaTrack("video");if(e){const t=this.taskOf("videoRemoved");this.conference.removeTrack(e),await t}if(this.joined&&this.preferredVideoInputID){const t=this.taskOf("videoAdded"),e=await JitsiMeetJS.createLocalTracks({devices:["video"],cameraDeviceId:this.preferredVideoInputID});for(let t of e)this.conference.addTrack(t);await t}}async getCurrentAudioInputDeviceAsync(){const t=this.getCurrentMediaTrack("audio"),e=(await this.getAudioInputDevicesAsync()).filter(e=>null!==t&&e.deviceId===t.deviceId);return 0===e.length?null:e[0]}async getCurrentAudioOutputDeviceAsync(){if(!O)return null;const t=JitsiMeetJS.mediaDevices.getAudioOutputDevice(),e=(await this.getAudioOutputDevicesAsync()).filter(e=>e.deviceId===t);return 0===e.length?null:e[0]}async getCurrentVideoInputDeviceAsync(){const t=this.getCurrentMediaTrack("video"),e=(await this.getVideoInputDevicesAsync()).filter(e=>null!==t&&e.deviceId===t.deviceId);return 0===e.length?null:e[0]}async toggleAudioMutedAsync(){const t=this.taskOf("audioMuteStatusChanged"),e=this.getCurrentMediaTrack("audio");if(e){e.isMuted()?await e.unmute():await e.mute()}else await this.setPreferredAudioInputAsync(!0);return(await t).muted}async toggleVideoMutedAsync(){const t=this.taskOf("videoMuteStatusChanged");this.getCurrentMediaTrack("video")?await this.setVideoInputDeviceAsync(null):await this.setPreferredVideoInputAsync(!0);return(await t).muted}isMediaMuted(t){const e=this.getCurrentMediaTrack(t);return null===e||e.isMuted()}get isAudioMuted(){return this.isMediaMuted("audio")}get isVideoMuted(){return this.isMediaMuted("video")}txGameData(t,e){this.conference.sendMessage(e,t)}rxGameData(t){t.data.hax===this.appFingerPrint&&this.receiveMessageFrom(t.user.getId(),t.data.command,t.data.value)}sendMessageTo(t,e,i){this.txGameData(t,{hax:this.appFingerPrint,command:e,value:i})}receiveMessageFrom(t,e,i){const n=new he(e,t,i);this.dispatchEvent(n)}setAudioProperties(t,e,i,n){this.audio.setAudioProperties(t,e,i,n)}setLocalPosition(t,e,i){this.audio.setUserPosition(this.localUserID,t,e,i);for(let n of this.userIDs())this.sendMessageTo(n,"userMoved",{x:t,y:e,z:i})}setLocalOrientation(t,e,i,n,s,r){this.audio.setUserOrientation(this.localUserID,t,e,i,n,s,r);for(let t of this.userIDs())this.sendMessageTo(t,"userTurned",{x:x,y:y,z:z})}setLocalPose(t,e,i,n,s,r,o,a,A){this.audio.setUserPose(this.localUserID,t,e,i,n,s,r,o,a,A);for(let c of this.userIDs())this.sendMessageTo(c,"userPosed",{px:t,py:e,pz:i,fx:n,fy:s,fz:r,ux:o,uy:a,uz:A})}removeUser(t){this.audio.removeUser(t)}async setAudioMutedAsync(t){let e=this.isAudioMuted;return t!==e&&(e=await this.toggleAudioMutedAsync()),e}async setVideoMutedAsync(t){let e=this.isVideoMuted;return t!==e&&(e=await this.toggleVideoMutedAsync()),e}addEventListener(t,e,i){if(-1===ue.indexOf(t))throw new Error("Unsupported event type: "+t);super.addEventListener(t,e,i)}async userInitRequestAsync(t){return await(e=this,i="userInitResponse",n=()=>this.sendMessageTo(t,"userInitRequest"),s=e=>e.id===t&&o(e.px)&&o(e.py)&&o(e.pz),r=1e3,new Promise((t,o)=>{let A=null,c=null;const h=()=>{null!==A&&clearTimeout(A),null!==c&&clearTimeout(c),e.removeEventListener(i,u)};function u(e){s(e)&&(h(),t(e))}if(e.addEventListener(i,u),void 0!==r){void 0!==a&&(c=setTimeout(()=>{h(),o(`'${i}' has timed out.`)},a));const t=()=>{n(),A=setTimeout(t,r)};A=setTimeout(t,0)}}));var e,i,n,s,r,a}userInitResponse(t,e){this.sendMessageTo(t,"userInitResponse",e)}set avatarEmoji(t){for(let e of this.userIDs())this.sendMessageTo(e,"setAvatarEmoji",t)}set avatarURL(t){for(let e of this.userIDs())this.sendMessageTo(e,"avatarChanged",{url:t})}emote(t){for(let e of this.userIDs())this.sendMessageTo(e,"emote",t)}}("tele.calla.chat","tele.calla.chat","conference.tele.calla.chat"),We=new Map;class Ze{constructor(t,e,i,n){this._name=null,this._nameEl=null,this._videoStream=null,this._video=null,this.container=document.createElement("div"),this.container.className="user",n&&(this.container.className+=" localUser",e+=" (Me)"),this.id=t,this.name=e,this.pose=i}dispose(){this.container.parentElement.removeChild(this.container)}get name(){return this._name}set name(t){this._nameEl&&(this.container.removeChild(this._nameEl),this._nameEl=null),this._name=t,this._nameEl=document.createElement("div"),this._nameEl.className="userName",this._nameEl.append(document.createTextNode(this.name)),this.container.append(this._nameEl)}get videoStream(){return this._videoStream}set videoStream(t){this._video&&(this.container.removeChild(this._video),this._video=null),this._videoStream=t,this._videoStream&&(this._video=document.createElement("video"),this._video.playsInline=!0,this._video.autoplay=!0,this._video.controls=!1,this._video.muted=!0,this._video.volume=0,this._video.srcObject=this._videoStream,this._video.className="userVideo",this.container.append(this._video),this._video.play())}update(){const t=this.container.parentElement.clientLeft-this.container.clientWidth/2,e=this.container.parentElement.clientTop-this.container.clientHeight/2;this.container.style.left=100*this.pose.current.p.x+t+"px",this.container.style.zIndex=this.pose.current.p.y,this.container.style.top=100*this.pose.current.p.z+e+"px"}}function Ve(t,e,i,n){const s=new Ze(t,e,i,n);We.has(t)&&We.get(t).dispose(),We.set(t,s),qe.space.append(s.container)}function Je(t){if(We.has(t)){We.get(t).dispose(),We.delete(t)}}function Ke(t,e){Xe.localUserID&&(t/=100,e/=100,Xe.setLocalPosition(t,0,e))}function $e(){Ye=requestAnimationFrame($e),Xe.update();for(let t of We.values())t.update()}function ti(t,e,i,n,s){if(t){const t=document.createElement("option");t.text="None",e.append(t)}e.append(...i.map(t=>{const e=document.createElement("option");return e.value=t.deviceId,e.text=t.label,n&&n.deviceId===t.deviceId&&(e.selected=!0),e})),e.addEventListener("input",()=>{let n=e.selectedIndex;t&&--n;const r=i[n];s(r||null)}),s(n)}qe.connect.addEventListener("click",(function(){const t=qe.roomName.value,e=qe.userName.value;let i="";if(0===t.length&&(i+="\n   Room name is required"),0===e.length&&(i+="\n   User name is required"),i.length>0)return i="Required fields missing:"+i,void alert(i);qe.roomName.disabled=!0,qe.userName.disabled=!0,qe.connect.disabled=!0,Xe.join(t,e)})),qe.leave.addEventListener("click",(async function(){await Xe.leaveAsync()})),qe.space.addEventListener("click",t=>{Ke(t.clientX-qe.space.offsetLeft,t.clientY-qe.space.offsetTop)}),Xe.addEventListener("videoConferenceJoined",t=>{const{id:e,displayName:i,pose:n}=t;!function(t,e,i){qe.leave.disabled=!1,Ye=requestAnimationFrame($e),Ve(t,e,i,!0),Ke(Math.random()*(qe.space.clientWidth-100)+50,Math.random()*(qe.space.clientHeight-100)+50)}(e,i,n)}),Xe.addEventListener("videoConferenceLeft",(function(){Je(Xe.localUserID),cancelAnimationFrame(Ye),qe.leave.disabled=!0,qe.connect.disabled=!1})),Xe.addEventListener("participantJoined",t=>{const{id:e,displayName:i,pose:n}=t;Ve(e,i,n,!1)}),Xe.addEventListener("participantLeft",t=>Je(t.id)),Xe.addEventListener("videoChanged",t=>{const{id:e,stream:i}=t;!function(t,e){We.has(t)&&(We.get(t).videoStream=e)}(e,i)}),Xe.addEventListener("displayNameChange",t=>{const{id:e,displayName:i}=t;!function(t,e){We.has(t)&&(We.get(t).name=e)}(e,i)}),async function(){ti(!0,qe.cams,await Xe.getVideoInputDevicesAsync(),await Xe.getPreferredVideoInputAsync(!0),t=>Xe.setVideoInputDeviceAsync(t)),ti(!0,qe.mics,await Xe.getAudioInputDevicesAsync(),await Xe.getPreferredAudioInputAsync(!0),t=>Xe.setAudioInputDeviceAsync(t)),ti(!1,qe.speakers,await Xe.getAudioOutputDevicesAsync(),await Xe.getPreferredAudioOutputAsync(!0),t=>Xe.setAudioOutputDeviceAsync(t)),qe.speakers.disabled=!O}(),qe.connect.disabled=!1,1===Ue&&qe.sideTest.addEventListener("click",(function(){const t=new URL(document.location.href);t.searchParams.set("testUserNumber",Ue+Ge.length+1),function(t,e,i,n,s){Ge.push(window.open(t,"_blank",`left=${e},top=${i},width=${n},height=${s}`))}(t.href,window.screenLeft+window.outerWidth,0,window.innerWidth,window.innerHeight)})),qe.roomName.value="TestRoom",qe.userName.value="TestUser"+Ue;
//# sourceMappingURL=basic.min.js.map
