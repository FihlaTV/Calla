!function(){"use strict";var e="undefined"!=typeof Float32Array?Float32Array:Array;function t(){var t=new e(9);return e!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function i(e,t,i,n,s,r,o,a,c,A){return e[0]=t,e[1]=i,e[2]=n,e[3]=s,e[4]=r,e[5]=o,e[6]=a,e[7]=c,e[8]=A,e}function n(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function s(){var t=new e(16);return e!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function r(e,t,i,n,s,r,o,a,c,A,l,h,u,d,g,p,f){return e[0]=t,e[1]=i,e[2]=n,e[3]=s,e[4]=r,e[5]=o,e[6]=a,e[7]=c,e[8]=A,e[9]=l,e[10]=h,e[11]=u,e[12]=d,e[13]=g,e[14]=p,e[15]=f,e}function o(){var t=new e(3);return e!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function a(e){var t=e[0],i=e[1],n=e[2];return Math.hypot(t,i,n)}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function A(e,t,i,n){return e[0]=t,e[1]=i,e[2]=n,e}function l(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function h(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function u(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function d(e,t){var i=t[0],n=t[1],s=t[2],r=i*i+n*n+s*s;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function g(e,t,i){var n=t[0],s=t[1],r=t[2],o=i[0],a=i[1],c=i[2];return e[0]=s*c-r*a,e[1]=r*o-n*c,e[2]=n*a-s*o,e}function p(e,t,i,n){var s=t[0],r=t[1],o=t[2];return e[0]=s+n*(i[0]-s),e[1]=r+n*(i[1]-r),e[2]=o+n*(i[2]-o),e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var f,m=h;f=o();function v(e,t,i){return typeof e===t||e instanceof i}function w(e){return v(e,"function",Function)}function b(e){return v(e,"string",String)}function D(e){return v(e,"boolean",Boolean)}function y(e){return v(e,"number",Number)}function P(e){return v(e,"object",Object)}function C(e){return e instanceof HTMLElement}function B(e){return y(e)&&!Number.isNaN(e)}function M(e){return null==e}function S(e){return e.splice(0)}function F(e,t){return e.splice(t,1)[0]}function E(e,t){const i=e.indexOf(t);return i>-1&&(F(e,i),!0)}function k(e,...t){for(const i of t)for(const t of e)if(i(t))return t;return null}function I(e,t,i=!0){let n=function(e,t){let i=0,n=e.length,s=Math.floor((i+n)/2),r=!1;for(;i<n&&s<e.length;){const o=e[s];!M(o)&&t<o?n=s:(t===o&&(r=!0),i=s+1),s=Math.floor((i+n)/2)}return r||(s+=.5),s}(e,t);const s=n%1==0;return n|=0,s&&!i||e.splice(n,0,t),n}class T{constructor(e,t,i=null){this.value=e,this.desc=t,this.value=e,this.desc=t,this.props=i||{}}contains(e){return this.value.indexOf(e.value)>=0}}class _ extends T{constructor(e,t,...i){super(e,t),this.width=null,this.alts=i}random(){const e=Math.floor(Math.random()*this.alts.length);if(e<0)return null;const t=this.alts[e];return t instanceof _?t.random():t}contains(e){if(super.contains(e))return!0;for(const t of this.alts)if(t.contains(e))return!0;return!1}}function x(e,t,i=null){return new T(e,t,i)}function L(e,t,i=null){return new T(e+j.value,t,i)}function O(e,t,...i){return new _(e,t,...i)}function R(e,t,i,...n){const s=Object.values(i).filter((e=>e instanceof T)).map((e=>e)).concat(...n);return Object.assign(O(e,t,...s),i)}function Q(e,t,i=null){if(e instanceof Array)return e.map((e=>Q(e,t)));if(e instanceof _){const{value:i,desc:n}=Q(x(e.value,e.desc),t);return O(i,n,...Q(e.alts,t))}return t instanceof Array?t.map((t=>Q(e,t))):x(e.value+t.value,i||e.desc+": "+t.desc)}function N(e,t,i=null){if(e instanceof Array)return e.map((e=>N(e,t)));if(e instanceof _){const{value:i,desc:n}=N(x(e.value,e.desc),t);return O(i,n,...N(e.alts,t))}return t instanceof Array?t.map((t=>N(e,t))):x(e.value+V.value+t.value,i||e.desc+": "+t.desc)}function H(e,t,...i){const n=x(e,t),s=Q(n,q),r=Q(n,K),o=Q(n,$),a=Q(n,ee),c=Q(n,te);return R(n.value,n.desc,{default:n,light:s,mediumLight:r,medium:o,mediumDark:a,dark:c},...i)}function U(e){const t=N(e,J),i=N(e,X);return R(e.value,e.desc,{default:e,man:t,woman:i})}function G(e,t){return U(H(e,t))}function z(e,t,...i){const n=H(e,t),s=N(n,ie),r=N(n,ne),o=N(n,se),a=N(n,re);return R(n.value,n.desc,{default:n,red:s,curly:r,white:o,bald:a},...i)}function W(e,t){const i=x(e.value,t),n=N(je.default,i),s=N(Ze.default,i);return R(e.value,e.desc,{symbol:e,men:n,women:s})}const j=x("️","Variation Selector-16: emoji style"),V=x("‍","Zero Width Joiner"),Y=x("⃣","Combining Enclosing Keycap"),X=L("♀","Female"),J=L("♂","Male"),Z=L("⚧","Transgender Symbol"),q=x("🏻","Light Skin Tone"),K=x("🏼","Medium-Light Skin Tone"),$=x("🏽","Medium Skin Tone"),ee=x("🏾","Medium-Dark Skin Tone"),te=x("🏿","Dark Skin Tone"),ie=x("🦰","Red Hair"),ne=x("🦱","Curly Hair"),se=x("🦳","White Hair"),re=x("🦲","Bald"),oe=G("🙍","Frowning"),ae=G("🙎","Pouting"),ce=G("🙅","Gesturing NO"),Ae=G("🙆","Gesturing OK"),le=G("💁","Tipping Hand"),he=G("🙋","Raising Hand"),ue=G("🙇","Bowing"),de=G("🤦","Facepalming"),ge=G("🤷","Shrugging"),pe=G("🧏","Can't Hear"),fe=G("💆","Getting Massage"),me=G("💇","Getting Haircut"),ve=G("👷","Construction Worker"),we=G("💂","Guard"),be=G("🕵","Spy"),De=(G("👮","Police"),G("👳","Wearing Turban")),ye=G("🦸","Superhero"),Pe=G("🦹","Supervillain"),Ce=G("🧙","Mage"),Be=G("🧚","Fairy"),Me=G("🧛","Vampire"),Se=G("🧜","Merperson"),Fe=G("🧝","Elf"),Ee=G("🚶","Walking"),ke=G("🧍","Standing"),Ie=G("🧎","Kneeling"),Te=G("🏃","Running"),_e=O("Gestures","Gestures",oe,ae,ce,Ae,le,he,ue,de,ge,pe,fe,me),xe=H("👶","Baby"),Le=H("🧒","Child"),Oe=H("👦","Boy"),Re=H("👧","Girl"),Qe=R(Le.value,Le.desc,{default:Le,male:Oe,female:Re}),Ne=G("👱","Blond Person"),He=H("🧑","Person",Ne.default,De.default),Ue=H("🧔","Bearded Man"),Ge=L("🕴","Man in Suit, Levitating"),ze=H("👲","Man With Chinese Cap"),We=H("🤵","Man in Tuxedo"),je=z("👨","Man",Ne.man,Ue,Ge,ze,De.man,We),Ve=H("🤰","Pregnant Woman"),Ye=H("🤱","Breast-Feeding"),Xe=H("🧕","Woman With Headscarf"),Je=H("👰","Bride With Veil"),Ze=z("👩","Woman",Ne.woman,Ve,Ye,Xe,De.woman,Je),qe=R(He.value,"Adult",{default:He,male:je,female:Ze}),Ke=H("🧓","Older Person"),$e=H("👴","Old Man"),et=H("👵","Old Woman"),tt=R(Ke.value,Ke.desc,{default:Ke,male:$e,female:et}),it=L("⚕","Medical"),nt=W(it,"Health Care"),st=x("🎓","Graduation Cap"),rt=W(st,"Student"),ot=x("🏫","School"),at=W(ot,"Teacher"),ct=L("⚖","Balance Scale"),At=W(ct,"Judge"),lt=x("🌾","Sheaf of Rice"),ht=W(lt,"Farmer"),ut=x("🍳","Cooking"),dt=W(ut,"Cook"),gt=x("🔧","Wrench"),pt=W(gt,"Mechanic"),ft=x("🏭","Factory"),mt=W(ft,"Factory Worker"),vt=x("💼","Briefcase"),wt=W(vt,"Office Worker"),bt=x("🚒","Fire Engine"),Dt=W(bt,"Fire Fighter"),yt=x("🚀","Rocket"),Pt=W(yt,"Astronaut"),Ct=L("✈","Airplane"),Bt=W(Ct,"Pilot"),Mt=x("🎨","Artist Palette"),St=W(Mt,"Artist"),Ft=x("🎤","Microphone"),Et=W(Ft,"Singer"),kt=x("💻","Laptop"),It=W(kt,"Technologist"),Tt=x("🔬","Microscope"),_t=W(Tt,"Scientist"),xt=x("👑","Crown"),Lt=H("🤴","Prince"),Ot=H("👸","Princess"),Rt=R(xt.value,xt.desc,{symbol:xt,male:Lt,female:Ot}),Qt=R("Roles","Depictions of people working",{healthCareWorkers:nt,students:rt,teachers:at,judges:At,farmers:ht,cooks:dt,mechanics:pt,factoryWorkers:mt,officeWorkers:wt,scientists:_t,technologists:It,singers:Et,artists:St,pilots:Bt,astronauts:Pt,fireFighters:Dt,spies:be,guards:we,constructionWorkers:ve,royalty:Rt}),Nt=H("👼","Cherub"),Ht=H("🎅","Santa Claus"),Ut=H("🤶","Mrs. Claus"),Gt=U(x("🧞","Genie")),zt=U(x("🧟","Zombie")),Wt=R("Fantasy","Depictions of fantasy characters",{cherub:Nt,santaClaus:Ht,mrsClaus:Ut,superheroes:ye,supervillains:Pe,mages:Ce,fairies:Be,vampires:Me,merpeople:Se,elves:Fe,genies:Gt,zombies:zt}),jt=x("🦺","Safety Vest"),Vt=x("🦯","Probing Cane"),Yt=W(Vt,"Probing"),Xt=x("🦼","Motorized Wheelchair"),Jt=W(Xt,"In Motorized Wheelchair"),Zt=x("🦽","Manual Wheelchair"),qt=W(Zt,"In Manual Wheelchair"),Kt=H("🕺","Man Dancing"),$t=H("💃","Woman Dancing"),ei=R(Kt.value,"Dancing",{male:Kt,female:$t}),ti=G("🤹","Juggler"),ii=G("🧗","Climber"),ni=x("🤺","Fencer"),si=H("🏇","Jockey"),ri=L("⛷","Skier"),oi=H("🏂","Snowboarder"),ai=G("🏌"+j.value,"Golfer"),ci=G("🏄","Surfing"),Ai=G("🚣","Rowing Boat"),li=G("🏊","Swimming"),hi=G("⛹"+j.value,"Basket Baller"),ui=G("🏋"+j.value,"Weight Lifter"),di=G("🚴","Biker"),gi=G("🚵","Mountain Biker"),pi=G("🤸","Cartwheeler"),fi=U(x("🤼","Wrestler")),mi=G("🤽","Water Polo Player"),vi=G("🤾","Hand Baller"),wi=R("In Motion","Depictions of people in motion",{walking:Ee,standing:ke,kneeling:Ie,withProbingCane:Yt,inMotorizedWheelchair:Jt,inManualWheelchair:qt,dancers:ei,jugglers:ti,climbers:ii,fencer:ni,jockeys:si,skier:ri,snowboarders:oi,golfers:ai,surfers:ci,rowers:Ai,swimmers:li,runners:Te,basketballers:hi,weightLifters:ui,bikers:di,mountainBikers:gi,cartwheelers:pi,wrestlers:fi,waterPoloers:mi,handBallers:vi}),bi=G("🧘","In Lotus Position"),Di=H("🛀","In Bath"),yi=H("🛌","In Bed"),Pi=G("🧖","In Sauna"),Ci=R("Resting","Depictions of people at rest",{inLotusPosition:bi,inBath:Di,inBed:yi,inSauna:Pi}),Bi=O(xe.value,xe.desc,xe,Nt),Mi=R("People","People",{babies:Bi,children:Qe,adults:qe,elderly:tt}),Si=(R("All People","All People",{people:Mi,gestures:_e,inMotion:wi,resting:Ci,roles:Qt,fantasy:Wt}),x("👹","Ogre")),Fi=x("👺","Goblin"),Ei=x("👻","Ghost"),ki=x("👽","Alien"),Ii=x("👾","Alien Monster"),Ti=x("👿","Angry Face with Horns"),_i=x("💀","Skull"),xi=x("💩","Pile of Poo"),Li=x("😀","Grinning Face"),Oi=x("😁","Beaming Face with Smiling Eyes"),Ri=x("😂","Face with Tears of Joy"),Qi=x("😃","Grinning Face with Big Eyes"),Ni=x("😄","Grinning Face with Smiling Eyes"),Hi=x("😅","Grinning Face with Sweat"),Ui=x("😆","Grinning Squinting Face"),Gi=x("😇","Smiling Face with Halo"),zi=x("😈","Smiling Face with Horns"),Wi=x("😉","Winking Face"),ji=x("😊","Smiling Face with Smiling Eyes"),Vi=x("😋","Face Savoring Food"),Yi=x("😌","Relieved Face"),Xi=x("😍","Smiling Face with Heart-Eyes"),Ji=x("😎","Smiling Face with Sunglasses"),Zi=x("😏","Smirking Face"),qi=x("😐","Neutral Face"),Ki=x("😑","Expressionless Face"),$i=x("😒","Unamused Face"),en=x("😓","Downcast Face with Sweat"),tn=x("😔","Pensive Face"),nn=x("😕","Confused Face"),sn=x("😖","Confounded Face"),rn=x("😗","Kissing Face"),on=x("😘","Face Blowing a Kiss"),an=x("😙","Kissing Face with Smiling Eyes"),cn=x("😚","Kissing Face with Closed Eyes"),An=x("😛","Face with Tongue"),ln=x("😜","Winking Face with Tongue"),hn=x("😝","Squinting Face with Tongue"),un=x("😞","Disappointed Face"),dn=x("😟","Worried Face"),gn=x("😠","Angry Face"),pn=x("😡","Pouting Face"),fn=x("😢","Crying Face"),mn=x("😣","Persevering Face"),vn=x("😤","Face with Steam From Nose"),wn=x("😥","Sad but Relieved Face"),bn=x("😦","Frowning Face with Open Mouth"),Dn=x("😧","Anguished Face"),yn=x("😨","Fearful Face"),Pn=x("😩","Weary Face"),Cn=x("😪","Sleepy Face"),Bn=x("😫","Tired Face"),Mn=x("😬","Grimacing Face"),Sn=x("😭","Loudly Crying Face"),Fn=x("😮","Face with Open Mouth"),En=x("😯","Hushed Face"),kn=x("😰","Anxious Face with Sweat"),In=x("😱","Face Screaming in Fear"),Tn=x("😲","Astonished Face"),_n=x("😳","Flushed Face"),xn=x("😴","Sleeping Face"),Ln=x("😵","Dizzy Face"),On=x("😶","Face Without Mouth"),Rn=x("😷","Face with Medical Mask"),Qn=x("😸","Grinning Cat with Smiling Eyes"),Nn=x("😹","Cat with Tears of Joy"),Hn=x("😺","Grinning Cat"),Un=x("😻","Smiling Cat with Heart-Eyes"),Gn=x("😼","Cat with Wry Smile"),zn=x("😽","Kissing Cat"),Wn=x("😾","Pouting Cat"),jn=x("😿","Crying Cat"),Vn=x("🙀","Weary Cat"),Yn=x("🙁","Slightly Frowning Face"),Xn=x("🙂","Slightly Smiling Face"),Jn=x("🙃","Upside-Down Face"),Zn=x("🙄","Face with Rolling Eyes"),qn=x("🙈","See-No-Evil Monkey"),Kn=x("🙉","Hear-No-Evil Monkey"),$n=x("🙊","Speak-No-Evil Monkey"),es=x("🤐","Zipper-Mouth Face"),ts=x("🤑","Money-Mouth Face"),is=x("🤒","Face with Thermometer"),ns=x("🤓","Nerd Face"),ss=x("🤔","Thinking Face"),rs=x("🤕","Face with Head-Bandage"),os=x("🤖","Robot"),as=x("🤗","Hugging Face"),cs=x("🤠","Cowboy Hat Face"),As=x("🤡","Clown Face"),ls=x("🤢","Nauseated Face"),hs=x("🤣","Rolling on the Floor Laughing"),us=x("🤤","Drooling Face"),ds=x("🤥","Lying Face"),gs=x("🤧","Sneezing Face"),ps=x("🤨","Face with Raised Eyebrow"),fs=x("🤩","Star-Struck"),ms=x("🤪","Zany Face"),vs=x("🤫","Shushing Face"),ws=x("🤬","Face with Symbols on Mouth"),bs=x("🤭","Face with Hand Over Mouth"),Ds=x("🤮","Face Vomiting"),ys=x("🤯","Exploding Head"),Ps=x("🥰","Smiling Face with Hearts"),Cs=x("🥱","Yawning Face"),Bs=x("🥳","Partying Face"),Ms=x("🥴","Woozy Face"),Ss=x("🥵","Hot Face"),Fs=x("🥶","Cold Face"),Es=x("🥺","Pleading Face"),ks=x("🧐","Face with Monocle"),Is=L("☠","Skull and Crossbones"),Ts=L("☹","Frowning Face"),_s=L("☺","Smiling Face"),xs=L("🗣","Speaking Head"),Ls=x("👤","Bust in Silhouette"),Os=R("Faces","Round emoji faces",{ogre:Si,goblin:Fi,ghost:Ei,alien:ki,alienMonster:Ii,angryFaceWithHorns:Ti,skull:_i,pileOfPoo:xi,grinningFace:Li,beamingFaceWithSmilingEyes:Oi,faceWithTearsOfJoy:Ri,grinningFaceWithBigEyes:Qi,grinningFaceWithSmilingEyes:Ni,grinningFaceWithSweat:Hi,grinningSquitingFace:Ui,smillingFaceWithHalo:Gi,smilingFaceWithHorns:zi,winkingFace:Wi,smilingFaceWithSmilingEyes:ji,faceSavoringFood:Vi,relievedFace:Yi,smilingFaceWithHeartEyes:Xi,smilingFaceWithSunglasses:Ji,smirkingFace:Zi,neutralFace:qi,expressionlessFace:Ki,unamusedFace:$i,downcastFaceWithSweat:en,pensiveFace:tn,confusedFace:nn,confoundedFace:sn,kissingFace:rn,faceBlowingAKiss:on,kissingFaceWithSmilingEyes:an,kissingFaceWithClosedEyes:cn,faceWithTongue:An,winkingFaceWithTongue:ln,squintingFaceWithTongue:hn,disappointedFace:un,worriedFace:dn,angryFace:gn,poutingFace:pn,cryingFace:fn,perseveringFace:mn,faceWithSteamFromNose:vn,sadButRelievedFace:wn,frowningFaceWithOpenMouth:bn,anguishedFace:Dn,fearfulFace:yn,wearyFace:Pn,sleepyFace:Cn,tiredFace:Bn,grimacingFace:Mn,loudlyCryingFace:Sn,faceWithOpenMouth:Fn,hushedFace:En,anxiousFaceWithSweat:kn,faceScreamingInFear:In,astonishedFace:Tn,flushedFace:_n,sleepingFace:xn,dizzyFace:Ln,faceWithoutMouth:On,faceWithMedicalMask:Rn,grinningCatWithSmilingEyes:Qn,catWithTearsOfJoy:Nn,grinningCat:Hn,smilingCatWithHeartEyes:Un,catWithWrySmile:Gn,kissingCat:zn,poutingCat:Wn,cryingCat:jn,wearyCat:Vn,slightlyFrowningFace:Yn,slightlySmilingFace:Xn,updisdeDownFace:Jn,faceWithRollingEyes:Zn,seeNoEvilMonkey:qn,hearNoEvilMonkey:Kn,speakNoEvilMonkey:$n,zipperMouthFace:es,moneyMouthFace:ts,faceWithThermometer:is,nerdFace:ns,thinkingFace:ss,faceWithHeadBandage:rs,robot:os,huggingFace:as,cowboyHatFace:cs,clownFace:As,nauseatedFace:ls,rollingOnTheFloorLaughing:hs,droolingFace:us,lyingFace:ds,sneezingFace:gs,faceWithRaisedEyebrow:ps,starStruck:fs,zanyFace:ms,shushingFace:vs,faceWithSymbolsOnMouth:ws,faceWithHandOverMouth:bs,faceVomitting:Ds,explodingHead:ys,smilingFaceWithHearts:Ps,yawningFace:Cs,partyingFace:Bs,woozyFace:Ms,hotFace:Ss,coldFace:Fs,pleadingFace:Es,faceWithMonocle:ks,skullAndCrossbones:Is,frowningFace:Ts,smilingFace:_s,speakingHead:xs,bust:Ls}),Rs=x("💋","Kiss Mark"),Qs=x("💌","Love Letter"),Ns=x("💓","Beating Heart"),Hs=x("💔","Broken Heart"),Us=x("💕","Two Hearts"),Gs=x("💖","Sparkling Heart"),zs=x("💗","Growing Heart"),Ws=x("💘","Heart with Arrow"),js=x("💙","Blue Heart"),Vs=x("💚","Green Heart"),Ys=x("💛","Yellow Heart"),Xs=x("💜","Purple Heart"),Js=x("💝","Heart with Ribbon"),Zs=x("💞","Revolving Hearts"),qs=x("💟","Heart Decoration"),Ks=x("🖤","Black Heart"),$s=x("🤍","White Heart"),er=x("🤎","Brown Heart"),tr=x("🧡","Orange Heart"),ir=L("❣","Heart Exclamation"),nr=L("❤","Red Heart"),sr=R("Love","Hearts and kisses",{kissMark:Rs,loveLetter:Qs,beatingHeart:Ns,brokenHeart:Hs,twoHearts:Us,sparklingHeart:Gs,growingHeart:zs,heartWithArrow:Ws,blueHeart:js,greenHeart:Vs,yellowHeart:Ys,purpleHeart:Xs,heartWithRibbon:Js,revolvingHearts:Zs,heartDecoration:qs,blackHeart:Ks,whiteHeart:$s,brownHeart:er,orangeHeart:tr,heartExclamation:ir,redHeart:nr}),rr=x("💢","Anger Symbol"),or=x("💣","Bomb"),ar=x("💤","Zzz"),cr=x("💥","Collision"),Ar=x("💦","Sweat Droplets"),lr=x("💨","Dashing Away"),hr=x("💫","Dizzy"),ur=x("💬","Speech Balloon"),dr=x("💭","Thought Balloon"),gr=x("💯","Hundred Points"),pr=L("🕳","Hole"),fr=L("🗨","Left Speech Bubble"),mr=L("🗩","Right Speech Bubble"),vr=L("🗪","Conversation Bubbles 2"),wr=L("🗫","Conversation Bubbles 3"),br=L("🗬","Left Thought Bubble"),Dr=L("🗭","Right Thought Bubble"),yr=L("🗮","Left Anger Bubble"),Pr=L("🗯","Right Anger Bubble"),Cr=L("🗰","Anger Bubble"),Br=L("🗱","Anger Bubble Lightning"),Mr=L("🗲","Lightning Bolt"),Sr=O("Cartoon","Cartoon symbols",rr,or,ar,cr,Ar,lr,hr,ur,dr,gr,pr,fr,mr,vr,wr,br,Dr,yr,Pr,Cr,Br,Mr),Fr=x("👆","Backhand Index Pointing Up"),Er=x("👇","Backhand Index Pointing Down"),kr=x("👈","Backhand Index Pointing Left"),Ir=x("👉","Backhand Index Pointing Right"),Tr=x("👊","Oncoming Fist"),_r=x("👋","Waving Hand"),xr=x("🖏","OK Hand"),Lr=x("👍","Thumbs Up"),Or=x("👎","Thumbs Down"),Rr=x("👏","Clapping Hands"),Qr=x("👐","Open Hands"),Nr=x("💅","Nail Polish"),Hr=L("🖐","Hand with Fingers Splayed"),Ur=L("🖑","Hand with Fingers Splayed 2"),Gr=x("🖒","Thumbs Up 2"),zr=x("🖓","Thumbs Down 2"),Wr=x("🖔","Peace Fingers"),jr=x("🖕","Middle Finger"),Vr=x("🖖","Vulcan Salute"),Yr=x("🖗","Hand Pointing Down"),Xr=x("🖘","Hand Pointing Left"),Jr=x("🖙","Hand Pointing Right"),Zr=x("🖚","Hand Pointing Left 2"),qr=x("🖛","Hand Pointing Right 2"),Kr=x("🖜","Index Pointing Left"),$r=x("🖝","Index Pointing Right"),eo=x("🖞","Index Pointing Up"),to=x("🖟","Index Pointing Down"),io=x("🖠","Index Pointing Up 2"),no=x("🖡","Index Pointing Down 2"),so=x("🖢","Index Pointing Up 3"),ro=x("🖣","Index Pointing Down 3"),oo=x("🙌","Raising Hands"),ao=x("🙏","Folded Hands"),co=x("🤌","Pinched Fingers"),Ao=x("🤏","Pinching Hand"),lo=x("🤘","Sign of the Horns"),ho=x("🤙","Call Me Hand"),uo=x("🤚","Raised Back of Hand"),go=x("🤛","Left-Facing Fist"),po=x("🤜","Right-Facing Fist"),fo=x("🤝","Handshake"),mo=x("🤞","Crossed Fingers"),vo=x("🤟","Love-You Gesture"),wo=x("🤲","Palms Up Together"),bo=L("☝","Index Pointing Up 4"),Do=x("✊","Raised Fist"),yo=x("✋","Raised Hand"),Po=L("✌","Victory Hand"),Co=L("✍","Writing Hand"),Bo=O("Hands","Hands pointing at things",Fr,Er,kr,Ir,Tr,_r,xr,Lr,Or,Rr,Qr,Nr,Hr,Ur,Ur,Gr,zr,Wr,jr,Vr,Yr,Xr,Jr,Zr,qr,Kr,$r,eo,to,io,no,so,ro,oo,ao,co,Ao,lo,ho,uo,go,po,fo,mo,vo,wo,bo,Do,yo,Po,Co),Mo=x("🔴","Red Circle"),So=x("🔵","Blue Circle"),Fo=x("🔶","Large Orange Diamond"),Eo=x("🔷","Large Blue Diamond"),ko=x("🔸","Small Orange Diamond"),Io=x("🔹","Small Blue Diamond"),To=x("🔺","Red Triangle Pointed Up"),_o=x("🔻","Red Triangle Pointed Down"),xo=x("🟠","Orange Circle"),Lo=x("🟡","Yellow Circle"),Oo=x("🟢","Green Circle"),Ro=x("🟣","Purple Circle"),Qo=x("🟤","Brown Circle"),No=x("⭕","Hollow Red Circle"),Ho=x("⚪","White Circle"),Uo=x("⚫","Black Circle"),Go=x("🟥","Red Square"),zo=x("🟦","Blue Square"),Wo=x("🟧","Orange Square"),jo=x("🟨","Yellow Square"),Vo=x("🟩","Green Square"),Yo=x("🟪","Purple Square"),Xo=x("🟫","Brown Square"),Jo=x("🔲","Black Square Button"),Zo=x("🔳","White Square Button"),qo=L("▪","Black Small Square"),Ko=L("▫","White Small Square"),$o=x("◽","White Medium-Small Square"),ea=x("◾","Black Medium-Small Square"),ta=L("◻","White Medium Square"),ia=L("◼","Black Medium Square"),na=x("⬛","Black Large Square"),sa=x("⬜","White Large Square"),ra=x("⭐","Star"),oa=x("💠","Diamond with a Dot"),aa=O("Shapes","Colored shapes",Mo,So,Fo,Eo,ko,Io,To,_o,xo,Lo,Oo,Ro,Qo,No,Ho,Uo,Go,zo,Wo,jo,Vo,Yo,Xo,Jo,Zo,qo,Ko,$o,ea,ta,ia,na,sa,ra,oa),ca=L("👁","Eye"),Aa=N(ca,fr,"Eye in Speech Bubble"),la=O("Body Parts","General body parts",x("👀","Eyes"),ca,Aa,x("👂","Ear"),x("👃","Nose"),x("👄","Mouth"),x("👅","Tongue"),x("💪","Flexed Biceps"),x("🤳","Selfie"),x("🦴","Bone"),x("🦵","Leg"),x("🦶","Foot"),x("🦷","Tooth"),x("🦻","Ear with Hearing Aid"),x("🦾","Mechanical Arm"),x("🦿","Mechanical Leg"),x("🫀","Anatomical Heart"),x("🫁","Lungs"),x("🧠","Brain")),ha=L("❄","Snowflake"),ua=x("🌈","Rainbow"),da=O("Weather","Weather",x("🌄","Sunrise Over Mountains"),x("🌅","Sunrise"),x("🌆","Cityscape at Dusk"),x("🌇","Sunset"),x("🌃","Night with Stars"),x("🌂","Closed Umbrella"),L("☂","Umbrella"),L("☔","Umbrella with Rain Drops"),L("☃","Snowman"),x("⛄","Snowman Without Snow"),L("☀","Sun"),L("☁","Cloud"),L("🌤","Sun Behind Small Cloud"),x("⛅","Sun Behind Cloud"),L("🌥","Sun Behind Large Cloud"),L("🌦","Sun Behind Rain Cloud"),L("🌧","Cloud with Rain"),L("🌨","Cloud with Snow"),L("🌩","Cloud with Lightning"),L("⛈","Cloud with Lightning and Rain"),ha,x("🌀","Cyclone"),L("🌪","Tornado"),L("🌬","Wind Face"),x("🌊","Water Wave"),L("🌫","Fog"),x("🌁","Foggy"),ua,L("🌡","Thermometer")),ga=x("🐈","Cat"),pa=N(ga,na,"Black Cat"),fa=x("🐕","Dog"),ma=N(fa,jt,"Service Dog"),va=x("🐻","Bear"),wa=N(va,ha,"Polar Bear"),ba=O("Animals","Animals and insects",x("🐀","Rat"),x("🐁","Mouse"),x("🐂","Ox"),x("🐃","Water Buffalo"),x("🐄","Cow"),x("🐅","Tiger"),x("🐆","Leopard"),x("🐇","Rabbit"),ga,pa,x("🐉","Dragon"),x("🐊","Crocodile"),x("🐋","Whale"),x("🐌","Snail"),x("🐍","Snake"),x("🐎","Horse"),x("🐏","Ram"),x("🐐","Goat"),x("🐑","Ewe"),x("🐒","Monkey"),x("🐓","Rooster"),x("🐔","Chicken"),fa,ma,x("🐖","Pig"),x("🐗","Boar"),x("🐘","Elephant"),x("🐙","Octopus"),x("🐚","Spiral Shell"),x("🐛","Bug"),x("🐜","Ant"),x("🐝","Honeybee"),x("🐞","Lady Beetle"),x("🐟","Fish"),x("🐠","Tropical Fish"),x("🐡","Blowfish"),x("🐢","Turtle"),x("🐣","Hatching Chick"),x("🐤","Baby Chick"),x("🐥","Front-Facing Baby Chick"),x("🐦","Bird"),x("🐧","Penguin"),x("🐨","Koala"),x("🐩","Poodle"),x("🐪","Camel"),x("🐫","Two-Hump Camel"),x("🐬","Dolphin"),x("🐭","Mouse Face"),x("🐮","Cow Face"),x("🐯","Tiger Face"),x("🐰","Rabbit Face"),x("🐱","Cat Face"),x("🐲","Dragon Face"),x("🐳","Spouting Whale"),x("🐴","Horse Face"),x("🐵","Monkey Face"),x("🐶","Dog Face"),x("🐷","Pig Face"),x("🐸","Frog"),x("🐹","Hamster"),x("🐺","Wolf"),va,wa,x("🐼","Panda"),x("🐽","Pig Nose"),x("🐾","Paw Prints"),L("🐿","Chipmunk"),L("🕊","Dove"),L("🕷","Spider"),L("🕸","Spider Web"),x("🦁","Lion"),x("🦂","Scorpion"),x("🦃","Turkey"),x("🦄","Unicorn"),x("🦅","Eagle"),x("🦆","Duck"),x("🦇","Bat"),x("🦈","Shark"),x("🦉","Owl"),x("🦊","Fox"),x("🦋","Butterfly"),x("🦌","Deer"),x("🦍","Gorilla"),x("🦎","Lizard"),x("🦏","Rhinoceros"),x("🦒","Giraffe"),x("🦓","Zebra"),x("🦔","Hedgehog"),x("🦕","Sauropod"),x("🦖","T-Rex"),x("🦗","Cricket"),x("🦘","Kangaroo"),x("🦙","Llama"),x("🦚","Peacock"),x("🦛","Hippopotamus"),x("🦜","Parrot"),x("🦝","Raccoon"),x("🦟","Mosquito"),x("🦠","Microbe"),x("🦡","Badger"),x("🦢","Swan"),x("🦥","Sloth"),x("🦦","Otter"),x("🦧","Orangutan"),x("🦨","Skunk"),x("🦩","Flamingo"),x("🦮","Guide Dog")),Da=x("💮","White Flower"),ya=O("Plants","Flowers, trees, and things",x("🌱","Seedling"),x("🌲","Evergreen Tree"),x("🌳","Deciduous Tree"),x("🌴","Palm Tree"),x("🌵","Cactus"),x("🌷","Tulip"),x("🌸","Cherry Blossom"),x("🌹","Rose"),x("🌺","Hibiscus"),x("🌻","Sunflower"),x("🌼","Blossom"),lt,x("🌿","Herb"),x("🍀","Four Leaf Clover"),x("🍁","Maple Leaf"),x("🍂","Fallen Leaf"),x("🍃","Leaf Fluttering in Wind"),L("🏵","Rosette"),x("💐","Bouquet"),Da,x("🥀","Wilted Flower"),L("☘","Shamrock")),Pa=x("🍌","Banana"),Ca=O("Food","Food, drink, and utensils",x("🌭","Hot Dog"),x("🌮","Taco"),x("🌯","Burrito"),x("🌰","Chestnut"),L("🌶","Hot Pepper"),x("🌽","Ear of Corn"),x("🍄","Mushroom"),x("🍅","Tomato"),x("🍆","Eggplant"),x("🍇","Grapes"),x("🍈","Melon"),x("🍉","Watermelon"),x("🍊","Tangerine"),x("🍋","Lemon"),Pa,x("🍍","Pineapple"),x("🍎","Red Apple"),x("🍏","Green Apple"),x("🍐","Pear"),x("🍑","Peach"),x("🍒","Cherries"),x("🍓","Strawberry"),x("🍔","Hamburger"),x("🍕","Pizza"),x("🍖","Meat on Bone"),x("🍗","Poultry Leg"),x("🍘","Rice Cracker"),x("🍙","Rice Ball"),x("🍚","Cooked Rice"),x("🍛","Curry Rice"),x("🍜","Steaming Bowl"),x("🍝","Spaghetti"),x("🍞","Bread"),x("🍟","French Fries"),x("🍠","Roasted Sweet Potato"),x("🍡","Dango"),x("🍢","Oden"),x("🍣","Sushi"),x("🍤","Fried Shrimp"),x("🍥","Fish Cake with Swirl"),x("🍱","Bento Box"),x("🍲","Pot of Food"),ut,x("🍿","Popcorn"),x("🥐","Croissant"),x("🥑","Avocado"),x("🥒","Cucumber"),x("🥓","Bacon"),x("🥔","Potato"),x("🥕","Carrot"),x("🥖","Baguette Bread"),x("🥗","Green Salad"),x("🥘","Shallow Pan of Food"),x("🥙","Stuffed Flatbread"),x("🥚","Egg"),x("🥜","Peanuts"),x("🥝","Kiwi Fruit"),x("🥞","Pancakes"),x("🥟","Dumpling"),x("🥠","Fortune Cookie"),x("🥡","Takeout Box"),x("🥣","Bowl with Spoon"),x("🥥","Coconut"),x("🥦","Broccoli"),x("🥨","Pretzel"),x("🥩","Cut of Meat"),x("🥪","Sandwich"),x("🥫","Canned Food"),x("🥬","Leafy Green"),x("🥭","Mango"),x("🥮","Moon Cake"),x("🥯","Bagel"),x("🦀","Crab"),x("🦐","Shrimp"),x("🦑","Squid"),x("🦞","Lobster"),x("🦪","Oyster"),x("🧀","Cheese Wedge"),x("🧂","Salt"),x("🧄","Garlic"),x("🧅","Onion"),x("🧆","Falafel"),x("🧇","Waffle"),x("🧈","Butter"),x("🍦","Soft Ice Cream"),x("🍧","Shaved Ice"),x("🍨","Ice Cream"),x("🍩","Doughnut"),x("🍪","Cookie"),x("🍫","Chocolate Bar"),x("🍬","Candy"),x("🍭","Lollipop"),x("🍮","Custard"),x("🍯","Honey Pot"),x("🍰","Shortcake"),x("🎂","Birthday Cake"),x("🥧","Pie"),x("🧁","Cupcake"),x("🍵","Teacup Without Handle"),x("🍶","Sake"),x("🍷","Wine Glass"),x("🍸","Cocktail Glass"),x("🍹","Tropical Drink"),x("🍺","Beer Mug"),x("🍻","Clinking Beer Mugs"),x("🍼","Baby Bottle"),x("🍾","Bottle with Popping Cork"),x("🥂","Clinking Glasses"),x("🥃","Tumbler Glass"),x("🥛","Glass of Milk"),x("🥤","Cup with Straw"),x("🧃","Beverage Box"),x("🧉","Mate"),x("🧊","Ice"),x("☕","Hot Beverage"),x("🍴","Fork and Knife"),L("🍽","Fork and Knife with Plate"),x("🏺","Amphora"),x("🔪","Kitchen Knife"),x("🥄","Spoon"),x("🥢","Chopsticks")),Ba=(O("National Flags","Flags of countries from around the world",x("🇦🇨","Flag: Ascension Island"),x("🇦🇩","Flag: Andorra"),x("🇦🇪","Flag: United Arab Emirates"),x("🇦🇫","Flag: Afghanistan"),x("🇦🇬","Flag: Antigua & Barbuda"),x("🇦🇮","Flag: Anguilla"),x("🇦🇱","Flag: Albania"),x("🇦🇲","Flag: Armenia"),x("🇦🇴","Flag: Angola"),x("🇦🇶","Flag: Antarctica"),x("🇦🇷","Flag: Argentina"),x("🇦🇸","Flag: American Samoa"),x("🇦🇹","Flag: Austria"),x("🇦🇺","Flag: Australia"),x("🇦🇼","Flag: Aruba"),x("🇦🇽","Flag: Åland Islands"),x("🇦🇿","Flag: Azerbaijan"),x("🇧🇦","Flag: Bosnia & Herzegovina"),x("🇧🇧","Flag: Barbados"),x("🇧🇩","Flag: Bangladesh"),x("🇧🇪","Flag: Belgium"),x("🇧🇫","Flag: Burkina Faso"),x("🇧🇬","Flag: Bulgaria"),x("🇧🇭","Flag: Bahrain"),x("🇧🇮","Flag: Burundi"),x("🇧🇯","Flag: Benin"),x("🇧🇱","Flag: St. Barthélemy"),x("🇧🇲","Flag: Bermuda"),x("🇧🇳","Flag: Brunei"),x("🇧🇴","Flag: Bolivia"),x("🇧🇶","Flag: Caribbean Netherlands"),x("🇧🇷","Flag: Brazil"),x("🇧🇸","Flag: Bahamas"),x("🇧🇹","Flag: Bhutan"),x("🇧🇻","Flag: Bouvet Island"),x("🇧🇼","Flag: Botswana"),x("🇧🇾","Flag: Belarus"),x("🇧🇿","Flag: Belize"),x("🇨🇦","Flag: Canada"),x("🇨🇨","Flag: Cocos (Keeling) Islands"),x("🇨🇩","Flag: Congo - Kinshasa"),x("🇨🇫","Flag: Central African Republic"),x("🇨🇬","Flag: Congo - Brazzaville"),x("🇨🇭","Flag: Switzerland"),x("🇨🇮","Flag: Côte d’Ivoire"),x("🇨🇰","Flag: Cook Islands"),x("🇨🇱","Flag: Chile"),x("🇨🇲","Flag: Cameroon"),x("🇨🇳","Flag: China"),x("🇨🇴","Flag: Colombia"),x("🇨🇵","Flag: Clipperton Island"),x("🇨🇷","Flag: Costa Rica"),x("🇨🇺","Flag: Cuba"),x("🇨🇻","Flag: Cape Verde"),x("🇨🇼","Flag: Curaçao"),x("🇨🇽","Flag: Christmas Island"),x("🇨🇾","Flag: Cyprus"),x("🇨🇿","Flag: Czechia"),x("🇩🇪","Flag: Germany"),x("🇩🇬","Flag: Diego Garcia"),x("🇩🇯","Flag: Djibouti"),x("🇩🇰","Flag: Denmark"),x("🇩🇲","Flag: Dominica"),x("🇩🇴","Flag: Dominican Republic"),x("🇩🇿","Flag: Algeria"),x("🇪🇦","Flag: Ceuta & Melilla"),x("🇪🇨","Flag: Ecuador"),x("🇪🇪","Flag: Estonia"),x("🇪🇬","Flag: Egypt"),x("🇪🇭","Flag: Western Sahara"),x("🇪🇷","Flag: Eritrea"),x("🇪🇸","Flag: Spain"),x("🇪🇹","Flag: Ethiopia"),x("🇪🇺","Flag: European Union"),x("🇫🇮","Flag: Finland"),x("🇫🇯","Flag: Fiji"),x("🇫🇰","Flag: Falkland Islands"),x("🇫🇲","Flag: Micronesia"),x("🇫🇴","Flag: Faroe Islands"),x("🇫🇷","Flag: France"),x("🇬🇦","Flag: Gabon"),x("🇬🇧","Flag: United Kingdom"),x("🇬🇩","Flag: Grenada"),x("🇬🇪","Flag: Georgia"),x("🇬🇫","Flag: French Guiana"),x("🇬🇬","Flag: Guernsey"),x("🇬🇭","Flag: Ghana"),x("🇬🇮","Flag: Gibraltar"),x("🇬🇱","Flag: Greenland"),x("🇬🇲","Flag: Gambia"),x("🇬🇳","Flag: Guinea"),x("🇬🇵","Flag: Guadeloupe"),x("🇬🇶","Flag: Equatorial Guinea"),x("🇬🇷","Flag: Greece"),x("🇬🇸","Flag: South Georgia & South Sandwich Islands"),x("🇬🇹","Flag: Guatemala"),x("🇬🇺","Flag: Guam"),x("🇬🇼","Flag: Guinea-Bissau"),x("🇬🇾","Flag: Guyana"),x("🇭🇰","Flag: Hong Kong SAR China"),x("🇭🇲","Flag: Heard & McDonald Islands"),x("🇭🇳","Flag: Honduras"),x("🇭🇷","Flag: Croatia"),x("🇭🇹","Flag: Haiti"),x("🇭🇺","Flag: Hungary"),x("🇮🇨","Flag: Canary Islands"),x("🇮🇩","Flag: Indonesia"),x("🇮🇪","Flag: Ireland"),x("🇮🇱","Flag: Israel"),x("🇮🇲","Flag: Isle of Man"),x("🇮🇳","Flag: India"),x("🇮🇴","Flag: British Indian Ocean Territory"),x("🇮🇶","Flag: Iraq"),x("🇮🇷","Flag: Iran"),x("🇮🇸","Flag: Iceland"),x("🇮🇹","Flag: Italy"),x("🇯🇪","Flag: Jersey"),x("🇯🇲","Flag: Jamaica"),x("🇯🇴","Flag: Jordan"),x("🇯🇵","Flag: Japan"),x("🇰🇪","Flag: Kenya"),x("🇰🇬","Flag: Kyrgyzstan"),x("🇰🇭","Flag: Cambodia"),x("🇰🇮","Flag: Kiribati"),x("🇰🇲","Flag: Comoros"),x("🇰🇳","Flag: St. Kitts & Nevis"),x("🇰🇵","Flag: North Korea"),x("🇰🇷","Flag: South Korea"),x("🇰🇼","Flag: Kuwait"),x("🇰🇾","Flag: Cayman Islands"),x("🇰🇿","Flag: Kazakhstan"),x("🇱🇦","Flag: Laos"),x("🇱🇧","Flag: Lebanon"),x("🇱🇨","Flag: St. Lucia"),x("🇱🇮","Flag: Liechtenstein"),x("🇱🇰","Flag: Sri Lanka"),x("🇱🇷","Flag: Liberia"),x("🇱🇸","Flag: Lesotho"),x("🇱🇹","Flag: Lithuania"),x("🇱🇺","Flag: Luxembourg"),x("🇱🇻","Flag: Latvia"),x("🇱🇾","Flag: Libya"),x("🇲🇦","Flag: Morocco"),x("🇲🇨","Flag: Monaco"),x("🇲🇩","Flag: Moldova"),x("🇲🇪","Flag: Montenegro"),x("🇲🇫","Flag: St. Martin"),x("🇲🇬","Flag: Madagascar"),x("🇲🇭","Flag: Marshall Islands"),x("🇲🇰","Flag: North Macedonia"),x("🇲🇱","Flag: Mali"),x("🇲🇲","Flag: Myanmar (Burma)"),x("🇲🇳","Flag: Mongolia"),x("🇲🇴","Flag: Macao Sar China"),x("🇲🇵","Flag: Northern Mariana Islands"),x("🇲🇶","Flag: Martinique"),x("🇲🇷","Flag: Mauritania"),x("🇲🇸","Flag: Montserrat"),x("🇲🇹","Flag: Malta"),x("🇲🇺","Flag: Mauritius"),x("🇲🇻","Flag: Maldives"),x("🇲🇼","Flag: Malawi"),x("🇲🇽","Flag: Mexico"),x("🇲🇾","Flag: Malaysia"),x("🇲🇿","Flag: Mozambique"),x("🇳🇦","Flag: Namibia"),x("🇳🇨","Flag: New Caledonia"),x("🇳🇪","Flag: Niger"),x("🇳🇫","Flag: Norfolk Island"),x("🇳🇬","Flag: Nigeria"),x("🇳🇮","Flag: Nicaragua"),x("🇳🇱","Flag: Netherlands"),x("🇳🇴","Flag: Norway"),x("🇳🇵","Flag: Nepal"),x("🇳🇷","Flag: Nauru"),x("🇳🇺","Flag: Niue"),x("🇳🇿","Flag: New Zealand"),x("🇴🇲","Flag: Oman"),x("🇵🇦","Flag: Panama"),x("🇵🇪","Flag: Peru"),x("🇵🇫","Flag: French Polynesia"),x("🇵🇬","Flag: Papua New Guinea"),x("🇵🇭","Flag: Philippines"),x("🇵🇰","Flag: Pakistan"),x("🇵🇱","Flag: Poland"),x("🇵🇲","Flag: St. Pierre & Miquelon"),x("🇵🇳","Flag: Pitcairn Islands"),x("🇵🇷","Flag: Puerto Rico"),x("🇵🇸","Flag: Palestinian Territories"),x("🇵🇹","Flag: Portugal"),x("🇵🇼","Flag: Palau"),x("🇵🇾","Flag: Paraguay"),x("🇶🇦","Flag: Qatar"),x("🇷🇪","Flag: Réunion"),x("🇷🇴","Flag: Romania"),x("🇷🇸","Flag: Serbia"),x("🇷🇺","Flag: Russia"),x("🇷🇼","Flag: Rwanda"),x("🇸🇦","Flag: Saudi Arabia"),x("🇸🇧","Flag: Solomon Islands"),x("🇸🇨","Flag: Seychelles"),x("🇸🇩","Flag: Sudan"),x("🇸🇪","Flag: Sweden"),x("🇸🇬","Flag: Singapore"),x("🇸🇭","Flag: St. Helena"),x("🇸🇮","Flag: Slovenia"),x("🇸🇯","Flag: Svalbard & Jan Mayen"),x("🇸🇰","Flag: Slovakia"),x("🇸🇱","Flag: Sierra Leone"),x("🇸🇲","Flag: San Marino"),x("🇸🇳","Flag: Senegal"),x("🇸🇴","Flag: Somalia"),x("🇸🇷","Flag: Suriname"),x("🇸🇸","Flag: South Sudan"),x("🇸🇹","Flag: São Tomé & Príncipe"),x("🇸🇻","Flag: El Salvador"),x("🇸🇽","Flag: Sint Maarten"),x("🇸🇾","Flag: Syria"),x("🇸🇿","Flag: Eswatini"),x("🇹🇦","Flag: Tristan Da Cunha"),x("🇹🇨","Flag: Turks & Caicos Islands"),x("🇹🇩","Flag: Chad"),x("🇹🇫","Flag: French Southern Territories"),x("🇹🇬","Flag: Togo"),x("🇹🇭","Flag: Thailand"),x("🇹🇯","Flag: Tajikistan"),x("🇹🇰","Flag: Tokelau"),x("🇹🇱","Flag: Timor-Leste"),x("🇹🇲","Flag: Turkmenistan"),x("🇹🇳","Flag: Tunisia"),x("🇹🇴","Flag: Tonga"),x("🇹🇷","Flag: Turkey"),x("🇹🇹","Flag: Trinidad & Tobago"),x("🇹🇻","Flag: Tuvalu"),x("🇹🇼","Flag: Taiwan"),x("🇹🇿","Flag: Tanzania"),x("🇺🇦","Flag: Ukraine"),x("🇺🇬","Flag: Uganda"),x("🇺🇲","Flag: U.S. Outlying Islands"),x("🇺🇳","Flag: United Nations"),x("🇺🇸","Flag: United States"),x("🇺🇾","Flag: Uruguay"),x("🇺🇿","Flag: Uzbekistan"),x("🇻🇦","Flag: Vatican City"),x("🇻🇨","Flag: St. Vincent & Grenadines"),x("🇻🇪","Flag: Venezuela"),x("🇻🇬","Flag: British Virgin Islands"),x("🇻🇮","Flag: U.S. Virgin Islands"),x("🇻🇳","Flag: Vietnam"),x("🇻🇺","Flag: Vanuatu"),x("🇼🇫","Flag: Wallis & Futuna"),x("🇼🇸","Flag: Samoa"),x("🇽🇰","Flag: Kosovo"),x("🇾🇪","Flag: Yemen"),x("🇾🇹","Flag: Mayotte"),x("🇿🇦","Flag: South Africa"),x("🇿🇲","Flag: Zambia"),x("🇿🇼","Flag: Zimbabwe")),L("🏳","White Flag")),Ma=N(Ba,ua,"Rainbow Flag"),Sa=N(Ba,Z,"Transgender Flag"),Fa=x("🏴","Black Flag"),Ea=N(Fa,Is,"Pirate Flag"),ka=O("Flags","Basic flags",x("🎌","Crossed Flags"),x("🏁","Chequered Flag"),Ba,Ma,Sa,Fa,Ea,x("🏴󠁧󠁢󠁥󠁮󠁧󠁿","Flag: England"),x("🏴󠁧󠁢󠁳󠁣󠁴󠁿","Flag: Scotland"),x("🏴󠁧󠁢󠁷󠁬󠁳󠁿","Flag: Wales"),x("🚩","Triangular Flag")),Ia=L("🏍","Motorcycle"),Ta=L("🏎","Racing Car"),_a=x("💺","Seat"),xa=x("🚁","Helicopter"),La=x("🚂","Locomotive"),Oa=x("🚃","Railway Car"),Ra=x("🚄","High-Speed Train"),Qa=x("🚅","Bullet Train"),Na=x("🚆","Train"),Ha=x("🚇","Metro"),Ua=x("🚈","Light Rail"),Ga=x("🚉","Station"),za=x("🚊","Tram"),Wa=x("🚋","Tram Car"),ja=x("🚌","Bus"),Va=x("🚍","Oncoming Bus"),Ya=x("🚎","Trolleybus"),Xa=x("🚏","Bus Stop"),Ja=x("🚐","Minibus"),Za=x("🚑","Ambulance"),qa=x("🚕","Taxi"),Ka=x("🚖","Oncoming Taxi"),$a=x("🚗","Automobile"),ec=x("🚘","Oncoming Automobile"),tc=x("🚙","Sport Utility Vehicle"),ic=x("🚚","Delivery Truck"),nc=x("🚛","Articulated Lorry"),sc=x("🚜","Tractor"),rc=x("🚝","Monorail"),oc=x("🚞","Mountain Railway"),ac=x("🚟","Suspension Railway"),cc=x("🚠","Mountain Cableway"),Ac=x("🚡","Aerial Tramway"),lc=x("🚢","Ship"),hc=x("🚤","Speedboat"),uc=x("🚥","Horizontal Traffic Light"),dc=x("🚦","Vertical Traffic Light"),gc=x("🚧","Construction"),pc=x("🚲","Bicycle"),fc=x("🛑","Stop Sign"),mc=L("🛢","Oil Drum"),vc=L("🛣","Motorway"),wc=L("🛤","Railway Track"),bc=L("🛥","Motor Boat"),Dc=L("🛩","Small Airplane"),yc=x("🛫","Airplane Departure"),Pc=x("🛬","Airplane Arrival"),Cc=L("🛰","Satellite"),Bc=L("🛳","Passenger Ship"),Mc=x("🛴","Kick Scooter"),Sc=x("🛵","Motor Scooter"),Fc=x("🛶","Canoe"),Ec=x("🛸","Flying Saucer"),kc=x("🛹","Skateboard"),Ic=x("🛺","Auto Rickshaw"),Tc=x("🪂","Parachute"),_c=x("⚓","Anchor"),xc=L("⛴","Ferry"),Lc=x("⛵","Sailboat"),Oc=x("⛽","Fuel Pump"),Rc=O("Vehicles","Things that go",Ia,Ta,_a,yt,xa,La,Oa,Ra,Qa,Na,Ha,Ua,Ga,za,Wa,ja,Va,Ya,Xa,Ja,Za,bt,qa,Ka,$a,ec,tc,ic,nc,sc,rc,oc,ac,cc,Ac,lc,hc,uc,dc,gc,pc,fc,mc,vc,wc,bc,Dc,yc,Pc,Cc,Bc,Mc,Sc,Fc,Ec,kc,Ic,Xt,Zt,Tc,_c,xc,Lc,Oc,Ct),Qc=(O("Blood Types","Blood types",x("🅰","A Button (Blood Type)"),x("🅱","B Button (Blood Type)"),x("🅾","O Button (Blood Type)"),x("🆎","AB Button (Blood Type)")),O("Regions","Region indicators",x("🇦","Regional Indicator Symbol Letter A"),x("🇧","Regional Indicator Symbol Letter B"),x("🇨","Regional Indicator Symbol Letter C"),x("🇩","Regional Indicator Symbol Letter D"),x("🇪","Regional Indicator Symbol Letter E"),x("🇫","Regional Indicator Symbol Letter F"),x("🇬","Regional Indicator Symbol Letter G"),x("🇭","Regional Indicator Symbol Letter H"),x("🇮","Regional Indicator Symbol Letter I"),x("🇯","Regional Indicator Symbol Letter J"),x("🇰","Regional Indicator Symbol Letter K"),x("🇱","Regional Indicator Symbol Letter L"),x("🇲","Regional Indicator Symbol Letter M"),x("🇳","Regional Indicator Symbol Letter N"),x("🇴","Regional Indicator Symbol Letter O"),x("🇵","Regional Indicator Symbol Letter P"),x("🇶","Regional Indicator Symbol Letter Q"),x("🇷","Regional Indicator Symbol Letter R"),x("🇸","Regional Indicator Symbol Letter S"),x("🇹","Regional Indicator Symbol Letter T"),x("🇺","Regional Indicator Symbol Letter U"),x("🇻","Regional Indicator Symbol Letter V"),x("🇼","Regional Indicator Symbol Letter W"),x("🇽","Regional Indicator Symbol Letter X"),x("🇾","Regional Indicator Symbol Letter Y"),x("🇿","Regional Indicator Symbol Letter Z")),O("Japanese","Japanse symbology",x("🔰","Japanese Symbol for Beginner"),x("🈁","Japanese “Here” Button"),L("🈂","Japanese “Service Charge” Button"),x("🈚","Japanese “Free of Charge” Button"),x("🈯","Japanese “Reserved” Button"),x("🈲","Japanese “Prohibited” Button"),x("🈳","Japanese “Vacancy” Button"),x("🈴","Japanese “Passing Grade” Button"),x("🈵","Japanese “No Vacancy” Button"),x("🈶","Japanese “Not Free of Charge” Button"),L("🈷","Japanese “Monthly Amount” Button"),x("🈸","Japanese “Application” Button"),x("🈹","Japanese “Discount” Button"),x("🈺","Japanese “Open for Business” Button"),x("🉐","Japanese “Bargain” Button"),x("🉑","Japanese “Acceptable” Button"),L("㊗","Japanese “Congratulations” Button"),L("㊙","Japanese “Secret” Button")),O("Clocks","Time-keeping pieces",x("🕐","One O’Clock"),x("🕑","Two O’Clock"),x("🕒","Three O’Clock"),x("🕓","Four O’Clock"),x("🕔","Five O’Clock"),x("🕕","Six O’Clock"),x("🕖","Seven O’Clock"),x("🕗","Eight O’Clock"),x("🕘","Nine O’Clock"),x("🕙","Ten O’Clock"),x("🕚","Eleven O’Clock"),x("🕛","Twelve O’Clock"),x("🕜","One-Thirty"),x("🕝","Two-Thirty"),x("🕞","Three-Thirty"),x("🕟","Four-Thirty"),x("🕠","Five-Thirty"),x("🕡","Six-Thirty"),x("🕢","Seven-Thirty"),x("🕣","Eight-Thirty"),x("🕤","Nine-Thirty"),x("🕥","Ten-Thirty"),x("🕦","Eleven-Thirty"),x("🕧","Twelve-Thirty"),L("🕰","Mantelpiece Clock"),x("⌚","Watch"),x("⏰","Alarm Clock"),L("⏱","Stopwatch"),L("⏲","Timer Clock"),x("⌛","Hourglass Done"),x("⏳","Hourglass Not Done"))),Nc=L("🔃","Clockwise Vertical Arrows"),Hc=L("🔄","Counterclockwise Arrows Button"),Uc=L("↔","Left-Right Arrow"),Gc=L("↕","Up-Down Arrow"),zc=L("↖","Up-Left Arrow"),Wc=L("↗","Up-Right Arrow"),jc=L("↘","Down-Right Arrow"),Vc=L("↙","Down-Left Arrow"),Yc=L("↩","Right Arrow Curving Left"),Xc=L("↪","Left Arrow Curving Right"),Jc=L("➡","Right Arrow"),Zc=L("⤴","Right Arrow Curving Up"),qc=L("⤵","Right Arrow Curving Down"),Kc=L("⬅","Left Arrow"),$c=L("⬆","Up Arrow"),eA=L("⬇","Down Arrow"),tA=O("Arrows","Arrows pointing in different directions",Nc,Hc,Uc,Gc,zc,Wc,jc,Vc,Yc,Xc,Jc,Zc,qc,Kc,$c,eA),iA=x("🆑","CL Button"),nA=x("🆒","Cool Button"),sA=x("🆓","Free Button"),rA=x("🆔","ID Button"),oA=x("🆕","New Button"),aA=x("🆖","NG Button"),cA=x("🆗","OK Button"),AA=x("🆘","SOS Button"),lA=x("🆙","Up! Button"),hA=x("🆚","Vs Button"),uA=x("🔘","Radio Button"),dA=x("🔙","Back Arrow"),gA=x("🔚","End Arrow"),pA=x("🔛","On! Arrow"),fA=x("🔜","Soon Arrow"),mA=x("🔝","Top Arrow"),vA=L("☑","Check Box with Check"),wA=x("🔠","Input Latin Uppercase"),bA=x("🔡","Input Latin Lowercase"),DA=x("🔢","Input Numbers"),yA=x("🔣","Input Symbols"),PA=x("🔤","Input Latin Letters"),CA=x("🔀","Shuffle Tracks Button"),BA=x("🔁","Repeat Button"),MA=x("🔂","Repeat Single Button"),SA=x("🔼","Upwards Button"),FA=x("🔽","Downwards Button"),EA=L("▶","Play Button"),kA=L("◀","Reverse Button"),IA=L("⏏","Eject Button"),TA=x("⏩","Fast-Forward Button"),_A=x("⏪","Fast Reverse Button"),xA=x("⏫","Fast Up Button"),LA=x("⏬","Fast Down Button"),OA=L("⏭","Next Track Button"),RA=L("⏮","Last Track Button"),QA=L("⏯","Play or Pause Button"),NA=L("⏸","Pause Button"),HA=O("Buttons","Buttons",iA,nA,sA,rA,oA,aA,cA,AA,lA,hA,uA,dA,gA,pA,fA,mA,vA,wA,bA,DA,yA,PA,CA,BA,MA,SA,FA,EA,NA,kA,IA,TA,_A,xA,LA,OA,RA,QA,NA,L("⏹","Stop Button"),L("⏺","Record Button")),UA=O("Zodiac","The symbology of astrology",x("♈","Aries"),x("♉","Taurus"),x("♊","Gemini"),x("♋","Cancer"),x("♌","Leo"),x("♍","Virgo"),x("♎","Libra"),x("♏","Scorpio"),x("♐","Sagittarius"),x("♑","Capricorn"),x("♒","Aquarius"),x("♓","Pisces"),x("⛎","Ophiuchus")),GA=L("0","Digit Zero"),zA=L("1","Digit One"),WA=L("2","Digit Two"),jA=L("3","Digit Three"),VA=L("4","Digit Four"),YA=L("5","Digit Five"),XA=L("6","Digit Six"),JA=L("7","Digit Seven"),ZA=L("8","Digit Eight"),qA=L("9","Digit Nine"),KA=L("*","Asterisk"),$A=L("#","Number Sign"),el=(O("Numbers","Numbers",GA,zA,WA,jA,VA,YA,XA,JA,ZA,qA,KA,$A,Q(GA,Y,"Keycap Digit Zero"),Q(zA,Y,"Keycap Digit One"),Q(WA,Y,"Keycap Digit Two"),Q(jA,Y,"Keycap Digit Three"),Q(VA,Y,"Keycap Digit Four"),Q(YA,Y,"Keycap Digit Five"),Q(XA,Y,"Keycap Digit Six"),Q(JA,Y,"Keycap Digit Seven"),Q(ZA,Y,"Keycap Digit Eight"),Q(qA,Y,"Keycap Digit Nine"),Q(KA,Y,"Keycap Asterisk"),Q($A,Y,"Keycap Number Sign"),x("🔟","Keycap: 10")),x("󠀫","Tag Plus Sign")),tl=x("󠀭","Tag Hyphen-Minus"),il=(O("Tags","Tags",x("󠀠","Tag Space"),x("󠀡","Tag Exclamation Mark"),x("󠀢","Tag Quotation Mark"),x("󠀣","Tag Number Sign"),x("󠀤","Tag Dollar Sign"),x("󠀥","Tag Percent Sign"),x("󠀦","Tag Ampersand"),x("󠀧","Tag Apostrophe"),x("󠀨","Tag Left Parenthesis"),x("󠀩","Tag Right Parenthesis"),x("󠀪","Tag Asterisk"),el,x("󠀬","Tag Comma"),tl,x("󠀮","Tag Full Stop"),x("󠀯","Tag Solidus"),x("󠀰","Tag Digit Zero"),x("󠀱","Tag Digit One"),x("󠀲","Tag Digit Two"),x("󠀳","Tag Digit Three"),x("󠀴","Tag Digit Four"),x("󠀵","Tag Digit Five"),x("󠀶","Tag Digit Six"),x("󠀷","Tag Digit Seven"),x("󠀸","Tag Digit Eight"),x("󠀹","Tag Digit Nine"),x("󠀺","Tag Colon"),x("󠀻","Tag Semicolon"),x("󠀼","Tag Less-Than Sign"),x("󠀽","Tag Equals Sign"),x("󠀾","Tag Greater-Than Sign"),x("󠀿","Tag Question Mark"),x("󠁀","Tag Commercial at"),x("󠁁","Tag Latin Capital Letter a"),x("󠁂","Tag Latin Capital Letter B"),x("󠁃","Tag Latin Capital Letter C"),x("󠁄","Tag Latin Capital Letter D"),x("󠁅","Tag Latin Capital Letter E"),x("󠁆","Tag Latin Capital Letter F"),x("󠁇","Tag Latin Capital Letter G"),x("󠁈","Tag Latin Capital Letter H"),x("󠁉","Tag Latin Capital Letter I"),x("󠁊","Tag Latin Capital Letter J"),x("󠁋","Tag Latin Capital Letter K"),x("󠁌","Tag Latin Capital Letter L"),x("󠁍","Tag Latin Capital Letter M"),x("󠁎","Tag Latin Capital Letter N"),x("󠁏","Tag Latin Capital Letter O"),x("󠁐","Tag Latin Capital Letter P"),x("󠁑","Tag Latin Capital Letter Q"),x("󠁒","Tag Latin Capital Letter R"),x("󠁓","Tag Latin Capital Letter S"),x("󠁔","Tag Latin Capital Letter T"),x("󠁕","Tag Latin Capital Letter U"),x("󠁖","Tag Latin Capital Letter V"),x("󠁗","Tag Latin Capital Letter W"),x("󠁘","Tag Latin Capital Letter X"),x("󠁙","Tag Latin Capital Letter Y"),x("󠁚","Tag Latin Capital Letter Z"),x("󠁛","Tag Left Square Bracket"),x("󠁜","Tag Reverse Solidus"),x("󠁝","Tag Right Square Bracket"),x("󠁞","Tag Circumflex Accent"),x("󠁟","Tag Low Line"),x("󠁠","Tag Grave Accent"),x("󠁡","Tag Latin Small Letter a"),x("󠁢","Tag Latin Small Letter B"),x("󠁣","Tag Latin Small Letter C"),x("󠁤","Tag Latin Small Letter D"),x("󠁥","Tag Latin Small Letter E"),x("󠁦","Tag Latin Small Letter F"),x("󠁧","Tag Latin Small Letter G"),x("󠁨","Tag Latin Small Letter H"),x("󠁩","Tag Latin Small Letter I"),x("󠁪","Tag Latin Small Letter J"),x("󠁫","Tag Latin Small Letter K"),x("󠁬","Tag Latin Small Letter L"),x("󠁭","Tag Latin Small Letter M"),x("󠁮","Tag Latin Small Letter N"),x("󠁯","Tag Latin Small Letter O"),x("󠁰","Tag Latin Small Letter P"),x("󠁱","Tag Latin Small Letter Q"),x("󠁲","Tag Latin Small Letter R"),x("󠁳","Tag Latin Small Letter S"),x("󠁴","Tag Latin Small Letter T"),x("󠁵","Tag Latin Small Letter U"),x("󠁶","Tag Latin Small Letter V"),x("󠁷","Tag Latin Small Letter W"),x("󠁸","Tag Latin Small Letter X"),x("󠁹","Tag Latin Small Letter Y"),x("󠁺","Tag Latin Small Letter Z"),x("󠁻","Tag Left Curly Bracket"),x("󠁼","Tag Vertical Line"),x("󠁽","Tag Right Curly Bracket"),x("󠁾","Tag Tilde"),x("󠁿","Cancel Tag")),O("Math","Math",L("✖","Multiply"),x("➕","Plus"),x("➖","Minus"),x("➗","Divide"))),nl=O("Games","Games",L("♠","Spade Suit"),L("♣","Club Suit"),L("♥","Heart Suit",{color:"red"}),L("♦","Diamond Suit",{color:"red"}),x("🀄","Mahjong Red Dragon"),x("🃏","Joker"),x("🎯","Direct Hit"),x("🎰","Slot Machine"),x("🎱","Pool 8 Ball"),x("🎲","Game Die"),x("🎳","Bowling"),x("🎴","Flower Playing Cards"),x("🧩","Puzzle Piece"),L("♟","Chess Pawn"),x("🪀","Yo-Yo"),x("🪁","Kite")),sl=O("Sports Equipment","Sports equipment",x("🎽","Running Shirt"),x("🎾","Tennis"),x("🎿","Skis"),x("🏀","Basketball"),x("🏅","Sports Medal"),x("🏆","Trophy"),x("🏈","American Football"),x("🏉","Rugby Football"),x("🏏","Cricket Game"),x("🏐","Volleyball"),x("🏑","Field Hockey"),x("🏒","Ice Hockey"),x("🏓","Ping Pong"),x("🏸","Badminton"),x("🛷","Sled"),x("🥅","Goal Net"),x("🥇","1st Place Medal"),x("🥈","2nd Place Medal"),x("🥉","3rd Place Medal"),x("🥊","Boxing Glove"),x("🥌","Curling Stone"),x("🥍","Lacrosse"),x("🥎","Softball"),x("🥏","Flying Disc"),x("⚽","Soccer Ball"),x("⚾","Baseball"),L("⛸","Ice Skate")),rl=O("Clothing","Clothing",x("🎩","Top Hat"),x("🤿","Diving Mask"),x("👒","Woman’s Hat"),x("👓","Glasses"),L("🕶","Sunglasses"),x("👔","Necktie"),x("👕","T-Shirt"),x("👖","Jeans"),x("👗","Dress"),x("👘","Kimono"),x("👙","Bikini"),x("👚","Woman’s Clothes"),x("👛","Purse"),x("👜","Handbag"),x("👝","Clutch Bag"),x("👞","Man’s Shoe"),x("👟","Running Shoe"),x("👠","High-Heeled Shoe"),x("👡","Woman’s Sandal"),x("👢","Woman’s Boot"),x("🥋","Martial Arts Uniform"),x("🥻","Sari"),x("🥼","Lab Coat"),x("🥽","Goggles"),x("🥾","Hiking Boot"),x("🥿","Flat Shoe"),Vt,jt,x("🧢","Billed Cap"),x("🧣","Scarf"),x("🧤","Gloves"),x("🧥","Coat"),x("🧦","Socks"),x("🧿","Nazar Amulet"),x("🩰","Ballet Shoes"),x("🩱","One-Piece Swimsuit"),x("🩲","Briefs"),x("🩳","Shorts")),ol=O("Town","Town",L("🏗","Building Construction"),L("🏘","Houses"),L("🏙","Cityscape"),L("🏚","Derelict House"),L("🏛","Classical Building"),L("🏜","Desert"),L("🏝","Desert Island"),L("🏞","National Park"),L("🏟","Stadium"),x("🏠","House"),x("🏡","House with Garden"),x("🏢","Office Building"),x("🏣","Japanese Post Office"),x("🏤","Post Office"),x("🏥","Hospital"),x("🏦","Bank"),x("🏧","ATM Sign"),x("🏨","Hotel"),x("🏩","Love Hotel"),x("🏪","Convenience Store"),ot,x("🏬","Department Store"),ft,x("🌉","Bridge at Night"),x("⛲","Fountain"),L("🛍","Shopping Bags"),x("🧾","Receipt"),x("🛒","Shopping Cart"),x("💈","Barber Pole"),x("💒","Wedding"),L("🗳","Ballot Box with Ballot")),al=O("Music","Music",x("🎼","Musical Score"),x("🎶","Musical Notes"),x("🎵","Musical Note"),x("🎷","Saxophone"),x("🎸","Guitar"),x("🎹","Musical Keyboard"),x("🎺","Trumpet"),x("🎻","Violin"),x("🥁","Drum"),x("🪕","Banjo")),cl=O("Astronomy","Astronomy",x("🌌","Milky Way"),x("🌍","Globe Showing Europe-Africa"),x("🌎","Globe Showing Americas"),x("🌏","Globe Showing Asia-Australia"),x("🌐","Globe with Meridians"),x("🌑","New Moon"),x("🌒","Waxing Crescent Moon"),x("🌓","First Quarter Moon"),x("🌔","Waxing Gibbous Moon"),x("🌕","Full Moon"),x("🌖","Waning Gibbous Moon"),x("🌗","Last Quarter Moon"),x("🌘","Waning Crescent Moon"),x("🌙","Crescent Moon"),x("🌚","New Moon Face"),x("🌛","First Quarter Moon Face"),x("🌜","Last Quarter Moon Face"),x("🌝","Full Moon Face"),x("🌞","Sun with Face"),x("🌟","Glowing Star"),x("🌠","Shooting Star"),L("☄","Comet"),x("🪐","Ringed Planet")),Al=O("Finance","Finance",x("💰","Money Bag"),x("💱","Currency Exchange"),x("💲","Heavy Dollar Sign"),x("💳","Credit Card"),x("💴","Yen Banknote"),x("💵","Dollar Banknote"),x("💶","Euro Banknote"),x("💷","Pound Banknote"),x("💸","Money with Wings"),x("💹","Chart Increasing with Yen")),ll=O("Writing","Writing",L("🖊","Pen"),L("🖋","Fountain Pen"),L("🖌","Paintbrush"),L("🖍","Crayon"),L("✏","Pencil"),L("✒","Black Nib")),hl=L("⚗","Alembic"),ul=L("⚙","Gear"),dl=L("⚛","Atom Symbol"),gl=L("⌨","Keyboard"),pl=L("☎","Telephone"),fl=L("🎙","Studio Microphone"),ml=L("🎚","Level Slider"),vl=L("🎛","Control Knobs"),wl=x("🎥","Movie Camera"),bl=x("🎧","Headphone"),Dl=x("🎮","Video Game"),yl=x("💡","Light Bulb"),Pl=x("💽","Computer Disk"),Cl=x("💾","Floppy Disk"),Bl=x("💿","Optical Disk"),Ml=x("📀","DVD"),Sl=x("📞","Telephone Receiver"),Fl=x("📟","Pager"),El=x("📠","Fax Machine"),kl=x("📡","Satellite Antenna"),Il=x("📢","Loudspeaker"),Tl=x("📣","Megaphone"),_l=x("📱","Mobile Phone"),xl=x("📲","Mobile Phone with Arrow"),Ll=x("📳","Mobile Phone Vibrating"),Ol=x("📴","Mobile Phone Off"),Rl=x("📵","No Mobile Phone"),Ql=x("📶","Antenna Bars"),Nl=x("📷","Camera"),Hl=x("📸","Camera with Flash"),Ul=x("📹","Video Camera"),Gl=x("📺","Television"),zl=x("📻","Radio"),Wl=x("📼","Videocassette"),jl=L("📽","Film Projector"),Vl=x("🔅","Dim Button"),Yl=x("🔆","Bright Button"),Xl=x("🔇","Muted Speaker"),Jl=x("🔈","Speaker Low Volume"),Zl=x("🔉","Speaker Medium Volume"),ql=x("🔊","Speaker High Volume"),Kl=x("🔋","Battery"),$l=x("🔌","Electric Plug"),eh=x("🔍","Magnifying Glass Tilted Left"),th=x("🔎","Magnifying Glass Tilted Right"),ih=x("🔏","Locked with Pen"),nh=x("🔐","Locked with Key"),sh=x("🔑","Key"),rh=x("🔒","Locked"),oh=x("🔓","Unlocked"),ah=x("🔔","Bell"),ch=x("🔕","Bell with Slash"),Ah=x("🔖","Bookmark"),lh=x("🔗","Link"),hh=L("🕹","Joystick"),uh=L("🖥","Desktop Computer"),dh=L("🖨","Printer"),gh=L("🖱","Computer Mouse"),ph=L("🖲","Trackball"),fh=x("🗂","Card Index Dividers"),mh=x("🗃","Card File Box"),vh=x("🗄","File Cabinet"),wh=x("🗑","Wastebasket"),bh=x("🗒","Spiral Note Pad"),Dh=x("🗓","Spiral Calendar"),yh=x("🗜","Compression"),Ph=x("🗝","Old Key"),Ch=O("Technology","Technology",hh,Dl,yl,kt,vt,Pl,Cl,Bl,Ml,uh,gl,dh,gh,ph,pl,Sl,Fl,El,kl,Il,Tl,Gl,zl,Wl,jl,fl,ml,vl,Ft,wl,bl,Nl,Hl,Ul,_l,Ol,xl,ih,nh,rh,oh,ah,ch,Ah,lh,Ll,Ql,Vl,Yl,Xl,Jl,Zl,ql,Kl,$l),Bh=O("Mail","Mail",x("📤","Outbox Tray"),x("📥","Inbox Tray"),x("📦","Package"),x("📧","E-Mail"),x("📨","Incoming Envelope"),x("📩","Envelope with Arrow"),x("📪","Closed Mailbox with Lowered Flag"),x("📫","Closed Mailbox with Raised Flag"),x("📬","Open Mailbox with Raised Flag"),x("📭","Open Mailbox with Lowered Flag"),x("📮","Postbox"),x("📯","Postal Horn")),Mh=O("Celebration","Celebration",x("🎀","Ribbon"),x("🎁","Wrapped Gift"),x("🎃","Jack-O-Lantern"),x("🎄","Christmas Tree"),x("🧨","Firecracker"),x("🎆","Fireworks"),x("🎇","Sparkler"),x("✨","Sparkles"),L("❇","Sparkle"),x("🎈","Balloon"),x("🎉","Party Popper"),x("🎊","Confetti Ball"),x("🎋","Tanabata Tree"),x("🎍","Pine Decoration"),x("🎎","Japanese Dolls"),x("🎏","Carp Streamer"),x("🎐","Wind Chime"),x("🎑","Moon Viewing Ceremony"),x("🎒","Backpack"),st,x("🧧","Red Envelope"),x("🏮","Red Paper Lantern"),L("🎖","Military Medal")),Sh=O("Tools","Tools",x("🎣","Fishing Pole"),x("🔦","Flashlight"),gt,x("🔨","Hammer"),x("🔩","Nut and Bolt"),L("🛠","Hammer and Wrench"),x("🧭","Compass"),x("🧯","Fire Extinguisher"),x("🧰","Toolbox"),x("🧱","Brick"),x("🪓","Axe"),L("⚒","Hammer and Pick"),L("⛏","Pick"),L("⛑","Rescue Worker’s Helmet"),L("⛓","Chains"),yh),Fh=O("Office","Office",x("📁","File Folder"),x("📂","Open File Folder"),x("📃","Page with Curl"),x("📄","Page Facing Up"),x("📅","Calendar"),x("📆","Tear-Off Calendar"),x("📇","Card Index"),fh,mh,vh,wh,bh,Dh,x("📈","Chart Increasing"),x("📉","Chart Decreasing"),x("📊","Bar Chart"),x("📋","Clipboard"),x("📌","Pushpin"),x("📍","Round Pushpin"),x("📎","Paperclip"),L("🖇","Linked Paperclips"),x("📏","Straight Ruler"),x("📐","Triangular Ruler"),x("📑","Bookmark Tabs"),x("📒","Ledger"),x("📓","Notebook"),x("📔","Notebook with Decorative Cover"),x("📕","Closed Book"),x("📖","Open Book"),x("📗","Green Book"),x("📘","Blue Book"),x("📙","Orange Book"),x("📚","Books"),x("📛","Name Badge"),x("📜","Scroll"),x("📝","Memo"),L("✂","Scissors"),L("✉","Envelope")),Eh=O("Signs","Signs",x("🎦","Cinema"),Rl,x("🔞","No One Under Eighteen"),x("🚫","Prohibited"),x("🚬","Cigarette"),x("🚭","No Smoking"),x("🚮","Litter in Bin Sign"),x("🚯","No Littering"),x("🚰","Potable Water"),x("🚱","Non-Potable Water"),x("🚳","No Bicycles"),x("🚷","No Pedestrians"),x("🚸","Children Crossing"),x("🚹","Men’s Room"),x("🚺","Women’s Room"),x("🚻","Restroom"),x("🚼","Baby Symbol"),x("🚾","Water Closet"),x("🛂","Passport Control"),x("🛃","Customs"),x("🛄","Baggage Claim"),x("🛅","Left Luggage"),L("🅿","Parking Button"),x("♿","Wheelchair Symbol"),L("☢","Radioactive"),L("☣","Biohazard"),L("⚠","Warning"),x("⚡","High Voltage"),x("⛔","No Entry"),L("♻","Recycling Symbol"),X,J,Z),kh=O("Religion","Religion",x("🔯","Dotted Six-Pointed Star"),L("✡","Star of David"),L("🕉","Om"),x("🕋","Kaaba"),x("🕌","Mosque"),x("🕍","Synagogue"),x("🕎","Menorah"),x("🛐","Place of Worship"),x("🛕","Hindu Temple"),L("☦","Orthodox Cross"),L("✝","Latin Cross"),L("☪","Star and Crescent"),L("☮","Peace Symbol"),L("☯","Yin Yang"),L("☸","Wheel of Dharma"),L("♾","Infinity"),x("🪔","Diya Lamp"),L("⛩","Shinto Shrine"),x("⛪","Church"),L("✴","Eight-Pointed Star"),x("📿","Prayer Beads")),Ih=x("🚪","Door"),Th=O("Household","Household",x("💄","Lipstick"),x("💍","Ring"),x("💎","Gem Stone"),x("📰","Newspaper"),sh,x("🔥","Fire"),x("🔫","Pistol"),L("🕯","Candle"),L("🖼","Framed Picture"),Ph,L("🗞","Rolled-Up Newspaper"),L("🗺","World Map"),Ih,x("🚽","Toilet"),x("🚿","Shower"),x("🛁","Bathtub"),L("🛋","Couch and Lamp"),L("🛏","Bed"),x("🧴","Lotion Bottle"),x("🧵","Thread"),x("🧶","Yarn"),x("🧷","Safety Pin"),x("🧸","Teddy Bear"),x("🧹","Broom"),x("🧺","Basket"),x("🧻","Roll of Paper"),x("🧼","Soap"),x("🧽","Sponge"),x("🪑","Chair"),x("🪒","Razor"),L("🎗","Reminder Ribbon")),_h=O("Activities","Activities",L("🎞","Film Frames"),L("🎟","Admission Tickets"),x("🎠","Carousel Horse"),x("🎡","Ferris Wheel"),x("🎢","Roller Coaster"),Mt,x("🎪","Circus Tent"),x("🎫","Ticket"),x("🎬","Clapper Board"),x("🎭","Performing Arts")),xh=O("Travel","Travel",L("🏷","Label"),x("🌋","Volcano"),L("🏔","Snow-Capped Mountain"),L("⛰","Mountain"),L("🏕","Camping"),L("🏖","Beach with Umbrella"),L("⛱","Umbrella on Ground"),x("🏯","Japanese Castle"),x("👣","Footprints"),x("🗻","Mount Fuji"),x("🗼","Tokyo Tower"),x("🗽","Statue of Liberty"),x("🗾","Map of Japan"),x("🗿","Moai"),L("🛎","Bellhop Bell"),x("🧳","Luggage"),x("⛳","Flag in Hole"),x("⛺","Tent"),L("♨","Hot Springs")),Lh=O("Medieval","Medieval",x("🏰","Castle"),x("🏹","Bow and Arrow"),xt,x("🔱","Trident Emblem"),L("🗡","Dagger"),L("🛡","Shield"),x("🔮","Crystal Ball"),L("⚔","Crossed Swords"),L("⚜","Fleur-de-lis")),Oh=(R("Marks","Marks",{doubleExclamationMark:L("‼","Double Exclamation Mark"),interrobang:L("⁉","Exclamation Question Mark"),information:L("ℹ","Information"),circledM:L("Ⓜ","Circled M"),checkMarkButton:x("✅","Check Mark Button"),checkMark:L("✔","Check Mark"),eightSpokedAsterisk:L("✳","Eight-Spoked Asterisk"),crossMark:x("❌","Cross Mark"),crossMarkButton:x("❎","Cross Mark Button"),questionMark:x("❓","Question Mark"),whiteQuestionMark:x("❔","White Question Mark"),whiteExclamationMark:x("❕","White Exclamation Mark"),exclamationMark:x("❗","Exclamation Mark"),curlyLoop:x("➰","Curly Loop"),doubleCurlyLoop:x("➿","Double Curly Loop"),wavyDash:L("〰","Wavy Dash"),partAlternationMark:L("〽","Part Alternation Mark"),tradeMark:L("™","Trade Mark"),copyright:L("©","Copyright"),registered:L("®","Registered")}),R("Science","Science",{droplet:x("💧","Droplet"),dropOfBlood:x("🩸","Drop of Blood"),adhesiveBandage:x("🩹","Adhesive Bandage"),stethoscope:x("🩺","Stethoscope"),syringe:x("💉","Syringe"),pill:x("💊","Pill"),microscope:Tt,testTube:x("🧪","Test Tube"),petriDish:x("🧫","Petri Dish"),dna:x("🧬","DNA"),abacus:x("🧮","Abacus"),magnet:x("🧲","Magnet"),telescope:x("🔭","Telescope"),medical:it,balanceScale:ct,alembic:hl,gear:ul,atomSymbol:dl,magnifyingGlassTiltedLeft:eh,magnifyingGlassTiltedRight:th})),Rh=x("♔","White Chess King"),Qh=x("♕","White Chess Queen"),Nh=x("♖","White Chess Rook"),Hh=x("♗","White Chess Bishop"),Uh=x("♘","White Chess Knight"),Gh=x("♙","White Chess Pawn"),zh=R(Rh.value+Qh.value+Nh.value+Hh.value+Uh.value+Gh.value,"White Chess Pieces",{width:"auto",king:Rh,queen:Qh,rook:Nh,bishop:Hh,knight:Uh,pawn:Gh}),Wh=x("♚","Black Chess King"),jh=x("♛","Black Chess Queen"),Vh=x("♜","Black Chess Rook"),Yh=x("♝","Black Chess Bishop"),Xh=x("♞","Black Chess Knight"),Jh=x("♟","Black Chess Pawn"),Zh=R(Wh.value+jh.value+Vh.value+Yh.value+Xh.value+Jh.value,"Black Chess Pieces",{width:"auto",king:Wh,queen:jh,rook:Vh,bishop:Yh,knight:Xh,pawn:Jh}),qh=R(Gh.value+Jh.value,"Chess Pawns",{width:"auto",white:Gh,black:Jh}),Kh=R(Nh.value+Vh.value,"Chess Rooks",{width:"auto",white:Nh,black:Vh}),$h=R(Hh.value+Yh.value,"Chess Bishops",{width:"auto",white:Hh,black:Yh}),eu=R(Uh.value+Xh.value,"Chess Knights",{width:"auto",white:Uh,black:Xh}),tu=R(Qh.value+jh.value,"Chess Queens",{width:"auto",white:Qh,black:jh}),iu=R(Rh.value+Wh.value,"Chess Kings",{width:"auto",white:Rh,black:Wh}),nu=R("Chess Pieces","Chess Pieces",{width:"auto",white:zh,black:Zh,pawns:qh,rooks:Kh,bishops:$h,knights:eu,queens:tu,kings:iu}),su=R("Dice","Dice",{dice1:x("⚀","Dice: Side 1"),dice2:x("⚁","Dice: Side 2"),dice3:x("⚂","Dice: Side 3"),dice4:x("⚃","Dice: Side 4"),dice5:x("⚄","Dice: Side 5"),dice6:x("⚅","Dice: Side 6")});R("All Icons","All Icons",{faces:Os,love:sr,cartoon:Sr,hands:Bo,bodyParts:la,people:Mi,gestures:_e,inMotion:wi,resting:Ci,roles:Qt,fantasy:Wt,animals:ba,plants:ya,food:Ca,flags:ka,vehicles:Rc,clocks:Qc,arrows:tA,shapes:aa,buttons:HA,zodiac:UA,chess:nu,dice:su,math:il,games:nl,sportsEquipment:sl,clothing:rl,town:ol,music:al,weather:da,astro:cl,finance:Al,writing:ll,science:Oh,tech:Ch,mail:Bh,celebration:Mh,tools:Sh,office:Fh,signs:Eh,religion:kh,household:Th,activities:_h,travel:xh,medieval:Lh});function ru(e,t){return async i=>{await e(i),await t(i)}}class ou extends class{constructor(){this.listeners=new Map,this.options=new Map}addEventListener(e,t,i){if(w(t)){let n=this.listeners.get(e);n||(n=new Array,this.listeners.set(e,n)),n.find((e=>e===t))||(n.push(t),i&&this.options.set(t,i))}}removeEventListener(e,t){if(w(t)){const i=this.listeners.get(e);i&&this.removeListener(i,t)}}removeListener(e,t){const i=e.findIndex((e=>e===t));i>=0&&(F(e,i),this.options.has(t)&&this.options.delete(t))}dispatchEvent(e){const t=this.listeners.get(e.type);if(t)for(const i of t){const n=this.options.get(i);n&&n.once&&this.removeListener(t,i),i.call(this,e)}return!e.defaultPrevented}}{constructor(){super(...arguments),this.mappedCallbacks=new Map}addEventListener(e,t,i){let n=this.mappedCallbacks.get(t);null==n&&(n=e=>t(e),this.mappedCallbacks.set(t,n)),super.addEventListener(e,n,i)}removeEventListener(e,t){const i=this.mappedCallbacks.get(t);i&&super.removeEventListener(e,i)}dispatchEvent(e){return super.dispatchEvent(e)}}function au(e,t,i,n){null==n&&B(i)&&(n=i,i=void 0);const s=b(t),r=b(i),o=null!=n;return new Promise(((a,c)=>{if(s){const i=()=>{e.removeEventListener(t,a)};a=ru(i,a),c=ru(i,c)}if(r){const t=()=>{e.removeEventListener(i,c)};a=ru(t,a),c=ru(t,c)}if(o){const e=setTimeout(c,n,`'${t}' has timed out.`),i=()=>clearTimeout(e);a=ru(i,a),c=ru(i,c)}s&&e.addEventListener(t,a),r&&e.addEventListener(i,(()=>{c("Rejection event found")}))}))}const cu=["change","click","contextmenu","dblclick","mouseup","pointerup","reset","submit","touchend"];function Au(){return Promise.resolve()}function lu(e){return new Promise((t=>{const i=setInterval((()=>{e()&&(clearInterval(i),t())}),100)}))}class hu{constructor(e,t,...i){this.key=e,this.value=t,this.tags=i.map((e=>e.toLocaleUpperCase())),Object.freeze(this)}apply(e){if(C(e)){0===this.tags.length||this.tags.indexOf(e.tagName)>-1?"style"===this.key?Object.assign(e.style,this.value):this.key in e?e[this.key]=this.value:!1===this.value?e.removeAttribute(this.key):!0===this.value?e.setAttribute(this.key,""):e.setAttribute(this.key,this.value):console.warn(`Element ${e.tagName} does not support Attribute ${this.key}`)}else e[this.key]=this.value}}function uu(e){return new hu("autoplay",e,"audio","video")}function du(e){return new hu("playsInline",e,"audio","video")}function gu(e){return new hu("srcObject",e,"audio","video")}class pu{constructor(...e){this.set=new Map;const t=(e,t)=>{t||D(t)?this.set.set(e,t):this.set.has(e)&&this.set.delete(e)};for(const i of e)if(i instanceof hu){const{key:e,value:n}=i;t(e,n)}else for(const[e,n]of i.set.entries())t(e,n)}apply(e){const t=C(e)?e.style:e;for(const e of this.set.entries()){const[i,n]=e;t[i]=n}}}function fu(...e){return new pu(...e)}function mu(e){return new hu("display",e)}function vu(e){return new hu("fontFamily",e)}vu("'Droid Sans Mono', 'Consolas', 'Lucida Console', 'Courier New', 'Courier', monospace"),vu("-apple-system, '.SFNSText-Regular', 'San Francisco', 'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', sans-serif");function wu(e){return"element"in e&&e.element instanceof Node}function bu(e,...t){let i=null;for(const e of t)if(e instanceof hu&&"id"===e.key){i=document.getElementById(e.value);break}null==i&&(i=document.createElement(e));for(let e of t)null!=e&&(b(e)||y(e)||D(e)||e instanceof Date||e instanceof Node||wu(e)?(wu(e)?e=e.element:e instanceof Node||(e=document.createTextNode(e.toLocaleString())),i.appendChild(e)):(e instanceof Function&&(e=e(!0)),e.apply(i)));return i}function Du(...e){return bu("audio",...e)}const yu="OffscreenCanvas"in globalThis,Pu="createImageBitmap"in globalThis;yu&&function(){try{const e=new OffscreenCanvas(1,1);e.getContext("2d")}catch(e){return!1}}(),Pu&&function(){try{const e=yu?new OffscreenCanvas(1,1):function(...e){return bu("canvas",...e)}();e.getContext("bitmaprenderer")}catch(e){return!1}}();var Cu;!Object.prototype.hasOwnProperty.call(CanvasRenderingContext2D.prototype,"getTransform")&&Object.prototype.hasOwnProperty.call(CanvasRenderingContext2D.prototype,"mozCurrentTransform"),function(e){e[e.None=-1]="None",e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.Back=4]="Back",e[e.Front=5]="Front"}(Cu||(Cu={}));Cu.None,Cu.Up,Cu.None,Cu.None,Cu.Left,Cu.Front,Cu.Right,Cu.Back,Cu.None,Cu.Down,Cu.None,Cu.None;function Bu(e,t,i){return Math.min(i,Math.max(t,e))}new Event("redrawn");const Mu={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Su={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Fu={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Eu={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ku={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Iu{static getFirstMatch(e,t){const i=t.match(e);return i&&i.length>0&&i[1]||""}static getSecondMatch(e,t){const i=t.match(e);return i&&i.length>1&&i[2]||""}static matchAndReturnConst(e,t,i){if(e.test(t))return i}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,i=!1){const n=Iu.getVersionPrecision(e),s=Iu.getVersionPrecision(t);let r=Math.max(n,s),o=0;const a=Iu.map([e,t],(e=>{const t=r-Iu.getVersionPrecision(e),i=e+new Array(t+1).join(".0");return Iu.map(i.split("."),(e=>new Array(20-e.length).join("0")+e)).reverse()}));for(i&&(o=r-Math.min(n,s)),r-=1;r>=o;){if(a[0][r]>a[1][r])return 1;if(a[0][r]===a[1][r]){if(r===o)return 0;r-=1}else if(a[0][r]<a[1][r])return-1}}static map(e,t){const i=[];let n;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)i.push(t(e[n]));return i}static find(e,t){let i,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(i=0,n=e.length;i<n;i+=1){const n=e[i];if(t(n,i))return n}}static assign(e,...t){const i=e;let n,s;if(Object.assign)return Object.assign(e,...t);for(n=0,s=t.length;n<s;n+=1){const e=t[n];if("object"==typeof e&&null!==e){Object.keys(e).forEach((t=>{i[t]=e[t]}))}}return e}static getBrowserAlias(e){return Mu[e]}static getBrowserTypeByAlias(e){return Su[e]||""}}const Tu=/version\/(\d+(\.?_?\d+)+)/i,_u=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},i=Iu.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},i=Iu.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},i=Iu.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},i=Iu.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},i=Iu.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},i=Iu.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},i=Iu.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},i=Iu.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},i=Iu.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},i=Iu.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},i=Iu.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},i=Iu.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},i=Iu.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},i=Iu.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},i=Iu.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return i&&(t.version=i),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},i=Iu.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},i=Iu.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},i=Iu.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},i=Iu.getFirstMatch(Tu,e)||Iu.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},i=Iu.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},i=Iu.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},i=Iu.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},i=Iu.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},i=Iu.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},i=Iu.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},i=Iu.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},i=Iu.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},i=Iu.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test(e){const t=!e.test(/like android/i),i=e.test(/android/i);return t&&i},describe(e){const t={name:"Android Browser"},i=Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},i=Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},i=Iu.getFirstMatch(Tu,e);return i&&(t.version=i),t}},{test:[/.*/i],describe(e){const t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:Iu.getFirstMatch(t,e),version:Iu.getSecondMatch(t,e)}}}];var xu=[{test:[/Roku\/DVP/],describe(e){const t=Iu.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Eu.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=Iu.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Eu.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=Iu.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),i=Iu.getWindowsVersionName(t);return{name:Eu.Windows,version:t,versionName:i}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Eu.iOS},i=Iu.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return i&&(t.version=i),t}},{test:[/macintosh/i],describe(e){const t=Iu.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),i=Iu.getMacOSVersionName(t),n={name:Eu.MacOS,version:t};return i&&(n.versionName=i),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=Iu.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Eu.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),i=e.test(/android/i);return t&&i},describe(e){const t=Iu.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),i=Iu.getAndroidVersionName(t),n={name:Eu.Android,version:t};return i&&(n.versionName=i),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=Iu.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),i={name:Eu.WebOS};return t&&t.length&&(i.version=t),i}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=Iu.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||Iu.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||Iu.getFirstMatch(/\bbb(\d+)/i,e);return{name:Eu.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=Iu.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Eu.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=Iu.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Eu.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Eu.Linux})},{test:[/CrOS/],describe:()=>({name:Eu.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=Iu.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Eu.PlayStation4,version:t}}}],Lu=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=Iu.getFirstMatch(/(can-l01)/i,e)&&"Nova",i={type:Fu.mobile,vendor:"Huawei"};return t&&(i.model=t),i}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Fu.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Fu.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Fu.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Fu.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Fu.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Fu.tablet})},{test(e){const t=e.test(/ipod|iphone/i),i=e.test(/like (ipod|iphone)/i);return t&&!i},describe(e){const t=Iu.getFirstMatch(/(ipod|iphone)/i,e);return{type:Fu.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Fu.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Fu.mobile})},{test:e=>"blackberry"===e.getBrowserName(!0),describe:()=>({type:Fu.mobile,vendor:"BlackBerry"})},{test:e=>"bada"===e.getBrowserName(!0),describe:()=>({type:Fu.mobile})},{test:e=>"windows phone"===e.getBrowserName(),describe:()=>({type:Fu.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:()=>({type:Fu.tablet})},{test:e=>"android"===e.getOSName(!0),describe:()=>({type:Fu.mobile})},{test:e=>"macos"===e.getOSName(!0),describe:()=>({type:Fu.desktop,vendor:"Apple"})},{test:e=>"windows"===e.getOSName(!0),describe:()=>({type:Fu.desktop})},{test:e=>"linux"===e.getOSName(!0),describe:()=>({type:Fu.desktop})},{test:e=>"playstation 4"===e.getOSName(!0),describe:()=>({type:Fu.tv})},{test:e=>"roku"===e.getOSName(!0),describe:()=>({type:Fu.tv})}],Ou=[{test:e=>"microsoft edge"===e.getBrowserName(!0),describe(e){if(/\sedg\//i.test(e))return{name:ku.Blink};const t=Iu.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:ku.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:ku.Trident},i=Iu.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:ku.Presto},i=Iu.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test(e){const t=e.test(/gecko/i),i=e.test(/like gecko/i);return t&&!i},describe(e){const t={name:ku.Gecko},i=Iu.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:ku.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:ku.WebKit},i=Iu.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return i&&(t.version=i),t}}];class Ru{constructor(e,t=!1){if(null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Iu.find(_u,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Iu.find(xu,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=Iu.find(Lu,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Iu.find(Ou,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Iu.assign({},this.parsedResult)}satisfies(e){const t={};let i=0;const n={};let s=0;if(Object.keys(e).forEach((r=>{const o=e[r];"string"==typeof o?(n[r]=o,s+=1):"object"==typeof o&&(t[r]=o,i+=1)})),i>0){const e=Object.keys(t),i=Iu.find(e,(e=>this.isOS(e)));if(i){const e=this.satisfies(t[i]);if(void 0!==e)return e}const n=Iu.find(e,(e=>this.isPlatform(e)));if(n){const e=this.satisfies(t[n]);if(void 0!==e)return e}}if(s>0){const e=Object.keys(n),t=Iu.find(e,(e=>this.isBrowser(e,!0)));if(void 0!==t)return this.compareVersion(n[t])}}isBrowser(e,t=!1){const i=this.getBrowserName().toLowerCase();let n=e.toLowerCase();const s=Iu.getBrowserTypeByAlias(n);return t&&s&&(n=s.toLowerCase()),n===i}compareVersion(e){let t=[0],i=e,n=!1;const s=this.getBrowserVersion();if("string"==typeof s)return">"===e[0]||"<"===e[0]?(i=e.substr(1),"="===e[1]?(n=!0,i=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?i=e.substr(1):"~"===e[0]&&(n=!0,i=e.substr(1)),t.indexOf(Iu.compareVersions(s,i,n))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((e=>this.is(e)))}}const Qu=class{static getParser(e,t=!1){if("string"!=typeof e)throw new Error("UserAgent should be a string");return new Ru(e,t)}static parse(e){return new Ru(e).getResult()}static get BROWSER_MAP(){return Su}static get ENGINE_MAP(){return ku}static get OS_MAP(){return Eu}static get PLATFORMS_MAP(){return Fu}}.getParser(navigator.userAgent).getResult(),Nu=(Qu.platform.type,Qu.engine.name,/iPad|iPhone|iPod/.test(navigator.platform)||/Macintosh(.*?) FxiOS(.*?)\//.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints,/^((?!chrome|android).)*safari/i.test(navigator.userAgent),/Mobile VR/.test(navigator.userAgent),/oculus/.test(navigator.userAgent)),Hu=(Nu&&/pacific/.test(navigator.userAgent),Nu&&/quest/.test(navigator.userAgent));mu("grid");var Uu,Gu,zu,Wu,ju,Vu;function Yu(e,t,i,n){const{width:s,height:r,data:o}=e,a=(e,t)=>4*(t*s+e),c=2*i,A=s-1,l=r-1,h=new Array(4),u=new Array(4);return(e,s,r)=>{const d=Math.floor(e),g=Math.floor(s),p=d-i+1,f=g-i+1;for(let t=0;t<c;t++)h[t]=n(e-(p+t)),u[t]=n(s-(f+t));for(let e=0;e<3;e++){let i=0;for(let t=0;t<c;t++){const n=Bu(f+t,0,l);let s=0;for(let t=0;t<c;t++){const i=a(Bu(p+t,0,A),n);s+=o[i+e]*h[t]}i+=s*u[t]}t.data[r+e]=Math.round(i)}}}function Xu(e){const t=function(...e){return bu("script",...e)}(new hu("src",e,"audio","embed","iframe","img","input","script","source","track","video"));document.body.appendChild(t)}!function(e){e[e.Forward=1]="Forward",e[e.Stopped=0]="Stopped",e[e.Reverse=-1]="Reverse"}(Uu||(Uu={})),function(e){e.None="",e.Left="left",e.Right="right"}(Gu||(Gu={})),function(e){e.None="none",e.Entered="entered",e.EnteredDisabled="entereddisabled",e.Pressed="pressed",e.PressedDisabled="presseddisabled",e.Clicked="clicked",e.ClickedDisabled="clickeddisabled",e.DraggingStarted="draggingstarted",e.DraggingStartedDisabled="draggingstarteddisabled",e.Dragged="dragged",e.DraggingEnded="draggingended",e.Released="released",e.Exited="exited",e.Opened="opened",e.Closed="closed",e.Error="error",e.Success="success",e.StartUp="startup",e.ShutDown="shutdown",e.Scrolled="scrolled"}(zu||(zu={})),function(e){e[e.Mouse0=0]="Mouse0",e[e.Mouse1=1]="Mouse1",e[e.Mouse2=2]="Mouse2",e[e.Mouse3=3]="Mouse3",e[e.Mouse4=4]="Mouse4"}(Wu||(Wu={})),function(e){e[e.None=0]="None",e[e.Mouse0=1]="Mouse0",e[e.Mouse1=2]="Mouse1",e[e.Mouse2=4]="Mouse2",e[e.Mouse3=8]="Mouse3",e[e.Mouse4=16]="Mouse4"}(ju||(ju={})),function(e){e.PositiveZ="pz",e.NegativeZ="nz",e.PositiveX="px",e.NegativeX="nx",e.PositiveY="py",e.NegativeY="ny"}(Vu||(Vu={}));Vu.PositiveZ,Vu.NegativeZ,Vu.PositiveY,Vu.NegativeY,Vu.NegativeX,Vu.PositiveX;async function Ju(e,t){t&&t(0,1,e);const i=await async function(e){const t=fetch(e),i=await t;if(!i.ok)throw new Error(`[${i.status}] - ${i.statusText}. Path ${e}`);return i}(e),n=i.headers.get("Content-Type");if(!n)throw new Error("Server did not provide a content type");let s=1;const r=i.headers.get("Content-Length");r?(s=parseInt(r,10),B(s)||(console.warn(`Server did not provide a valid content length header. Value: ${r}, Path: ${e}`),s=1)):console.warn(`Server did not provide a content length header. Path: ${e}`);const o=await async function(e,t,i,n){if(n&&n(0,1,e),B(i)||(i=1),!t.body)throw new Error("No response body!");const s=t.body.getReader(),r=[];let o=0;for(;;){const{done:t,value:a}=await s.read();if(t)break;a&&(r.push(a),o+=a.length,n&&n(o,Math.max(o,i),e))}const a=new ArrayBuffer(o),c=new Uint8Array(a);o=0;for(const e of r)c.set(e,o),o+=e.length;return n&&n(1,1,e),a}(e,i,s,t);return t&&t(1,1,e),{buffer:o,contentType:n}}async function Zu(e,t){const{buffer:i,contentType:n}=await Ju(e,t);return new Blob([i],{type:n})}function qu(e){var t;P(t=e)&&"dispose"in t&&w(t.dispose)?e.dispose():function(e){return P(e)&&"close"in e&&w(e.close)}(e)&&e.close()}function Ku(e,t){try{return t(e)}finally{qu(e)}}var $u;!function(e){e.Bilinear="bilinear",e.Bicubic="bicubic",e.Lanczos="lanczos",e.Nearest="nearest"}($u||($u={}));const ed=new Map;ed.set(Vu.PositiveY,3),ed.set(Vu.NegativeY,1);new Map([[Vu.PositiveZ,(e,t)=>({x:-1,y:-e,z:-t})],[Vu.NegativeZ,(e,t)=>({x:1,y:e,z:-t})],[Vu.PositiveX,(e,t)=>({x:e,y:-1,z:-t})],[Vu.NegativeX,(e,t)=>({x:-e,y:1,z:-t})],[Vu.PositiveY,(e,t)=>({x:-t,y:-e,z:1})],[Vu.NegativeY,(e,t)=>({x:t,y:-e,z:-1})]]),new Map([[$u.Bilinear,function(e,t){const{width:i,height:n,data:s}=e,r=(e,t)=>4*(t*i+e);return(e,o,a)=>{const c=Bu(Math.floor(e),0,i-1),A=Bu(Math.ceil(e),0,i-1),l=e-c,h=Bu(Math.floor(o),0,n-1),u=Bu(Math.ceil(o),0,n-1),d=o-h,g=r(c,h),p=r(A,h),f=r(c,u),m=r(A,u);for(let e=0;e<3;e++){const i=s[g+e]*(1-l)+s[p+e]*l,n=s[f+e]*(1-l)+s[m+e]*l;t.data[a+e]=Math.ceil(i*(1-d)+n*d)}}}],[$u.Bicubic,function(e,t){const i=-.5;return Yu(e,t,2,(e=>{const t=(e=Math.abs(e))*e,n=e*e*e;return e<=1?1.5*n-2.5*t+1:i*n-5*i*t+-4*e- -2}))}],[$u.Lanczos,function(e,t){return Yu(e,t,5,(e=>{if(0===e)return 1;{const t=Math.PI*e;return 5*Math.sin(t)*Math.sin(t/5)/(t*t)}}))}],[$u.Nearest,function(e,t){const{width:i,height:n,data:s}=e;return(e,r,o)=>{const a=(c=Bu(Math.round(e),0,i-1),4*(Bu(Math.round(r),0,n-1)*i+c));var c;for(let e=0;e<3;e++)t.data[o+e]=s[a+e]}}]]);async function td(e,t,i){if(t())i&&i(1,1,"skip");else{const n=lu(t);Xu(await async function(e,t){const i=await Zu(e,t);return URL.createObjectURL(i)}(e,i)),await n}}function id(e,t,i){const n=i-t;return 0===n?0:(e-t)/n}const nd=new URL(document.location.href).searchParams.get("testUserNumber"),sd=M(nd)?1:parseInt(nd,10),rd=[];window.addEventListener("unload",(()=>{for(const e of rd)e.close()}));class od extends Event{constructor(){super("tick"),this.t=0,this.dt=0,this.sdt=0,Object.seal(this)}copy(e){this.t=e.t,this.dt=e.dt,this.sdt=e.sdt}set(e,t){var i,n;this.t=e,this.dt=t,this.sdt=(i=this.sdt,(1-(n=.01))*i+n*t)}}class ad extends ou{constructor(e){super(),this._timer=null,this._frameTime=Number.MAX_VALUE,this._targetFPS=0,this.targetFrameRate=e,this._onTick=e=>{const t=new od;let i=e;this._onTick=e=>{e>i&&(t.t=e,t.dt=e-i,t.sdt=t.dt,i=e,this._onTick=e=>{let n=e-i;n<-1e3&&(i=e-this._frameTime,n=this._frameTime),n>0&&n>=this._frameTime&&(t.set(e,n),i=e,this.dispatchEvent(t))})}}}restart(){this.stop(),this.start()}get isRunning(){return null!=this._timer}stop(){this._timer=null,this.dispatchEvent(new Event("stopped"))}get targetFrameRate(){return this._targetFPS}set targetFrameRate(e){this._targetFPS=e,this._frameTime=1e3/e}}var cd;!function(e){e.Error="error",e.Progress="progress",e.Return="return",e.ReturnValue="returnValue"}(cd||(cd={}));console.info("Kudzu v1.3.0.");class Ad{constructor(){this.t=0,this.p=o(),this.f=A(o(),0,0,-1),this.u=A(o(),0,1,0),Object.seal(this)}set(e,t,i,n,s,r,o,a,c){A(this.p,e,t,i),A(this.f,n,s,r),A(this.u,o,a,c)}copy(e){c(this.p,e.p),c(this.f,e.f),c(this.u,e.u)}interpolate(e,t,i){if(i<=e.t)this.copy(e);else if(t.t<=i)this.copy(t);else if(e.t<i){const n=id(i,e.t,t.t);this.copy(e),p(this.p,this.p,t.p,n),p(this.f,this.f,t.f,n),p(this.u,this.u,t.u,n),d(this.f,this.f),d(this.u,this.u),this.t=i}}}const ld=o();class hd{constructor(){this.start=new Ad,this.current=new Ad,this.end=new Ad,this.offset=o()}setOffset(e,t,i){A(ld,e,t,i),m(ld,ld,this.offset),l(this.start.p,this.start.p,ld),l(this.current.p,this.current.p,ld),l(this.end.p,this.end.p,ld),u(this.start.f,this.start.f,2),l(this.start.f,this.start.f,ld),d(this.start.f,this.start.f),u(this.current.f,this.current.f,2),l(this.current.f,this.current.f,ld),d(this.current.f,this.current.f),u(this.end.f,this.end.f,2),l(this.end.f,this.end.f,ld),d(this.end.f,this.end.f),A(this.offset,e,t,i)}setTarget(e,t,i,n,s,r,o,a,c,A,l){const h=this.offset[0],u=this.offset[1],d=this.offset[2];this.end.set(e+h,t+u,i+d,n,s,r,o,a,c),this.end.t=A+l,l>0?(this.start.copy(this.current),this.start.t=A):(this.start.copy(this.end),this.start.t=A,this.current.copy(this.end),this.current.t=A)}setTargetPosition(e,t,i,n,s){this.setTarget(e,t,i,this.end.f[0],this.end.f[1],this.end.f[2],this.end.u[0],this.end.u[1],this.end.u[2],n,s)}setTargetOrientation(e,t,i,n,s,r,o,a){this.setTarget(this.end.p[0],this.end.p[1],this.end.p[2],e,t,i,n,s,r,o,a)}update(e){this.current.interpolate(this.start,this.end,e)}}class ud{constructor(e){this.audioContext=e,this.gain=null,this.minDistance=1,this.maxDistance=10,this.rolloff=1,this.algorithm="logarithmic",this.transitionTime=.1,this.gain=e.createGain()}setAudioProperties(e,t,i,n,s){this.minDistance=e,this.maxDistance=t,this.rolloff=i,this.algorithm=n,this.transitionTime=s}dispose(){this.gain&&(this.gain.disconnect(),this.gain=null)}get volume(){return this.gain.gain.value}set volume(e){this.gain.gain.value=e}play(){return Promise.resolve()}stop(){}}class dd extends ud{constructor(e,t,i){super(i),this.id=e,this.source=t,this.source instanceof AudioBufferSourceNode?this.playingSources=new Array:this.source.connect(this.gain)}dispose(){this.source&&(this.source.disconnect(),this.source=null),super.dispose()}get isPlaying(){return this.playingSources.length>0}async play(){if(this.source instanceof AudioBufferSourceNode){const e=this.source.context.createBufferSource();this.playingSources.push(e),e.buffer=this.source.buffer,e.loop=this.source.loop,e.connect(this.gain),e.start(),this.source.loop||(await au(e,"ended"),this.playingSources.indexOf(e)>=0&&(e.stop(),e.disconnect(this.gain),E(this.playingSources,e)))}}stop(){if(this.source instanceof AudioBufferSourceNode){for(const e of this.playingSources)e.stop(),e.disconnect(this.gain);S(this.playingSources)}}}class gd extends dd{constructor(e,t,i,n){super(e,t,i),this.gain.connect(n),Object.seal(this)}update(e,t){}}class pd extends ud{constructor(e,t){super(e),this.gain.connect(t)}createSpatializer(e,t,i,n){if(i)throw new Error("Can't spatialize with the base listener.");return new gd(e,t,n,this.gain)}}class fd extends pd{constructor(e,t){super(e,t),this.node=e.listener,this.volume=.75}dispose(){this.node=null,super.dispose()}}var md;!function(e){e.Ambisonic="ambisonic",e.Bypass="bypass",e.None="off"}(md||(md={}));const vd=[[[0,0,0,1,1,1],[.052336,.034899,.017452,.999848,.999391,.99863],[.104528,.069756,.034899,.999391,.997564,.994522],[.156434,.104528,.052336,.99863,.994522,.987688],[.207912,.139173,.069756,.997564,.990268,.978148],[.258819,.173648,.087156,.996195,.984808,.965926],[.309017,.207912,.104528,.994522,.978148,.951057],[.358368,.241922,.121869,.992546,.970296,.93358],[.406737,.275637,.139173,.990268,.961262,.913545],[.45399,.309017,.156434,.987688,.951057,.891007],[.5,.34202,.173648,.984808,.939693,.866025],[.544639,.374607,.190809,.981627,.927184,.838671],[.587785,.406737,.207912,.978148,.913545,.809017],[.62932,.438371,.224951,.97437,.898794,.777146],[.669131,.469472,.241922,.970296,.882948,.743145],[.707107,.5,.258819,.965926,.866025,.707107],[.743145,.529919,.275637,.961262,.848048,.669131],[.777146,.559193,.292372,.956305,.829038,.62932],[.809017,.587785,.309017,.951057,.809017,.587785],[.838671,.615661,.325568,.945519,.788011,.544639],[.866025,.642788,.34202,.939693,.766044,.5],[.891007,.669131,.358368,.93358,.743145,.45399],[.913545,.694658,.374607,.927184,.71934,.406737],[.93358,.71934,.390731,.920505,.694658,.358368],[.951057,.743145,.406737,.913545,.669131,.309017],[.965926,.766044,.422618,.906308,.642788,.258819],[.978148,.788011,.438371,.898794,.615661,.207912],[.987688,.809017,.45399,.891007,.587785,.156434],[.994522,.829038,.469472,.882948,.559193,.104528],[.99863,.848048,.48481,.87462,.529919,.052336],[1,.866025,.5,.866025,.5,0],[.99863,.882948,.515038,.857167,.469472,-.052336],[.994522,.898794,.529919,.848048,.438371,-.104528],[.987688,.913545,.544639,.838671,.406737,-.156434],[.978148,.927184,.559193,.829038,.374607,-.207912],[.965926,.939693,.573576,.819152,.34202,-.258819],[.951057,.951057,.587785,.809017,.309017,-.309017],[.93358,.961262,.601815,.798636,.275637,-.358368],[.913545,.970296,.615661,.788011,.241922,-.406737],[.891007,.978148,.62932,.777146,.207912,-.45399],[.866025,.984808,.642788,.766044,.173648,-.5],[.838671,.990268,.656059,.75471,.139173,-.544639],[.809017,.994522,.669131,.743145,.104528,-.587785],[.777146,.997564,.681998,.731354,.069756,-.62932],[.743145,.999391,.694658,.71934,.034899,-.669131],[.707107,1,.707107,.707107,0,-.707107],[.669131,.999391,.71934,.694658,-.034899,-.743145],[.62932,.997564,.731354,.681998,-.069756,-.777146],[.587785,.994522,.743145,.669131,-.104528,-.809017],[.544639,.990268,.75471,.656059,-.139173,-.838671],[.5,.984808,.766044,.642788,-.173648,-.866025],[.45399,.978148,.777146,.62932,-.207912,-.891007],[.406737,.970296,.788011,.615661,-.241922,-.913545],[.358368,.961262,.798636,.601815,-.275637,-.93358],[.309017,.951057,.809017,.587785,-.309017,-.951057],[.258819,.939693,.819152,.573576,-.34202,-.965926],[.207912,.927184,.829038,.559193,-.374607,-.978148],[.156434,.913545,.838671,.544639,-.406737,-.987688],[.104528,.898794,.848048,.529919,-.438371,-.994522],[.052336,.882948,.857167,.515038,-.469472,-.99863],[0,.866025,.866025,.5,-.5,-1],[-.052336,.848048,.87462,.48481,-.529919,-.99863],[-.104528,.829038,.882948,.469472,-.559193,-.994522],[-.156434,.809017,.891007,.45399,-.587785,-.987688],[-.207912,.788011,.898794,.438371,-.615661,-.978148],[-.258819,.766044,.906308,.422618,-.642788,-.965926],[-.309017,.743145,.913545,.406737,-.669131,-.951057],[-.358368,.71934,.920505,.390731,-.694658,-.93358],[-.406737,.694658,.927184,.374607,-.71934,-.913545],[-.45399,.669131,.93358,.358368,-.743145,-.891007],[-.5,.642788,.939693,.34202,-.766044,-.866025],[-.544639,.615661,.945519,.325568,-.788011,-.838671],[-.587785,.587785,.951057,.309017,-.809017,-.809017],[-.62932,.559193,.956305,.292372,-.829038,-.777146],[-.669131,.529919,.961262,.275637,-.848048,-.743145],[-.707107,.5,.965926,.258819,-.866025,-.707107],[-.743145,.469472,.970296,.241922,-.882948,-.669131],[-.777146,.438371,.97437,.224951,-.898794,-.62932],[-.809017,.406737,.978148,.207912,-.913545,-.587785],[-.838671,.374607,.981627,.190809,-.927184,-.544639],[-.866025,.34202,.984808,.173648,-.939693,-.5],[-.891007,.309017,.987688,.156434,-.951057,-.45399],[-.913545,.275637,.990268,.139173,-.961262,-.406737],[-.93358,.241922,.992546,.121869,-.970296,-.358368],[-.951057,.207912,.994522,.104528,-.978148,-.309017],[-.965926,.173648,.996195,.087156,-.984808,-.258819],[-.978148,.139173,.997564,.069756,-.990268,-.207912],[-.987688,.104528,.99863,.052336,-.994522,-.156434],[-.994522,.069756,.999391,.034899,-.997564,-.104528],[-.99863,.034899,.999848,.017452,-.999391,-.052336],[-1,0,1,0,-1,-0],[-.99863,-.034899,.999848,-.017452,-.999391,.052336],[-.994522,-.069756,.999391,-.034899,-.997564,.104528],[-.987688,-.104528,.99863,-.052336,-.994522,.156434],[-.978148,-.139173,.997564,-.069756,-.990268,.207912],[-.965926,-.173648,.996195,-.087156,-.984808,.258819],[-.951057,-.207912,.994522,-.104528,-.978148,.309017],[-.93358,-.241922,.992546,-.121869,-.970296,.358368],[-.913545,-.275637,.990268,-.139173,-.961262,.406737],[-.891007,-.309017,.987688,-.156434,-.951057,.45399],[-.866025,-.34202,.984808,-.173648,-.939693,.5],[-.838671,-.374607,.981627,-.190809,-.927184,.544639],[-.809017,-.406737,.978148,-.207912,-.913545,.587785],[-.777146,-.438371,.97437,-.224951,-.898794,.62932],[-.743145,-.469472,.970296,-.241922,-.882948,.669131],[-.707107,-.5,.965926,-.258819,-.866025,.707107],[-.669131,-.529919,.961262,-.275637,-.848048,.743145],[-.62932,-.559193,.956305,-.292372,-.829038,.777146],[-.587785,-.587785,.951057,-.309017,-.809017,.809017],[-.544639,-.615661,.945519,-.325568,-.788011,.838671],[-.5,-.642788,.939693,-.34202,-.766044,.866025],[-.45399,-.669131,.93358,-.358368,-.743145,.891007],[-.406737,-.694658,.927184,-.374607,-.71934,.913545],[-.358368,-.71934,.920505,-.390731,-.694658,.93358],[-.309017,-.743145,.913545,-.406737,-.669131,.951057],[-.258819,-.766044,.906308,-.422618,-.642788,.965926],[-.207912,-.788011,.898794,-.438371,-.615661,.978148],[-.156434,-.809017,.891007,-.45399,-.587785,.987688],[-.104528,-.829038,.882948,-.469472,-.559193,.994522],[-.052336,-.848048,.87462,-.48481,-.529919,.99863],[-0,-.866025,.866025,-.5,-.5,1],[.052336,-.882948,.857167,-.515038,-.469472,.99863],[.104528,-.898794,.848048,-.529919,-.438371,.994522],[.156434,-.913545,.838671,-.544639,-.406737,.987688],[.207912,-.927184,.829038,-.559193,-.374607,.978148],[.258819,-.939693,.819152,-.573576,-.34202,.965926],[.309017,-.951057,.809017,-.587785,-.309017,.951057],[.358368,-.961262,.798636,-.601815,-.275637,.93358],[.406737,-.970296,.788011,-.615661,-.241922,.913545],[.45399,-.978148,.777146,-.62932,-.207912,.891007],[.5,-.984808,.766044,-.642788,-.173648,.866025],[.544639,-.990268,.75471,-.656059,-.139173,.838671],[.587785,-.994522,.743145,-.669131,-.104528,.809017],[.62932,-.997564,.731354,-.681998,-.069756,.777146],[.669131,-.999391,.71934,-.694658,-.034899,.743145],[.707107,-1,.707107,-.707107,-0,.707107],[.743145,-.999391,.694658,-.71934,.034899,.669131],[.777146,-.997564,.681998,-.731354,.069756,.62932],[.809017,-.994522,.669131,-.743145,.104528,.587785],[.838671,-.990268,.656059,-.75471,.139173,.544639],[.866025,-.984808,.642788,-.766044,.173648,.5],[.891007,-.978148,.62932,-.777146,.207912,.45399],[.913545,-.970296,.615661,-.788011,.241922,.406737],[.93358,-.961262,.601815,-.798636,.275637,.358368],[.951057,-.951057,.587785,-.809017,.309017,.309017],[.965926,-.939693,.573576,-.819152,.34202,.258819],[.978148,-.927184,.559193,-.829038,.374607,.207912],[.987688,-.913545,.544639,-.838671,.406737,.156434],[.994522,-.898794,.529919,-.848048,.438371,.104528],[.99863,-.882948,.515038,-.857167,.469472,.052336],[1,-.866025,.5,-.866025,.5,0],[.99863,-.848048,.48481,-.87462,.529919,-.052336],[.994522,-.829038,.469472,-.882948,.559193,-.104528],[.987688,-.809017,.45399,-.891007,.587785,-.156434],[.978148,-.788011,.438371,-.898794,.615661,-.207912],[.965926,-.766044,.422618,-.906308,.642788,-.258819],[.951057,-.743145,.406737,-.913545,.669131,-.309017],[.93358,-.71934,.390731,-.920505,.694658,-.358368],[.913545,-.694658,.374607,-.927184,.71934,-.406737],[.891007,-.669131,.358368,-.93358,.743145,-.45399],[.866025,-.642788,.34202,-.939693,.766044,-.5],[.838671,-.615661,.325568,-.945519,.788011,-.544639],[.809017,-.587785,.309017,-.951057,.809017,-.587785],[.777146,-.559193,.292372,-.956305,.829038,-.62932],[.743145,-.529919,.275637,-.961262,.848048,-.669131],[.707107,-.5,.258819,-.965926,.866025,-.707107],[.669131,-.469472,.241922,-.970296,.882948,-.743145],[.62932,-.438371,.224951,-.97437,.898794,-.777146],[.587785,-.406737,.207912,-.978148,.913545,-.809017],[.544639,-.374607,.190809,-.981627,.927184,-.838671],[.5,-.34202,.173648,-.984808,.939693,-.866025],[.45399,-.309017,.156434,-.987688,.951057,-.891007],[.406737,-.275637,.139173,-.990268,.961262,-.913545],[.358368,-.241922,.121869,-.992546,.970296,-.93358],[.309017,-.207912,.104528,-.994522,.978148,-.951057],[.258819,-.173648,.087156,-.996195,.984808,-.965926],[.207912,-.139173,.069756,-.997564,.990268,-.978148],[.156434,-.104528,.052336,-.99863,.994522,-.987688],[.104528,-.069756,.034899,-.999391,.997564,-.994522],[.052336,-.034899,.017452,-.999848,.999391,-.99863],[0,-0,0,-1,1,-1],[-.052336,.034899,-.017452,-.999848,.999391,-.99863],[-.104528,.069756,-.034899,-.999391,.997564,-.994522],[-.156434,.104528,-.052336,-.99863,.994522,-.987688],[-.207912,.139173,-.069756,-.997564,.990268,-.978148],[-.258819,.173648,-.087156,-.996195,.984808,-.965926],[-.309017,.207912,-.104528,-.994522,.978148,-.951057],[-.358368,.241922,-.121869,-.992546,.970296,-.93358],[-.406737,.275637,-.139173,-.990268,.961262,-.913545],[-.45399,.309017,-.156434,-.987688,.951057,-.891007],[-.5,.34202,-.173648,-.984808,.939693,-.866025],[-.544639,.374607,-.190809,-.981627,.927184,-.838671],[-.587785,.406737,-.207912,-.978148,.913545,-.809017],[-.62932,.438371,-.224951,-.97437,.898794,-.777146],[-.669131,.469472,-.241922,-.970296,.882948,-.743145],[-.707107,.5,-.258819,-.965926,.866025,-.707107],[-.743145,.529919,-.275637,-.961262,.848048,-.669131],[-.777146,.559193,-.292372,-.956305,.829038,-.62932],[-.809017,.587785,-.309017,-.951057,.809017,-.587785],[-.838671,.615661,-.325568,-.945519,.788011,-.544639],[-.866025,.642788,-.34202,-.939693,.766044,-.5],[-.891007,.669131,-.358368,-.93358,.743145,-.45399],[-.913545,.694658,-.374607,-.927184,.71934,-.406737],[-.93358,.71934,-.390731,-.920505,.694658,-.358368],[-.951057,.743145,-.406737,-.913545,.669131,-.309017],[-.965926,.766044,-.422618,-.906308,.642788,-.258819],[-.978148,.788011,-.438371,-.898794,.615661,-.207912],[-.987688,.809017,-.45399,-.891007,.587785,-.156434],[-.994522,.829038,-.469472,-.882948,.559193,-.104528],[-.99863,.848048,-.48481,-.87462,.529919,-.052336],[-1,.866025,-.5,-.866025,.5,0],[-.99863,.882948,-.515038,-.857167,.469472,.052336],[-.994522,.898794,-.529919,-.848048,.438371,.104528],[-.987688,.913545,-.544639,-.838671,.406737,.156434],[-.978148,.927184,-.559193,-.829038,.374607,.207912],[-.965926,.939693,-.573576,-.819152,.34202,.258819],[-.951057,.951057,-.587785,-.809017,.309017,.309017],[-.93358,.961262,-.601815,-.798636,.275637,.358368],[-.913545,.970296,-.615661,-.788011,.241922,.406737],[-.891007,.978148,-.62932,-.777146,.207912,.45399],[-.866025,.984808,-.642788,-.766044,.173648,.5],[-.838671,.990268,-.656059,-.75471,.139173,.544639],[-.809017,.994522,-.669131,-.743145,.104528,.587785],[-.777146,.997564,-.681998,-.731354,.069756,.62932],[-.743145,.999391,-.694658,-.71934,.034899,.669131],[-.707107,1,-.707107,-.707107,0,.707107],[-.669131,.999391,-.71934,-.694658,-.034899,.743145],[-.62932,.997564,-.731354,-.681998,-.069756,.777146],[-.587785,.994522,-.743145,-.669131,-.104528,.809017],[-.544639,.990268,-.75471,-.656059,-.139173,.838671],[-.5,.984808,-.766044,-.642788,-.173648,.866025],[-.45399,.978148,-.777146,-.62932,-.207912,.891007],[-.406737,.970296,-.788011,-.615661,-.241922,.913545],[-.358368,.961262,-.798636,-.601815,-.275637,.93358],[-.309017,.951057,-.809017,-.587785,-.309017,.951057],[-.258819,.939693,-.819152,-.573576,-.34202,.965926],[-.207912,.927184,-.829038,-.559193,-.374607,.978148],[-.156434,.913545,-.838671,-.544639,-.406737,.987688],[-.104528,.898794,-.848048,-.529919,-.438371,.994522],[-.052336,.882948,-.857167,-.515038,-.469472,.99863],[-0,.866025,-.866025,-.5,-.5,1],[.052336,.848048,-.87462,-.48481,-.529919,.99863],[.104528,.829038,-.882948,-.469472,-.559193,.994522],[.156434,.809017,-.891007,-.45399,-.587785,.987688],[.207912,.788011,-.898794,-.438371,-.615661,.978148],[.258819,.766044,-.906308,-.422618,-.642788,.965926],[.309017,.743145,-.913545,-.406737,-.669131,.951057],[.358368,.71934,-.920505,-.390731,-.694658,.93358],[.406737,.694658,-.927184,-.374607,-.71934,.913545],[.45399,.669131,-.93358,-.358368,-.743145,.891007],[.5,.642788,-.939693,-.34202,-.766044,.866025],[.544639,.615661,-.945519,-.325568,-.788011,.838671],[.587785,.587785,-.951057,-.309017,-.809017,.809017],[.62932,.559193,-.956305,-.292372,-.829038,.777146],[.669131,.529919,-.961262,-.275637,-.848048,.743145],[.707107,.5,-.965926,-.258819,-.866025,.707107],[.743145,.469472,-.970296,-.241922,-.882948,.669131],[.777146,.438371,-.97437,-.224951,-.898794,.62932],[.809017,.406737,-.978148,-.207912,-.913545,.587785],[.838671,.374607,-.981627,-.190809,-.927184,.544639],[.866025,.34202,-.984808,-.173648,-.939693,.5],[.891007,.309017,-.987688,-.156434,-.951057,.45399],[.913545,.275637,-.990268,-.139173,-.961262,.406737],[.93358,.241922,-.992546,-.121869,-.970296,.358368],[.951057,.207912,-.994522,-.104528,-.978148,.309017],[.965926,.173648,-.996195,-.087156,-.984808,.258819],[.978148,.139173,-.997564,-.069756,-.990268,.207912],[.987688,.104528,-.99863,-.052336,-.994522,.156434],[.994522,.069756,-.999391,-.034899,-.997564,.104528],[.99863,.034899,-.999848,-.017452,-.999391,.052336],[1,0,-1,-0,-1,0],[.99863,-.034899,-.999848,.017452,-.999391,-.052336],[.994522,-.069756,-.999391,.034899,-.997564,-.104528],[.987688,-.104528,-.99863,.052336,-.994522,-.156434],[.978148,-.139173,-.997564,.069756,-.990268,-.207912],[.965926,-.173648,-.996195,.087156,-.984808,-.258819],[.951057,-.207912,-.994522,.104528,-.978148,-.309017],[.93358,-.241922,-.992546,.121869,-.970296,-.358368],[.913545,-.275637,-.990268,.139173,-.961262,-.406737],[.891007,-.309017,-.987688,.156434,-.951057,-.45399],[.866025,-.34202,-.984808,.173648,-.939693,-.5],[.838671,-.374607,-.981627,.190809,-.927184,-.544639],[.809017,-.406737,-.978148,.207912,-.913545,-.587785],[.777146,-.438371,-.97437,.224951,-.898794,-.62932],[.743145,-.469472,-.970296,.241922,-.882948,-.669131],[.707107,-.5,-.965926,.258819,-.866025,-.707107],[.669131,-.529919,-.961262,.275637,-.848048,-.743145],[.62932,-.559193,-.956305,.292372,-.829038,-.777146],[.587785,-.587785,-.951057,.309017,-.809017,-.809017],[.544639,-.615661,-.945519,.325568,-.788011,-.838671],[.5,-.642788,-.939693,.34202,-.766044,-.866025],[.45399,-.669131,-.93358,.358368,-.743145,-.891007],[.406737,-.694658,-.927184,.374607,-.71934,-.913545],[.358368,-.71934,-.920505,.390731,-.694658,-.93358],[.309017,-.743145,-.913545,.406737,-.669131,-.951057],[.258819,-.766044,-.906308,.422618,-.642788,-.965926],[.207912,-.788011,-.898794,.438371,-.615661,-.978148],[.156434,-.809017,-.891007,.45399,-.587785,-.987688],[.104528,-.829038,-.882948,.469472,-.559193,-.994522],[.052336,-.848048,-.87462,.48481,-.529919,-.99863],[0,-.866025,-.866025,.5,-.5,-1],[-.052336,-.882948,-.857167,.515038,-.469472,-.99863],[-.104528,-.898794,-.848048,.529919,-.438371,-.994522],[-.156434,-.913545,-.838671,.544639,-.406737,-.987688],[-.207912,-.927184,-.829038,.559193,-.374607,-.978148],[-.258819,-.939693,-.819152,.573576,-.34202,-.965926],[-.309017,-.951057,-.809017,.587785,-.309017,-.951057],[-.358368,-.961262,-.798636,.601815,-.275637,-.93358],[-.406737,-.970296,-.788011,.615661,-.241922,-.913545],[-.45399,-.978148,-.777146,.62932,-.207912,-.891007],[-.5,-.984808,-.766044,.642788,-.173648,-.866025],[-.544639,-.990268,-.75471,.656059,-.139173,-.838671],[-.587785,-.994522,-.743145,.669131,-.104528,-.809017],[-.62932,-.997564,-.731354,.681998,-.069756,-.777146],[-.669131,-.999391,-.71934,.694658,-.034899,-.743145],[-.707107,-1,-.707107,.707107,-0,-.707107],[-.743145,-.999391,-.694658,.71934,.034899,-.669131],[-.777146,-.997564,-.681998,.731354,.069756,-.62932],[-.809017,-.994522,-.669131,.743145,.104528,-.587785],[-.838671,-.990268,-.656059,.75471,.139173,-.544639],[-.866025,-.984808,-.642788,.766044,.173648,-.5],[-.891007,-.978148,-.62932,.777146,.207912,-.45399],[-.913545,-.970296,-.615661,.788011,.241922,-.406737],[-.93358,-.961262,-.601815,.798636,.275637,-.358368],[-.951057,-.951057,-.587785,.809017,.309017,-.309017],[-.965926,-.939693,-.573576,.819152,.34202,-.258819],[-.978148,-.927184,-.559193,.829038,.374607,-.207912],[-.987688,-.913545,-.544639,.838671,.406737,-.156434],[-.994522,-.898794,-.529919,.848048,.438371,-.104528],[-.99863,-.882948,-.515038,.857167,.469472,-.052336],[-1,-.866025,-.5,.866025,.5,-0],[-.99863,-.848048,-.48481,.87462,.529919,.052336],[-.994522,-.829038,-.469472,.882948,.559193,.104528],[-.987688,-.809017,-.45399,.891007,.587785,.156434],[-.978148,-.788011,-.438371,.898794,.615661,.207912],[-.965926,-.766044,-.422618,.906308,.642788,.258819],[-.951057,-.743145,-.406737,.913545,.669131,.309017],[-.93358,-.71934,-.390731,.920505,.694658,.358368],[-.913545,-.694658,-.374607,.927184,.71934,.406737],[-.891007,-.669131,-.358368,.93358,.743145,.45399],[-.866025,-.642788,-.34202,.939693,.766044,.5],[-.838671,-.615661,-.325568,.945519,.788011,.544639],[-.809017,-.587785,-.309017,.951057,.809017,.587785],[-.777146,-.559193,-.292372,.956305,.829038,.62932],[-.743145,-.529919,-.275637,.961262,.848048,.669131],[-.707107,-.5,-.258819,.965926,.866025,.707107],[-.669131,-.469472,-.241922,.970296,.882948,.743145],[-.62932,-.438371,-.224951,.97437,.898794,.777146],[-.587785,-.406737,-.207912,.978148,.913545,.809017],[-.544639,-.374607,-.190809,.981627,.927184,.838671],[-.5,-.34202,-.173648,.984808,.939693,.866025],[-.45399,-.309017,-.156434,.987688,.951057,.891007],[-.406737,-.275637,-.139173,.990268,.961262,.913545],[-.358368,-.241922,-.121869,.992546,.970296,.93358],[-.309017,-.207912,-.104528,.994522,.978148,.951057],[-.258819,-.173648,-.087156,.996195,.984808,.965926],[-.207912,-.139173,-.069756,.997564,.990268,.978148],[-.156434,-.104528,-.052336,.99863,.994522,.987688],[-.104528,-.069756,-.034899,.999391,.997564,.994522],[-.052336,-.034899,-.017452,.999848,.999391,.99863]],[[-1,-0,1,-0,0,-1,-0,0,-0],[-.999848,.017452,.999543,-.030224,264e-6,-.999086,.042733,-59e-5,4e-6],[-.999391,.034899,.998173,-.060411,.001055,-.996348,.085356,-.002357,34e-6],[-.99863,.052336,.995891,-.090524,.002372,-.991791,.127757,-.005297,113e-6],[-.997564,.069756,.992701,-.120527,.004214,-.985429,.169828,-.0094,268e-6],[-.996195,.087156,.988606,-.150384,.006578,-.977277,.21146,-.014654,523e-6],[-.994522,.104528,.983611,-.180057,.009462,-.967356,.252544,-.021043,903e-6],[-.992546,.121869,.977722,-.209511,.012862,-.955693,.292976,-.028547,.001431],[-.990268,.139173,.970946,-.238709,.016774,-.942316,.332649,-.037143,.002131],[-.987688,.156434,.963292,-.267617,.021193,-.927262,.371463,-.046806,.003026],[-.984808,.173648,.954769,-.296198,.026114,-.910569,.409317,-.057505,.00414],[-.981627,.190809,.945388,-.324419,.03153,-.892279,.446114,-.069209,.005492],[-.978148,.207912,.935159,-.352244,.037436,-.872441,.481759,-.08188,.007105],[-.97437,.224951,.924096,-.379641,.043823,-.851105,.516162,-.095481,.008999],[-.970296,.241922,.912211,-.406574,.050685,-.828326,.549233,-.109969,.011193],[-.965926,.258819,.899519,-.433013,.058013,-.804164,.580889,-.1253,.013707],[-.961262,.275637,.886036,-.458924,.065797,-.77868,.61105,-.141427,.016556],[-.956305,.292372,.871778,-.484275,.074029,-.75194,.639639,-.158301,.019758],[-.951057,.309017,.856763,-.509037,.082698,-.724012,.666583,-.175868,.023329],[-.945519,.325568,.841008,-.533178,.091794,-.694969,.691816,-.194075,.027281],[-.939693,.34202,.824533,-.55667,.101306,-.664885,.715274,-.212865,.03163],[-.93358,.358368,.807359,-.579484,.111222,-.633837,.736898,-.23218,.036385],[-.927184,.374607,.789505,-.601592,.121529,-.601904,.756637,-.25196,.041559],[-.920505,.390731,.770994,-.622967,.132217,-.569169,.774442,-.272143,.04716],[-.913545,.406737,.751848,-.643582,.143271,-.535715,.79027,-.292666,.053196],[-.906308,.422618,.732091,-.663414,.154678,-.501627,.804083,-.313464,.059674],[-.898794,.438371,.711746,-.682437,.166423,-.466993,.81585,-.334472,.066599],[-.891007,.45399,.690839,-.700629,.178494,-.431899,.825544,-.355623,.073974],[-.882948,.469472,.669395,-.717968,.190875,-.396436,.833145,-.376851,.081803],[-.87462,.48481,.647439,-.734431,.203551,-.360692,.838638,-.398086,.090085],[-.866025,.5,.625,-.75,.216506,-.32476,.842012,-.419263,.098821],[-.857167,.515038,.602104,-.764655,.229726,-.288728,.843265,-.440311,.108009],[-.848048,.529919,.578778,-.778378,.243192,-.252688,.842399,-.461164,.117644],[-.838671,.544639,.555052,-.791154,.256891,-.21673,.839422,-.481753,.127722],[-.829038,.559193,.530955,-.802965,.270803,-.180944,.834347,-.502011,.138237],[-.819152,.573576,.506515,-.813798,.284914,-.14542,.827194,-.521871,.149181],[-.809017,.587785,.481763,-.823639,.299204,-.110246,.817987,-.541266,.160545],[-.798636,.601815,.456728,-.832477,.313658,-.075508,.806757,-.560132,.172317],[-.788011,.615661,.431441,-.840301,.328257,-.041294,.793541,-.578405,.184487],[-.777146,.62932,.405934,-.847101,.342984,-.007686,.778379,-.596021,.19704],[-.766044,.642788,.380236,-.852869,.357821,.025233,.761319,-.612921,.209963],[-.75471,.656059,.35438,-.857597,.372749,.057383,.742412,-.629044,.223238],[-.743145,.669131,.328396,-.861281,.387751,.088686,.721714,-.644334,.23685],[-.731354,.681998,.302317,-.863916,.402807,.119068,.699288,-.658734,.250778],[-.71934,.694658,.276175,-.865498,.417901,.148454,.675199,-.67219,.265005],[-.707107,.707107,.25,-.866025,.433013,.176777,.649519,-.684653,.279508],[-.694658,.71934,.223825,-.865498,.448125,.203969,.622322,-.696073,.294267],[-.681998,.731354,.197683,-.863916,.463218,.229967,.593688,-.706405,.309259],[-.669131,.743145,.171604,-.861281,.478275,.254712,.5637,-.715605,.324459],[-.656059,.75471,.14562,-.857597,.493276,.278147,.532443,-.723633,.339844],[-.642788,.766044,.119764,-.852869,.508205,.300221,.500009,-.730451,.355387],[-.62932,.777146,.094066,-.847101,.523041,.320884,.46649,-.736025,.371063],[-.615661,.788011,.068559,-.840301,.537768,.340093,.431982,-.740324,.386845],[-.601815,.798636,.043272,-.832477,.552367,.357807,.396584,-.74332,.402704],[-.587785,.809017,.018237,-.823639,.566821,.373991,.360397,-.744989,.418613],[-.573576,.819152,-.006515,-.813798,.581112,.388612,.323524,-.745308,.434544],[-.559193,.829038,-.030955,-.802965,.595222,.401645,.286069,-.744262,.450467],[-.544639,.838671,-.055052,-.791154,.609135,.413066,.24814,-.741835,.466352],[-.529919,.848048,-.078778,-.778378,.622833,.422856,.209843,-.738017,.482171],[-.515038,.857167,-.102104,-.764655,.6363,.431004,.171288,-.732801,.497894],[-.5,.866025,-.125,-.75,.649519,.4375,.132583,-.726184,.51349],[-.48481,.87462,-.147439,-.734431,.662474,.44234,.093837,-.718167,.528929],[-.469472,.882948,-.169395,-.717968,.67515,.445524,.05516,-.708753,.544183],[-.45399,.891007,-.190839,-.700629,.687531,.447059,.016662,-.69795,.55922],[-.438371,.898794,-.211746,-.682437,.699602,.446953,-.02155,-.685769,.574011],[-.422618,.906308,-.232091,-.663414,.711348,.445222,-.059368,-.672226,.588528],[-.406737,.913545,-.251848,-.643582,.722755,.441884,-.096684,-.657339,.602741],[-.390731,.920505,-.270994,-.622967,.733809,.436964,-.133395,-.64113,.616621],[-.374607,.927184,-.289505,-.601592,.744496,.430488,-.169397,-.623624,.630141],[-.358368,.93358,-.307359,-.579484,.754804,.422491,-.204589,-.604851,.643273],[-.34202,.939693,-.324533,-.55667,.76472,.413008,-.238872,-.584843,.65599],[-.325568,.945519,-.341008,-.533178,.774231,.402081,-.27215,-.563635,.668267],[-.309017,.951057,-.356763,-.509037,.783327,.389754,-.304329,-.541266,.680078],[-.292372,.956305,-.371778,-.484275,.791997,.376077,-.335319,-.517778,.691399],[-.275637,.961262,-.386036,-.458924,.800228,.361102,-.365034,-.493216,.702207],[-.258819,.965926,-.399519,-.433013,.808013,.344885,-.393389,-.467627,.712478],[-.241922,.970296,-.412211,-.406574,.81534,.327486,-.420306,-.441061,.722191],[-.224951,.97437,-.424096,-.379641,.822202,.308969,-.445709,-.413572,.731327],[-.207912,.978148,-.435159,-.352244,.828589,.289399,-.469527,-.385215,.739866],[-.190809,.981627,-.445388,-.324419,.834495,.268846,-.491693,-.356047,.74779],[-.173648,.984808,-.454769,-.296198,.839912,.247382,-.512145,-.326129,.755082],[-.156434,.987688,-.463292,-.267617,.844832,.225081,-.530827,-.295521,.761728],[-.139173,.990268,-.470946,-.238709,.849251,.20202,-.547684,-.264287,.767712],[-.121869,.992546,-.477722,-.209511,.853163,.178279,-.562672,-.232494,.773023],[-.104528,.994522,-.483611,-.180057,.856563,.153937,-.575747,-.200207,.777648],[-.087156,.996195,-.488606,-.150384,.859447,.129078,-.586872,-.167494,.781579],[-.069756,.997564,-.492701,-.120527,.861811,.103786,-.596018,-.134426,.784806],[-.052336,.99863,-.495891,-.090524,.863653,.078146,-.603158,-.101071,.787324],[-.034899,.999391,-.498173,-.060411,.864971,.052243,-.608272,-.0675,.789126],[-.017452,.999848,-.499543,-.030224,.865762,.026165,-.611347,-.033786,.790208],[0,1,-.5,0,.866025,-0,-.612372,0,.790569],[.017452,.999848,-.499543,.030224,.865762,-.026165,-.611347,.033786,.790208],[.034899,.999391,-.498173,.060411,.864971,-.052243,-.608272,.0675,.789126],[.052336,.99863,-.495891,.090524,.863653,-.078146,-.603158,.101071,.787324],[.069756,.997564,-.492701,.120527,.861811,-.103786,-.596018,.134426,.784806],[.087156,.996195,-.488606,.150384,.859447,-.129078,-.586872,.167494,.781579],[.104528,.994522,-.483611,.180057,.856563,-.153937,-.575747,.200207,.777648],[.121869,.992546,-.477722,.209511,.853163,-.178279,-.562672,.232494,.773023],[.139173,.990268,-.470946,.238709,.849251,-.20202,-.547684,.264287,.767712],[.156434,.987688,-.463292,.267617,.844832,-.225081,-.530827,.295521,.761728],[.173648,.984808,-.454769,.296198,.839912,-.247382,-.512145,.326129,.755082],[.190809,.981627,-.445388,.324419,.834495,-.268846,-.491693,.356047,.74779],[.207912,.978148,-.435159,.352244,.828589,-.289399,-.469527,.385215,.739866],[.224951,.97437,-.424096,.379641,.822202,-.308969,-.445709,.413572,.731327],[.241922,.970296,-.412211,.406574,.81534,-.327486,-.420306,.441061,.722191],[.258819,.965926,-.399519,.433013,.808013,-.344885,-.393389,.467627,.712478],[.275637,.961262,-.386036,.458924,.800228,-.361102,-.365034,.493216,.702207],[.292372,.956305,-.371778,.484275,.791997,-.376077,-.335319,.517778,.691399],[.309017,.951057,-.356763,.509037,.783327,-.389754,-.304329,.541266,.680078],[.325568,.945519,-.341008,.533178,.774231,-.402081,-.27215,.563635,.668267],[.34202,.939693,-.324533,.55667,.76472,-.413008,-.238872,.584843,.65599],[.358368,.93358,-.307359,.579484,.754804,-.422491,-.204589,.604851,.643273],[.374607,.927184,-.289505,.601592,.744496,-.430488,-.169397,.623624,.630141],[.390731,.920505,-.270994,.622967,.733809,-.436964,-.133395,.64113,.616621],[.406737,.913545,-.251848,.643582,.722755,-.441884,-.096684,.657339,.602741],[.422618,.906308,-.232091,.663414,.711348,-.445222,-.059368,.672226,.588528],[.438371,.898794,-.211746,.682437,.699602,-.446953,-.02155,.685769,.574011],[.45399,.891007,-.190839,.700629,.687531,-.447059,.016662,.69795,.55922],[.469472,.882948,-.169395,.717968,.67515,-.445524,.05516,.708753,.544183],[.48481,.87462,-.147439,.734431,.662474,-.44234,.093837,.718167,.528929],[.5,.866025,-.125,.75,.649519,-.4375,.132583,.726184,.51349],[.515038,.857167,-.102104,.764655,.6363,-.431004,.171288,.732801,.497894],[.529919,.848048,-.078778,.778378,.622833,-.422856,.209843,.738017,.482171],[.544639,.838671,-.055052,.791154,.609135,-.413066,.24814,.741835,.466352],[.559193,.829038,-.030955,.802965,.595222,-.401645,.286069,.744262,.450467],[.573576,.819152,-.006515,.813798,.581112,-.388612,.323524,.745308,.434544],[.587785,.809017,.018237,.823639,.566821,-.373991,.360397,.744989,.418613],[.601815,.798636,.043272,.832477,.552367,-.357807,.396584,.74332,.402704],[.615661,.788011,.068559,.840301,.537768,-.340093,.431982,.740324,.386845],[.62932,.777146,.094066,.847101,.523041,-.320884,.46649,.736025,.371063],[.642788,.766044,.119764,.852869,.508205,-.300221,.500009,.730451,.355387],[.656059,.75471,.14562,.857597,.493276,-.278147,.532443,.723633,.339844],[.669131,.743145,.171604,.861281,.478275,-.254712,.5637,.715605,.324459],[.681998,.731354,.197683,.863916,.463218,-.229967,.593688,.706405,.309259],[.694658,.71934,.223825,.865498,.448125,-.203969,.622322,.696073,.294267],[.707107,.707107,.25,.866025,.433013,-.176777,.649519,.684653,.279508],[.71934,.694658,.276175,.865498,.417901,-.148454,.675199,.67219,.265005],[.731354,.681998,.302317,.863916,.402807,-.119068,.699288,.658734,.250778],[.743145,.669131,.328396,.861281,.387751,-.088686,.721714,.644334,.23685],[.75471,.656059,.35438,.857597,.372749,-.057383,.742412,.629044,.223238],[.766044,.642788,.380236,.852869,.357821,-.025233,.761319,.612921,.209963],[.777146,.62932,.405934,.847101,.342984,.007686,.778379,.596021,.19704],[.788011,.615661,.431441,.840301,.328257,.041294,.793541,.578405,.184487],[.798636,.601815,.456728,.832477,.313658,.075508,.806757,.560132,.172317],[.809017,.587785,.481763,.823639,.299204,.110246,.817987,.541266,.160545],[.819152,.573576,.506515,.813798,.284914,.14542,.827194,.521871,.149181],[.829038,.559193,.530955,.802965,.270803,.180944,.834347,.502011,.138237],[.838671,.544639,.555052,.791154,.256891,.21673,.839422,.481753,.127722],[.848048,.529919,.578778,.778378,.243192,.252688,.842399,.461164,.117644],[.857167,.515038,.602104,.764655,.229726,.288728,.843265,.440311,.108009],[.866025,.5,.625,.75,.216506,.32476,.842012,.419263,.098821],[.87462,.48481,.647439,.734431,.203551,.360692,.838638,.398086,.090085],[.882948,.469472,.669395,.717968,.190875,.396436,.833145,.376851,.081803],[.891007,.45399,.690839,.700629,.178494,.431899,.825544,.355623,.073974],[.898794,.438371,.711746,.682437,.166423,.466993,.81585,.334472,.066599],[.906308,.422618,.732091,.663414,.154678,.501627,.804083,.313464,.059674],[.913545,.406737,.751848,.643582,.143271,.535715,.79027,.292666,.053196],[.920505,.390731,.770994,.622967,.132217,.569169,.774442,.272143,.04716],[.927184,.374607,.789505,.601592,.121529,.601904,.756637,.25196,.041559],[.93358,.358368,.807359,.579484,.111222,.633837,.736898,.23218,.036385],[.939693,.34202,.824533,.55667,.101306,.664885,.715274,.212865,.03163],[.945519,.325568,.841008,.533178,.091794,.694969,.691816,.194075,.027281],[.951057,.309017,.856763,.509037,.082698,.724012,.666583,.175868,.023329],[.956305,.292372,.871778,.484275,.074029,.75194,.639639,.158301,.019758],[.961262,.275637,.886036,.458924,.065797,.77868,.61105,.141427,.016556],[.965926,.258819,.899519,.433013,.058013,.804164,.580889,.1253,.013707],[.970296,.241922,.912211,.406574,.050685,.828326,.549233,.109969,.011193],[.97437,.224951,.924096,.379641,.043823,.851105,.516162,.095481,.008999],[.978148,.207912,.935159,.352244,.037436,.872441,.481759,.08188,.007105],[.981627,.190809,.945388,.324419,.03153,.892279,.446114,.069209,.005492],[.984808,.173648,.954769,.296198,.026114,.910569,.409317,.057505,.00414],[.987688,.156434,.963292,.267617,.021193,.927262,.371463,.046806,.003026],[.990268,.139173,.970946,.238709,.016774,.942316,.332649,.037143,.002131],[.992546,.121869,.977722,.209511,.012862,.955693,.292976,.028547,.001431],[.994522,.104528,.983611,.180057,.009462,.967356,.252544,.021043,903e-6],[.996195,.087156,.988606,.150384,.006578,.977277,.21146,.014654,523e-6],[.997564,.069756,.992701,.120527,.004214,.985429,.169828,.0094,268e-6],[.99863,.052336,.995891,.090524,.002372,.991791,.127757,.005297,113e-6],[.999391,.034899,.998173,.060411,.001055,.996348,.085356,.002357,34e-6],[.999848,.017452,.999543,.030224,264e-6,.999086,.042733,59e-5,4e-6],[1,-0,1,-0,0,1,-0,0,-0]]],wd=(vd[0].length,vd[1].length,vd[0][0].length/2),bd=[[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1.003236,1.002156,.999152,.990038],[1.03237,1.021194,.990433,.898572],[1.062694,1.040231,.979161,.799806],[1.093999,1.058954,.964976,.693603],[1.126003,1.077006,.947526,.57989],[1.158345,1.093982,.926474,.45869],[1.19059,1.109437,.901512,.330158],[1.222228,1.12289,.87237,.194621],[1.252684,1.133837,.838839,.052614],[1.281987,1.142358,.801199,0],[1.312073,1.150207,.760839,0],[1.343011,1.157424,.717799,0],[1.374649,1.163859,.671999,0],[1.406809,1.169354,.623371,0],[1.439286,1.173739,.571868,0],[1.471846,1.176837,.517465,0],[1.504226,1.178465,.460174,0],[1.536133,1.178438,.400043,0],[1.567253,1.176573,.337165,0],[1.597247,1.172695,.271688,0],[1.625766,1.166645,.203815,0],[1.652455,1.158285,.133806,0],[1.676966,1.147506,.061983,0],[1.699006,1.134261,0,0],[1.720224,1.119789,0,0],[1.741631,1.10481,0,0],[1.763183,1.08933,0,0],[1.784837,1.073356,0,0],[1.806548,1.056898,0,0],[1.828269,1.039968,0,0],[1.849952,1.02258,0,0],[1.871552,1.004752,0,0],[1.893018,.986504,0,0],[1.914305,.967857,0,0],[1.935366,.948837,0,0],[1.956154,.929471,0,0],[1.976625,.90979,0,0],[1.996736,.889823,0,0],[2.016448,.869607,0,0],[2.035721,.849175,0,0],[2.054522,.828565,0,0],[2.072818,.807816,0,0],[2.090581,.786964,0,0],[2.107785,.766051,0,0],[2.124411,.745115,0,0],[2.140439,.724196,0,0],[2.155856,.703332,0,0],[2.170653,.682561,0,0],[2.184823,.661921,0,0],[2.198364,.641445,0,0],[2.211275,.621169,0,0],[2.223562,.601125,0,0],[2.23523,.581341,0,0],[2.246289,.561847,0,0],[2.256751,.542667,0,0],[2.266631,.523826,0,0],[2.275943,.505344,0,0],[2.284707,.487239,0,0],[2.292939,.469528,0,0],[2.300661,.452225,0,0],[2.307892,.435342,0,0],[2.314654,.418888,0,0],[2.320969,.40287,0,0],[2.326858,.387294,0,0],[2.332343,.372164,0,0],[2.337445,.357481,0,0],[2.342186,.343246,0,0],[2.346585,.329458,0,0],[2.350664,.316113,0,0],[2.354442,.303208,0,0],[2.357937,.290738,0,0],[2.361168,.278698,0,0],[2.364152,.26708,0,0],[2.366906,.255878,0,0],[2.369446,.245082,0,0],[2.371786,.234685,0,0],[2.37394,.224677,0,0],[2.375923,.215048,0,0],[2.377745,.20579,0,0],[2.379421,.196891,0,0],[2.380959,.188342,0,0],[2.382372,.180132,0,0],[2.383667,.172251,0,0],[2.384856,.164689,0,0],[2.385945,.157435,0,0],[2.386943,.150479,0,0],[2.387857,.143811,0,0],[2.388694,.137421,0,0],[2.38946,.131299,0,0],[2.39016,.125435,0,0],[2.390801,.11982,0,0],[2.391386,.114445,0,0],[2.391921,.1093,0,0],[2.39241,.104376,0,0],[2.392857,.099666,0,0],[2.393265,.09516,0,0],[2.393637,.090851,0,0],[2.393977,.086731,0,0],[2.394288,.082791,0,0],[2.394571,.079025,0,0],[2.394829,.075426,0,0],[2.395064,.071986,0,0],[2.395279,.068699,0,0],[2.395475,.065558,0,0],[2.395653,.062558,0,0],[2.395816,.059693,0,0],[2.395964,.056955,0,0],[2.396099,.054341,0,0],[2.396222,.051845,0,0],[2.396334,.049462,0,0],[2.396436,.047186,0,0],[2.396529,.045013,0,0],[2.396613,.042939,0,0],[2.396691,.040959,0,0],[2.396761,.039069,0,0],[2.396825,.037266,0,0],[2.396883,.035544,0,0],[2.396936,.033901,0,0],[2.396984,.032334,0,0],[2.397028,.030838,0,0],[2.397068,.02941,0,0],[2.397104,.028048,0,0],[2.397137,.026749,0,0],[2.397167,.025509,0,0],[2.397194,.024326,0,0],[2.397219,.023198,0,0],[2.397242,.022122,0,0],[2.397262,.021095,0,0],[2.397281,.020116,0,0],[2.397298,.019181,0,0],[2.397314,.01829,0,0],[2.397328,.017441,0,0],[2.397341,.01663,0,0],[2.397352,.015857,0,0],[2.397363,.015119,0,0],[2.397372,.014416,0,0],[2.397381,.013745,0,0],[2.397389,.013106,0,0],[2.397396,.012496,0,0],[2.397403,.011914,0,0],[2.397409,.01136,0,0],[2.397414,.010831,0,0],[2.397419,.010326,0,0],[2.397424,.009845,0,0],[2.397428,.009387,0,0],[2.397432,.008949,0,0],[2.397435,.008532,0,0],[2.397438,.008135,0,0],[2.397441,.007755,0,0],[2.397443,.007394,0,0],[2.397446,.007049,0,0],[2.397448,.006721,0,0],[2.39745,.006407,0,0],[2.397451,.006108,0,0],[2.397453,.005824,0,0],[2.397454,.005552,0,0],[2.397456,.005293,0,0],[2.397457,.005046,0,0],[2.397458,.004811,0,0],[2.397459,.004586,0,0],[2.39746,.004372,0,0],[2.397461,.004168,0,0],[2.397461,.003974,0,0],[2.397462,.003788,0,0],[2.397463,.003611,0,0],[2.397463,.003443,0,0],[2.397464,.003282,0,0],[2.397464,.003129,0,0],[2.397465,.002983,0,0],[2.397465,.002844,0,0],[2.397465,.002711,0,0],[2.397466,.002584,0,0],[2.397466,.002464,0,0],[2.397466,.002349,0,0],[2.397466,.002239,0,0],[2.397467,.002135,0,0],[2.397467,.002035,0,0],[2.397467,.00194,0,0],[2.397467,.001849,0,0],[2.397467,.001763,0,0],[2.397467,.001681,0,0],[2.397468,.001602,0,0],[2.397468,.001527,0,0],[2.397468,.001456,0,0],[2.397468,.001388,0,0],[2.397468,.001323,0,0],[2.397468,.001261,0,0],[2.397468,.001202,0,0],[2.397468,.001146,0,0],[2.397468,.001093,0,0],[2.397468,.001042,0,0],[2.397468,993e-6,0,0],[2.397468,947e-6,0,0],[2.397468,902e-6,0,0],[2.397468,86e-5,0,0],[2.397468,82e-5,0,0],[2.397469,782e-6,0,0],[2.397469,745e-6,0,0],[2.397469,71e-5,0,0],[2.397469,677e-6,0,0],[2.397469,646e-6,0,0],[2.397469,616e-6,0,0],[2.397469,587e-6,0,0],[2.397469,559e-6,0,0],[2.397469,533e-6,0,0],[2.397469,508e-6,0,0],[2.397469,485e-6,0,0],[2.397469,462e-6,0,0],[2.397469,44e-5,0,0],[2.397469,42e-5,0,0],[2.397469,4e-4,0,0],[2.397469,381e-6,0,0],[2.397469,364e-6,0,0],[2.397469,347e-6,0,0],[2.397469,33e-5,0,0],[2.397469,315e-6,0,0],[2.397469,3e-4,0,0],[2.397469,286e-6,0,0],[2.397469,273e-6,0,0],[2.397469,26e-5,0,0],[2.397469,248e-6,0,0],[2.397469,236e-6,0,0],[2.397469,225e-6,0,0],[2.397469,215e-6,0,0],[2.397469,205e-6,0,0],[2.397469,195e-6,0,0],[2.397469,186e-6,0,0],[2.397469,177e-6,0,0],[2.397469,169e-6,0,0],[2.397469,161e-6,0,0],[2.397469,154e-6,0,0],[2.397469,147e-6,0,0],[2.397469,14e-5,0,0],[2.397469,133e-6,0,0],[2.397469,127e-6,0,0],[2.397469,121e-6,0,0],[2.397469,115e-6,0,0],[2.397469,11e-5,0,0],[2.397469,105e-6,0,0],[2.397469,1e-4,0,0],[2.397469,95e-6,0,0],[2.397469,91e-6,0,0],[2.397469,87e-6,0,0],[2.397469,83e-6,0,0],[2.397469,79e-6,0,0],[2.397469,75e-6,0,0],[2.397469,71e-6,0,0],[2.397469,68e-6,0,0],[2.397469,65e-6,0,0],[2.397469,62e-6,0,0],[2.397469,59e-6,0,0],[2.397469,56e-6,0,0],[2.397469,54e-6,0,0],[2.397469,51e-6,0,0],[2.397469,49e-6,0,0],[2.397469,46e-6,0,0],[2.397469,44e-6,0,0],[2.397469,42e-6,0,0],[2.397469,4e-5,0,0],[2.397469,38e-6,0,0],[2.397469,37e-6,0,0],[2.397469,35e-6,0,0],[2.397469,33e-6,0,0],[2.397469,32e-6,0,0],[2.397469,3e-5,0,0],[2.397469,29e-6,0,0],[2.397469,27e-6,0,0],[2.397469,26e-6,0,0],[2.397469,25e-6,0,0],[2.397469,24e-6,0,0],[2.397469,23e-6,0,0],[2.397469,22e-6,0,0],[2.397469,21e-6,0,0],[2.397469,2e-5,0,0],[2.397469,19e-6,0,0],[2.397469,18e-6,0,0],[2.397469,17e-6,0,0],[2.397469,16e-6,0,0],[2.397469,15e-6,0,0],[2.397469,15e-6,0,0],[2.397469,14e-6,0,0],[2.397469,13e-6,0,0],[2.397469,13e-6,0,0],[2.397469,12e-6,0,0],[2.397469,12e-6,0,0],[2.397469,11e-6,0,0],[2.397469,11e-6,0,0],[2.397469,1e-5,0,0],[2.397469,1e-5,0,0],[2.397469,9e-6,0,0],[2.397469,9e-6,0,0],[2.397469,8e-6,0,0],[2.397469,8e-6,0,0],[2.397469,8e-6,0,0],[2.397469,7e-6,0,0],[2.397469,7e-6,0,0],[2.397469,7e-6,0,0],[2.397469,6e-6,0,0],[2.397469,6e-6,0,0],[2.397469,6e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,5e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,4e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,3e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,2e-6,0,0],[2.397469,1e-6,0,0],[2.397469,1e-6,0,0],[2.397469,1e-6,0,0]];var Dd,yd,Pd;!function(e){e.Logarithmic="logarithmic",e.Linear="linear",e.None="none"}(Dd||(Dd={})),function(e){e.Width="width",e.Height="height",e.Depth="depth"}(yd||(yd={})),function(e){e.Left="left",e.Right="right",e.Front="front",e.Back="back",e.Down="down",e.Up="up"}(Pd||(Pd={}));const Cd=((Bd=o())[0]=0,Bd[1]=0,Bd[2]=0,Bd);var Bd;const Md=A(o(),0,0,-1),Sd=A(o(),0,1,0),Fd=(A(o(),1,0,0),343),Ed=Dd.Logarithmic,kd="ambisonic",Id={[Pd.Left]:0,[Pd.Right]:0,[Pd.Front]:0,[Pd.Back]:0,[Pd.Down]:0,[Pd.Up]:0},Td={[yd.Width]:0,[yd.Height]:0,[yd.Depth]:0},_d=[31.25,62.5,125,250,500,1e3,2e3,4e3,8e3],xd=_d.length,Ld=new Float32Array(xd);var Od;!function(e){e.Transparent="transparent",e.AcousticCeilingTiles="acoustic-ceiling-tiles",e.BrickBare="brick-bare",e.BrickPainted="brick-painted",e.ConcreteBlockCoarse="concrete-block-coarse",e.ConcreteBlockPainted="concrete-block-painted",e.CurtainHeavy="curtain-heavy",e.FiberGlassInsulation="fiber-glass-insulation",e.GlassThin="glass-thin",e.GlassThick="glass-thick",e.Grass="grass",e.LinoleumOnConcrete="linoleum-on-concrete",e.Marble="marble",e.Metal="metal",e.ParquetOnConcrete="parquet-on-concrete",e.PlasterRough="plaster-rough",e.PlasterSmooth="plaster-smooth",e.PlywoodPanel="plywood-panel",e.PolishedConcreteOrTile="polished-concrete-or-tile",e.Sheetrock="sheetrock",e.WaterOrIceSurface="water-or-ice-surface",e.WoodCeiling="wood-ceiling",e.WoodPanel="wood-panel",e.Uniform="uniform"}(Od||(Od={}));const Rd={[Od.Transparent]:[1,1,1,1,1,1,1,1,1],[Od.AcousticCeilingTiles]:[.672,.675,.7,.66,.72,.92,.88,.75,1],[Od.BrickBare]:[.03,.03,.03,.03,.03,.04,.05,.07,.14],[Od.BrickPainted]:[.006,.007,.01,.01,.02,.02,.02,.03,.06],[Od.ConcreteBlockCoarse]:[.36,.36,.36,.44,.31,.29,.39,.25,.5],[Od.ConcreteBlockPainted]:[.092,.09,.1,.05,.06,.07,.09,.08,.16],[Od.CurtainHeavy]:[.073,.106,.14,.35,.55,.72,.7,.65,1],[Od.FiberGlassInsulation]:[.193,.22,.22,.82,.99,.99,.99,.99,1],[Od.GlassThin]:[.18,.169,.18,.06,.04,.03,.02,.02,.04],[Od.GlassThick]:[.35,.35,.35,.25,.18,.12,.07,.04,.08],[Od.Grass]:[.05,.05,.15,.25,.4,.55,.6,.6,.6],[Od.LinoleumOnConcrete]:[.02,.02,.02,.03,.03,.03,.03,.02,.04],[Od.Marble]:[.01,.01,.01,.01,.01,.01,.02,.02,.04],[Od.Metal]:[.03,.035,.04,.04,.05,.05,.05,.07,.09],[Od.ParquetOnConcrete]:[.028,.03,.04,.04,.07,.06,.06,.07,.14],[Od.PlasterRough]:[.017,.018,.02,.03,.04,.05,.04,.03,.06],[Od.PlasterSmooth]:[.011,.012,.013,.015,.02,.03,.04,.05,.1],[Od.PlywoodPanel]:[.4,.34,.28,.22,.17,.09,.1,.11,.22],[Od.PolishedConcreteOrTile]:[.008,.008,.01,.01,.015,.02,.02,.02,.04],[Od.Sheetrock]:[.29,.279,.29,.1,.05,.04,.07,.09,.18],[Od.WaterOrIceSurface]:[.006,.006,.008,.008,.013,.015,.02,.025,.05],[Od.WoodCeiling]:[.15,.147,.15,.11,.1,.07,.06,.07,.14],[Od.WoodPanel]:[.28,.28,.28,.22,.17,.09,.1,.11,.22],[Od.Uniform]:[.5,.5,.5,.5,.5,.5,.5,.5,.5]},Qd={[Pd.Left]:Od.Transparent,[Pd.Right]:Od.Transparent,[Pd.Front]:Od.Transparent,[Pd.Back]:Od.Transparent,[Pd.Down]:Od.Transparent,[Pd.Up]:Od.Transparent},Nd=[6e-4,6e-4,7e-4,8e-4,.001,.0015,.0026,.006,.0207],Hd=6.28318530717959,Ud=57.29577951308232,Gd=1e-8,zd=function(...e){window.console.log.apply(window.console,["%c[ResonanceAudio]%c "+e.join(" ")+" %c(@"+performance.now().toFixed(2)+"ms)","background: #BBDEFB; color: #FF5722; font-weight: 700","font-weight: 400","color: #AAA"])},Wd={[Pd.Left]:yd.Width,[Pd.Right]:yd.Width,[Pd.Front]:yd.Depth,[Pd.Back]:yd.Depth,[Pd.Up]:yd.Height,[Pd.Down]:yd.Height},jd={[Pd.Left]:0,[Pd.Right]:0,[Pd.Front]:2,[Pd.Back]:2,[Pd.Up]:1,[Pd.Down]:1},Vd={[Pd.Left]:1,[Pd.Right]:-1,[Pd.Front]:1,[Pd.Back]:-1,[Pd.Up]:-1,[Pd.Down]:1};class Yd{constructor(e,t){this.channelGain=new Array,this.merger=null,t=Object.assign({ambisonicOrder:1,azimuth:0,elevation:0,sourceWidth:0},t),this.context=e,this.input=e.createGain(),this.output=e.createGain(),this.setAmbisonicOrder(t.ambisonicOrder),this.azimuth=t.azimuth,this.elevation=t.elevation,this.setSourceWidth(t.sourceWidth)}static validateAmbisonicOrder(e){return isNaN(e)||null==e?(zd("Error: Invalid ambisonic order",e,"\nUsing ambisonicOrder=1 instead."),e=1):e<1?(zd("Error: Unable to render ambisonic order",e,"(Min order is 1)","\nUsing min order instead."),e=1):e>wd&&(zd("Error: Unable to render ambisonic order",e,"(Max order is",wd,")\nUsing max order instead."),e=wd),e}setAmbisonicOrder(e){this.ambisonicOrder=Yd.validateAmbisonicOrder(e),this.input.disconnect();for(let e=0;e<this.channelGain.length;e++)this.channelGain[e].disconnect();null!=this.merger&&this.merger.disconnect();let t=(this.ambisonicOrder+1)*(this.ambisonicOrder+1);this.merger=this.context.createChannelMerger(t),this.channelGain=new Array(t);for(let e=0;e<t;e++)this.channelGain[e]=this.context.createGain(),this.input.connect(this.channelGain[e]),this.channelGain[e].connect(this.merger,0,e);this.merger.connect(this.output)}dispose(){this.merger.disconnect(this.output);let e=(this.ambisonicOrder+1)*(this.ambisonicOrder+1);for(let t=0;t<e;++t)this.channelGain[t].disconnect(this.merger,0,t),this.input.disconnect(this.channelGain[t])}setDirection(e,t){(null==e||isNaN(e))&&(e=0),(null==t||isNaN(t))&&(t=0),this.azimuth=e,this.elevation=t,(e=Math.round(e%360))<0&&(e+=360),t=Math.round(Math.min(90,Math.max(-90,t)))+90,this.channelGain[0].gain.value=bd[this.spreadIndex][0];for(let i=1;i<=this.ambisonicOrder;i++){let n=bd[this.spreadIndex][i];for(let s=-i;s<=i;s++){const r=i*i+i+s,o=i*(i+1)/2+Math.abs(s)-1;let a=vd[1][t][o];if(0!=s){let t=wd+s-1;s<0&&(t=wd+s),a*=vd[0][e][t]}this.channelGain[r].gain.value=a*n}}}setSourceWidth(e){this.spreadIndex=Math.min(359,Math.max(0,Math.round(e))),this.setDirection(this.azimuth,this.elevation)}}function Xd(...e){const t=`[Omnitone] ${e.join(" ")}`;window.console.log(t)}var Jd;!function(e){e.BASE64="base64",e.URL="url"}(Jd||(Jd={}));class Zd{constructor(e,t,i){this._context=e,this._options=Object.assign({},{dataType:Jd.BASE64,verbose:!1},i),this._bufferData=this._options.dataType===Jd.BASE64?t:t.slice(0)}async load(){try{const e=this._bufferData.map((async e=>{try{return await this._launchAsyncLoadTask(e)}catch(t){const i='BufferList: error while loading "'+e+'". ('+t.message+")";throw new Error(i)}}));return await Promise.all(e)}catch(e){const t='BufferList: error while loading ". ('+e.message+")";throw new Error(t)}}async _launchAsyncLoadTask(e){const t=await this._fetch(e);return await this._context.decodeAudioData(t)}async _fetch(e){if(this._options.dataType===Jd.BASE64)return function(e){const t=window.atob(e),i=new Uint8Array(t.length);for(let e=0;e<i.length;++e)i[e]=t.charCodeAt(e);return i.buffer}(e);{const t=await fetch(e);return await t.arrayBuffer()}}}class qd{constructor(e,t){this._context=e,this._active=!1,this._isBufferLoaded=!1,this._buildAudioGraph(),t&&this.setHRIRBufferList(t),this.enable()}_buildAudioGraph(){this._splitterWYZX=this._context.createChannelSplitter(4),this._mergerWY=this._context.createChannelMerger(2),this._mergerZX=this._context.createChannelMerger(2),this._convolverWY=this._context.createConvolver(),this._convolverZX=this._context.createConvolver(),this._splitterWY=this._context.createChannelSplitter(2),this._splitterZX=this._context.createChannelSplitter(2),this._inverter=this._context.createGain(),this._mergerBinaural=this._context.createChannelMerger(2),this._summingBus=this._context.createGain(),this._splitterWYZX.connect(this._mergerWY,0,0),this._splitterWYZX.connect(this._mergerWY,1,1),this._splitterWYZX.connect(this._mergerZX,2,0),this._splitterWYZX.connect(this._mergerZX,3,1),this._mergerWY.connect(this._convolverWY),this._mergerZX.connect(this._convolverZX),this._convolverWY.connect(this._splitterWY),this._convolverZX.connect(this._splitterZX),this._splitterWY.connect(this._mergerBinaural,0,0),this._splitterWY.connect(this._mergerBinaural,0,1),this._splitterWY.connect(this._mergerBinaural,1,0),this._splitterWY.connect(this._inverter,1,0),this._inverter.connect(this._mergerBinaural,0,1),this._splitterZX.connect(this._mergerBinaural,0,0),this._splitterZX.connect(this._mergerBinaural,0,1),this._splitterZX.connect(this._mergerBinaural,1,0),this._splitterZX.connect(this._mergerBinaural,1,1),this._convolverWY.normalize=!1,this._convolverZX.normalize=!1,this._inverter.gain.value=-1,this.input=this._splitterWYZX,this.output=this._summingBus}dispose(){this._active&&this.disable(),this._splitterWYZX.disconnect(this._mergerWY,0,0),this._splitterWYZX.disconnect(this._mergerWY,1,1),this._splitterWYZX.disconnect(this._mergerZX,2,0),this._splitterWYZX.disconnect(this._mergerZX,3,1),this._mergerWY.disconnect(this._convolverWY),this._mergerZX.disconnect(this._convolverZX),this._convolverWY.disconnect(this._splitterWY),this._convolverZX.disconnect(this._splitterZX),this._splitterWY.disconnect(this._mergerBinaural,0,0),this._splitterWY.disconnect(this._mergerBinaural,0,1),this._splitterWY.disconnect(this._mergerBinaural,1,0),this._splitterWY.disconnect(this._inverter,1,0),this._inverter.disconnect(this._mergerBinaural,0,1),this._splitterZX.disconnect(this._mergerBinaural,0,0),this._splitterZX.disconnect(this._mergerBinaural,0,1),this._splitterZX.disconnect(this._mergerBinaural,1,0),this._splitterZX.disconnect(this._mergerBinaural,1,1)}setHRIRBufferList(e){this._isBufferLoaded||(this._convolverWY.buffer=e[0],this._convolverZX.buffer=e[1],this._isBufferLoaded=!0)}enable(){this._mergerBinaural.connect(this._summingBus),this._active=!0}disable(){this._mergerBinaural.disconnect(),this._active=!1}}class Kd{constructor(e){this._context=e,this._splitter=this._context.createChannelSplitter(4),this._inX=this._context.createGain(),this._inY=this._context.createGain(),this._inZ=this._context.createGain(),this._m0=this._context.createGain(),this._m1=this._context.createGain(),this._m2=this._context.createGain(),this._m3=this._context.createGain(),this._m4=this._context.createGain(),this._m5=this._context.createGain(),this._m6=this._context.createGain(),this._m7=this._context.createGain(),this._m8=this._context.createGain(),this._outX=this._context.createGain(),this._outY=this._context.createGain(),this._outZ=this._context.createGain(),this._merger=this._context.createChannelMerger(4),this._splitter.connect(this._inX,1),this._splitter.connect(this._inY,2),this._splitter.connect(this._inZ,3),this._inX.gain.value=-1,this._inY.gain.value=-1,this._inZ.gain.value=-1,this._inX.connect(this._m0),this._inX.connect(this._m1),this._inX.connect(this._m2),this._inY.connect(this._m3),this._inY.connect(this._m4),this._inY.connect(this._m5),this._inZ.connect(this._m6),this._inZ.connect(this._m7),this._inZ.connect(this._m8),this._m0.connect(this._outX),this._m1.connect(this._outY),this._m2.connect(this._outZ),this._m3.connect(this._outX),this._m4.connect(this._outY),this._m5.connect(this._outZ),this._m6.connect(this._outX),this._m7.connect(this._outY),this._m8.connect(this._outZ),this._splitter.connect(this._merger,0,0),this._outX.connect(this._merger,0,1),this._outY.connect(this._merger,0,2),this._outZ.connect(this._merger,0,3),this._outX.gain.value=-1,this._outY.gain.value=-1,this._outZ.gain.value=-1,this.setRotationMatrix3(n(t())),this.input=this._splitter,this.output=this._merger}dispose(){this._splitter.disconnect(this._inX,1),this._splitter.disconnect(this._inY,2),this._splitter.disconnect(this._inZ,3),this._inX.disconnect(this._m0),this._inX.disconnect(this._m1),this._inX.disconnect(this._m2),this._inY.disconnect(this._m3),this._inY.disconnect(this._m4),this._inY.disconnect(this._m5),this._inZ.disconnect(this._m6),this._inZ.disconnect(this._m7),this._inZ.disconnect(this._m8),this._m0.disconnect(this._outX),this._m1.disconnect(this._outY),this._m2.disconnect(this._outZ),this._m3.disconnect(this._outX),this._m4.disconnect(this._outY),this._m5.disconnect(this._outZ),this._m6.disconnect(this._outX),this._m7.disconnect(this._outY),this._m8.disconnect(this._outZ),this._splitter.disconnect(this._merger,0,0),this._outX.disconnect(this._merger,0,1),this._outY.disconnect(this._merger,0,2),this._outZ.disconnect(this._merger,0,3)}setRotationMatrix3(e){this._m0.gain.value=e[0],this._m1.gain.value=e[1],this._m2.gain.value=e[2],this._m3.gain.value=e[3],this._m4.gain.value=e[4],this._m5.gain.value=e[5],this._m6.gain.value=e[6],this._m7.gain.value=e[7],this._m8.gain.value=e[8]}setRotationMatrix4(e){this._m0.gain.value=e[0],this._m1.gain.value=e[1],this._m2.gain.value=e[2],this._m3.gain.value=e[4],this._m4.gain.value=e[5],this._m5.gain.value=e[6],this._m6.gain.value=e[8],this._m7.gain.value=e[9],this._m8.gain.value=e[10]}getRotationMatrix3(){return i($d,this._m0.gain.value,this._m1.gain.value,this._m2.gain.value,this._m3.gain.value,this._m4.gain.value,this._m5.gain.value,this._m6.gain.value,this._m7.gain.value,this._m8.gain.value),$d}getRotationMatrix4(){return r(eg,this._m0.gain.value,this._m1.gain.value,this._m2.gain.value,0,this._m3.gain.value,this._m4.gain.value,this._m5.gain.value,0,this._m6.gain.value,this._m7.gain.value,this._m8.gain.value,0,0,0,0,1),eg}}const $d=t(),eg=s();var tg;!function(e){e[e.Default=0]="Default",e[e.Safari=1]="Safari",e[e.FUMA=2]="FUMA"}(tg||(tg={}));const ig={[tg.Default]:[0,1,2,3],[tg.Safari]:[2,0,1,3],[tg.FUMA]:[0,3,1,2]};class ng{constructor(e,t){this._context=e,this._splitter=this._context.createChannelSplitter(4),this._merger=this._context.createChannelMerger(4),this.input=this._splitter,this.output=this._merger,this.setChannelMap(t||tg.Default)}setChannelMap(e){this._channelMap=e instanceof Array?e:ig[e],this._splitter.disconnect(),this._splitter.connect(this._merger,0,this._channelMap[0]),this._splitter.connect(this._merger,1,this._channelMap[1]),this._splitter.connect(this._merger,2,this._channelMap[2]),this._splitter.connect(this._merger,3,this._channelMap[3])}dispose(){this._splitter.disconnect(this._merger,0,this._channelMap[0]),this._splitter.disconnect(this._merger,1,this._channelMap[1]),this._splitter.disconnect(this._merger,2,this._channelMap[2]),this._splitter.disconnect(this._merger,3,this._channelMap[3])}}var sg=["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"];class rg{constructor(e,t){if(this.context=e,this.config=Object.assign({channelMap:tg.Default,renderingMode:md.Ambisonic},t),this.config.channelMap instanceof Array&&4!==this.config.channelMap.length)throw new Error("FOARenderer: Invalid channel map. (got "+this.config.channelMap+")");if(this.config.hrirPathList&&2!==this.config.hrirPathList.length)throw new Error("FOARenderer: Invalid HRIR URLs. It must be an array with 2 URLs to HRIR files. (got "+this.config.hrirPathList+")");this.buildAudioGraph()}buildAudioGraph(){this.input=this.context.createGain(),this.output=this.context.createGain(),this.bypass=this.context.createGain(),this.router=new ng(this.context,this.config.channelMap),this.rotator=new Kd(this.context),this.convolver=new qd(this.context),this.input.connect(this.router.input),this.input.connect(this.bypass),this.router.output.connect(this.rotator.input),this.rotator.output.connect(this.convolver.input),this.convolver.output.connect(this.output),this.input.channelCount=4,this.input.channelCountMode="explicit",this.input.channelInterpretation="discrete"}dispose(){this.getRenderingMode()===md.Bypass&&this.bypass.connect(this.output),this.input.disconnect(this.router.input),this.input.disconnect(this.bypass),this.router.output.disconnect(this.rotator.input),this.rotator.output.disconnect(this.convolver.input),this.convolver.output.disconnect(this.output),this.convolver.dispose(),this.rotator.dispose(),this.router.dispose()}async initialize(){const e=this.config.hrirPathList?new Zd(this.context,this.config.hrirPathList,{dataType:Jd.URL}):new Zd(this.context,sg,{dataType:Jd.BASE64});try{const t=await e.load();this.convolver.setHRIRBufferList(t),this.setRenderingMode(this.config.renderingMode)}catch(e){const t=`FOARenderer: HRIR loading/decoding (mode: ${this.config.renderingMode}) failed. Reason: ${e.message}`;throw new Error(t)}}setChannelMap(e){e.toString()!==this.config.channelMap.toString()&&(Xd("Remapping channels (["+this.config.channelMap.toString()+"] -> ["+e.toString()+"])."),this.config.channelMap=e instanceof Array?e.slice():e,this.router.setChannelMap(this.config.channelMap))}setRotationMatrix3(e){this.rotator.setRotationMatrix3(e)}setRotationMatrix4(e){this.rotator.setRotationMatrix4(e)}getRenderingMode(){return this.config.renderingMode}setRenderingMode(e){if(e!==this.config.renderingMode){switch(e){case md.Ambisonic:this.convolver.enable(),this.bypass.disconnect();break;case md.Bypass:this.convolver.disable(),this.bypass.connect(this.output);break;case md.None:this.convolver.disable(),this.bypass.disconnect();break;default:return void Xd('FOARenderer: Rendering mode "'+e+'" is not supported.')}this.config.renderingMode=e}}}class og{constructor(e,t,i){this._active=!1,this._isBufferLoaded=!1,this._context=e,this._ambisonicOrder=t,this._numberOfChannels=(this._ambisonicOrder+1)*(this._ambisonicOrder+1),this._buildAudioGraph(),i&&this.setHRIRBufferList(i),this.enable()}_buildAudioGraph(){const e=Math.ceil(this._numberOfChannels/2);this._inputSplitter=this._context.createChannelSplitter(this._numberOfChannels),this._stereoMergers=[],this._convolvers=[],this._stereoSplitters=[],this._positiveIndexSphericalHarmonics=this._context.createGain(),this._negativeIndexSphericalHarmonics=this._context.createGain(),this._inverter=this._context.createGain(),this._binauralMerger=this._context.createChannelMerger(2),this._outputGain=this._context.createGain();for(let t=0;t<e;++t)this._stereoMergers[t]=this._context.createChannelMerger(2),this._convolvers[t]=this._context.createConvolver(),this._stereoSplitters[t]=this._context.createChannelSplitter(2),this._convolvers[t].normalize=!1;for(let e=0;e<=this._ambisonicOrder;++e)for(let t=-e;t<=e;t++){const i=e*e+e+t,n=Math.floor(i/2);this._inputSplitter.connect(this._stereoMergers[n],i,i%2),this._stereoMergers[n].connect(this._convolvers[n]),this._convolvers[n].connect(this._stereoSplitters[n]),t>=0?this._stereoSplitters[n].connect(this._positiveIndexSphericalHarmonics,i%2):this._stereoSplitters[n].connect(this._negativeIndexSphericalHarmonics,i%2)}this._positiveIndexSphericalHarmonics.connect(this._binauralMerger,0,0),this._positiveIndexSphericalHarmonics.connect(this._binauralMerger,0,1),this._negativeIndexSphericalHarmonics.connect(this._binauralMerger,0,0),this._negativeIndexSphericalHarmonics.connect(this._inverter),this._inverter.connect(this._binauralMerger,0,1),this._inverter.gain.value=-1,this.input=this._inputSplitter,this.output=this._outputGain}dispose(){this._active&&this.disable();for(let e=0;e<=this._ambisonicOrder;++e)for(let t=-e;t<=e;t++){const i=e*e+e+t,n=Math.floor(i/2);this._inputSplitter.disconnect(this._stereoMergers[n],i,i%2),this._stereoMergers[n].disconnect(this._convolvers[n]),this._convolvers[n].disconnect(this._stereoSplitters[n]),t>=0?this._stereoSplitters[n].disconnect(this._positiveIndexSphericalHarmonics,i%2):this._stereoSplitters[n].disconnect(this._negativeIndexSphericalHarmonics,i%2)}this._positiveIndexSphericalHarmonics.disconnect(this._binauralMerger,0,0),this._positiveIndexSphericalHarmonics.disconnect(this._binauralMerger,0,1),this._negativeIndexSphericalHarmonics.disconnect(this._binauralMerger,0,0),this._negativeIndexSphericalHarmonics.disconnect(this._inverter),this._inverter.disconnect(this._binauralMerger,0,1)}setHRIRBufferList(e){if(!this._isBufferLoaded){for(let t=0;t<e.length;++t)this._convolvers[t].buffer=e[t];this._isBufferLoaded=!0}}enable(){this._binauralMerger.connect(this._outputGain),this._active=!0}disable(){this._binauralMerger.disconnect(),this._active=!1}}function ag(e,t){return e===t?1:0}function cg(e,t,i){return(i+e)*(2*e+1)+(t+e)}function Ag(e,t,i,n,s){const r=cg(t,i,n);e[t-1][r].gain.value=s}function lg(e,t,i,n){const s=cg(t,i,n);return e[t-1][s].gain.value}function hg(e,t,i,n,s){return n===s?lg(e,1,t,1)*lg(e,s-1,i,s-1)-lg(e,1,t,-1)*lg(e,s-1,i,1-s):n===-s?lg(e,1,t,1)*lg(e,s-1,i,1-s)+lg(e,1,t,-1)*lg(e,s-1,i,s-1):lg(e,1,t,0)*lg(e,s-1,i,n)}function ug(e,t,i,n){return hg(e,0,t,i,n)}function dg(e,t,i,n){if(0===t)return hg(e,1,1,i,n)+hg(e,-1,-1,i,n);if(t>0){const s=ag(t,1);return hg(e,1,t-1,i,n)*Math.sqrt(1+s)-hg(e,-1,1-t,i,n)*(1-s)}{const s=ag(t,-1);return hg(e,1,t+1,i,n)*(1-s)+hg(e,-1,-t-1,i,n)*Math.sqrt(1+s)}}function gg(e,t,i,n){return 0===t?0:t>0?hg(e,1,t+1,i,n)+hg(e,-1,-t-1,i,n):hg(e,1,t-1,i,n)-hg(e,-1,1-t,i,n)}function pg(e,t,i){const n=ag(e,0),s=Math.abs(t)===i?1/(2*i*(2*i-1)):1/((i+t)*(i-t));return A(fg,Math.sqrt((i+e)*(i-e)*s),.5*(1-2*n)*Math.sqrt((1+n)*(i+Math.abs(e)-1)*(i+Math.abs(e))*s),-.5*(1-n)*Math.sqrt((i-Math.abs(e)-1)*(i-Math.abs(e)))*s),fg}const fg=o();function mg(e,t){for(let i=-t;i<=t;i++)for(let n=-t;n<=t;n++){const s=pg(i,n,t);Math.abs(s[0])>0&&(s[0]*=ug(e,i,n,t)),Math.abs(s[1])>0&&(s[1]*=dg(e,i,n,t)),Math.abs(s[2])>0&&(s[2]*=gg(e,i,n,t)),Ag(e,t,i,n,s[0]+s[1]+s[2])}}function vg(e){for(let t=2;t<=e.length;t++)mg(e,t)}class wg{constructor(e,i){this._context=e,this._ambisonicOrder=i;const s=(i+1)*(i+1);this._splitter=this._context.createChannelSplitter(s),this._merger=this._context.createChannelMerger(s),this._gainNodeMatrix=[];for(let e=1;e<=i;e++){const t=e*e,i=2*e+1;this._gainNodeMatrix[e-1]=[];for(let n=0;n<i;n++){const s=t+n;for(let r=0;r<i;r++){const o=t+r,a=n*i+r;this._gainNodeMatrix[e-1][a]=this._context.createGain(),this._splitter.connect(this._gainNodeMatrix[e-1][a],s),this._gainNodeMatrix[e-1][a].connect(this._merger,0,o)}}}this._splitter.connect(this._merger,0,0),this.setRotationMatrix3(n(t())),this.input=this._splitter,this.output=this._merger}dispose(){for(let e=1;e<=this._ambisonicOrder;e++){const t=e*e,i=2*e+1;for(let n=0;n<i;n++){const s=t+n;for(let r=0;r<i;r++){const o=t+r,a=n*i+r;this._splitter.disconnect(this._gainNodeMatrix[e-1][a],s),this._gainNodeMatrix[e-1][a].disconnect(this._merger,0,o)}}}this._splitter.disconnect(this._merger,0,0)}setRotationMatrix3(e){this._gainNodeMatrix[0][0].gain.value=e[0],this._gainNodeMatrix[0][1].gain.value=e[1],this._gainNodeMatrix[0][2].gain.value=e[2],this._gainNodeMatrix[0][3].gain.value=e[3],this._gainNodeMatrix[0][4].gain.value=e[4],this._gainNodeMatrix[0][5].gain.value=e[5],this._gainNodeMatrix[0][6].gain.value=e[6],this._gainNodeMatrix[0][7].gain.value=e[7],this._gainNodeMatrix[0][8].gain.value=e[8],vg(this._gainNodeMatrix)}setRotationMatrix4(e){this._gainNodeMatrix[0][0].gain.value=e[0],this._gainNodeMatrix[0][1].gain.value=e[1],this._gainNodeMatrix[0][2].gain.value=e[2],this._gainNodeMatrix[0][3].gain.value=e[4],this._gainNodeMatrix[0][4].gain.value=e[5],this._gainNodeMatrix[0][5].gain.value=e[6],this._gainNodeMatrix[0][6].gain.value=e[8],this._gainNodeMatrix[0][7].gain.value=e[9],this._gainNodeMatrix[0][8].gain.value=e[10],vg(this._gainNodeMatrix)}getRotationMatrix3(){return i(bg,this._gainNodeMatrix[0][0].gain.value,this._gainNodeMatrix[0][1].gain.value,this._gainNodeMatrix[0][2].gain.value,this._gainNodeMatrix[0][3].gain.value,this._gainNodeMatrix[0][4].gain.value,this._gainNodeMatrix[0][5].gain.value,this._gainNodeMatrix[0][6].gain.value,this._gainNodeMatrix[0][7].gain.value,this._gainNodeMatrix[0][8].gain.value),bg}getRotationMatrix4(){return r(Dg,this._gainNodeMatrix[0][0].gain.value,this._gainNodeMatrix[0][1].gain.value,this._gainNodeMatrix[0][2].gain.value,0,this._gainNodeMatrix[0][3].gain.value,this._gainNodeMatrix[0][4].gain.value,this._gainNodeMatrix[0][5].gain.value,0,this._gainNodeMatrix[0][6].gain.value,this._gainNodeMatrix[0][7].gain.value,this._gainNodeMatrix[0][8].gain.value,0,0,0,0,1),Dg}getAmbisonicOrder(){return this._ambisonicOrder}}const bg=t(),Dg=s();var yg=["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/P////v//P8CAAQA+//+//3//f8CAAUA+v/9//////8AAAQA+v/8////AAD//wIA+//8/wAAAQD+/wEA+//8/wAAAgD9/////P/9/wEAAgD8//7//f/9/wAAAgD8//3//v/+////AQD8//z/////////AAD8//3///8AAP7/AAD9//7///8AAP7////+//////8AAP7////+////////////////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD//////v8AAP///////wAAAAAAAP7/AQABAAAABwD///X/BQAjAPL/CQDb/9D/GAAb/7sAYwCW/z0BcP/X/7T/2QDW+wH8yANCCCUJ5QT++UXmhPwhA78FuAxH+p78ifudBlAG9vmu/lAK2fdlB///cfjoCa0E7Akn9Yb/zvba+AkAHPywBGEBFwUNAL8AXAAGA20DFvmR/kz+F/06Ag/+GwHl/5EEKgJd/q0AP/ym/9n6EfxY/2H+/QFtAC4C6QBDAaMCo/20/+3/3f/p/fL9rv9V/6cBhQHuAX4AcwJYAaH/IP/P/gsApP0LAe7/sQBuAI0AAgGDAE4BzACe/5X//v+v/+f+Zf+gAOv/5QBhAOIApAANASYAuP+h/8b/HQBr/9//bACWAGEAFAB5AD0AWQDU/+D/Yf/p//D/s/+R/4QAMQBvABEAkQBfABQAJgDW/wwA8/8XALz/vf8zAFAAKwD1/zEAPwDJ/x0A7/8LAOX/FwDR//H/EQAdAO//6P8QAFEA2f8WABEAMgDy/xIA+f/s/xAALgDv////HQAvAPT/+f8iAAYAEgAFABoAGgD//w0A+f/0/xsAHgDx/9f/GAACAPH/8f8JAPf/GwALABEA7/8cAPT/CgD2//j/BQD8/+3/OgAgAAYA9f8PAN7/DgD9/9r/1//3/+3/9//1//b/8//5//f/AgAJAOf/+v8OAAMACwD9/+7/5f8eAAEA9//q//7/8P8WAP7/+//4/wIA+f8TAAIA9f/5/wcA+P8iAAgA9v/n/xoA//8gAAUABwDj/wAA9v8BAAUAFQDn/wMA7v8QABAAEQDm/wwA8f8aAAAABwDu/wcACgASAAEA7//w//f/BgARAAkA6P/3/wcADgAKAAYA4f/4/wYADgAAAPr/8P/9/xQACgAHAPn/7//9/xEAAgD+//L/8v/8/xUAAwDw//H/9f8CAAsA/v/q//L/+f8FAAYA/P/r//j///8GAAkA+//o//j/AQAIAP//+v/o//v/CAAIAPv/+P/w/wEACQAHAPj/+f/0/wIACwAFAPb/+f/4/wQACwACAPP/+f/+/wYACAD///L/+/8BAAYABQD9//P//P8FAAUAAgD7//T//f8HAAQA///7//f///8IAAMA/P/6//r/AQAIAAEA+v/6//3/AgAHAAAA+f/7/wAAAwAFAP7/+P/8/wIAAgACAP3/+f/9/wMAAwAAAPz/+v/+/wQAAgD+//z/+/8AAAQAAQD8//z//f8BAAQAAAD7//3///8BAAMA///7//3/AAACAAEA/v/7//7/AQABAAAA/v/9////AQAAAP///v/+////AAD/////////////////////////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD////////+//////8AAAAA/v/+/wAAAQD8//3/CQAJAP3/+v8PAAcApABlABkBkwCO/i//lfqa/HQAcf/3BdkCzwJcBCMC0wMN/9/9wgI7AaECYfxV/Tf83vhn/xrt8Owx/8n7cgHABYb43QcZDh4WugNrA7P74gHu/9z/zv0t/acCiQHY/iv4qQOl/ysCE/0//XT9Sf4O//j9xfupAn394gHO+rsCXAFIAxQC9wIXBgcD2AQuAnb/9gJh/6wAVfxEAI4Bvf7oAFv/bALsAMQBe/88/joAT/4dAH39/v9LAXn/gwDI//QBdABcAA0A7f4lAMn///+9/tv/iABp/13/pP/dALv/w/8MAHv//f+y/6////7U/5AAZP+Z/8r/nQDR/5r/DwDr/xAA4v+s/3z/+P9uAOv/t/82AGcAHgCb/yQAFQBGAM7/CgD3/xoAegAaAOz/CgBHAA8Adv8/AAAABQC2/xIAAAA7ABQAKgCj/z4AAQAXAJz/JAADAAcA8f/1/2AAAQAlAPD/NgDx/1wA7v/4/wMAZADv//3/HQAkAFoA8P9FAPv/FgBIAPf/WQAHAEUACQD0/xIAQwDu/wMAwP9VALn/XwCw/yEA5f8sAPj/FgDD/1YAyv8rAOX/HQDo//j/IQAQACAAHwD9/yQAHQBAABgABQAiAAUAKAD3/wkACwAKAAMABwAJAPb/+f8GAOr/JQAHABMA6P8TAA4AGgD//woA8/8ZAP//GADu/w0A9v8SAAMABwD4/wQA5P8XAAQACgDq/wUA+/8VAAcACADs/xIAAAATAPH/+v/1//T/7f///+z/+v/y/+//9/8KAAcACgAJAPT/BAAKAAAABgAIAPL/9v8KAAMABAACAPr/9v8OAAIA+P/x//v/+f8MAPb/+P/w/wQA9f8MAPn////7/woA/v8PAAEAAgD1/xAAAQAPAP//AwD//xQABwALAAAABgADABAAAgAHAAAACAABAA8ABQAFAAMABwAEAA4ABwADAAEACQAFAAoAAwD//wAACQADAAUAAQD/////CAABAAMAAAD/////BwACAAEAAAD/////BwACAP7///8BAAAABgABAP7///8CAAAABAAAAP7///8DAAAAAwAAAP3///8DAAAAAQAAAP3//v8EAAAAAAD+//////8EAP/////+/wAA/v8EAP/////+/wEA/v8EAP///v/+/wIA//8DAP///v/+/wIA//8BAP///v/+/wMA//8BAP/////+/wMA//8AAP//AAD+/wQA//8AAP7/AQD//wIA////////AQD//wIA////////AQAAAAEAAAAAAP//AQD//wEAAAAAAP//AQAAAAEAAAAAAAAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAD+/wAA+v8AAPz/AAD//wAA/f8AAAEAAAD+/wAACQAAAAQAAAAZAAAAtgAAAFsBAABW/gAAH/oAAGcBAABoBwAAlAAAAO3/AAARAQAA+wIAAEoEAACe/gAAiv4AALD0AADJ8wAAkQQAAF34AABi8QAAPQAAAAH2AAD19AAADAMAAJwGAACTEAAA0AwAAJkHAACOBwAAuQEAANcDAAC6AgAAHwUAAHEFAAB0AwAAbgEAADz+AADYAQAAGAAAAJwCAADgAAAA//0AAMn+AAAT/AAAwP8AAOn9AAAJAAAAewEAAOn+AACN/wAAOv0AAO3+AADN/gAAcP8AACj/AACq/gAA+f4AAML9AACa/wAA/f4AAN7/AABo/wAA6/4AAE//AAAC/wAAEQAAAHX/AAB0AAAA5f8AAEwAAAB3AAAA5/8AAMIAAABCAAAAzgAAAE8AAAB3AAAAKAAAADMAAACqAAAALwAAAK4AAAASAAAAVgAAACgAAAAtAAAATAAAAP3/AAA7AAAA2/8AACQAAADw/wAALQAAADEAAAAlAAAAbAAAADMAAABUAAAAEAAAACgAAAD1/wAA9v8AAPr/AADu/wAALgAAABIAAABUAAAARAAAAGUAAABGAAAAOAAAAGAAAAAuAAAARQAAACEAAAAfAAAAAAAAAAkAAAAQAAAAAwAAABIAAADs/wAAEAAAAAYAAAASAAAAIgAAABEAAAADAAAABAAAAA8AAAD4/wAAHQAAAAsAAAAIAAAADgAAAP//AAAcAAAADwAAAAYAAAASAAAAFwAAAAMAAAAYAAAAEgAAAPr/AAAQAAAADQAAAAoAAAD3/wAABgAAAPb/AADf/wAA/v8AAPL/AAD6/wAAFAAAAAQAAAAEAAAAGwAAAAEAAAAMAAAAIAAAAAIAAAAdAAAAGAAAAAIAAAAcAAAAEgAAAAcAAAAeAAAADwAAAAQAAAAeAAAABAAAAAYAAAAZAAAAAQAAAA4AAAATAAAA/v8AAAoAAAAOAAAA+/8AAAsAAAAJAAAA+f8AAAsAAAABAAAA+f8AAAoAAAD9/wAA+v8AAAcAAAD5/wAA+v8AAAUAAAD3/wAA/f8AAAQAAAD2/wAAAAAAAAEAAAD3/wAAAgAAAAAAAAD4/wAAAwAAAP7/AAD6/wAABAAAAP3/AAD8/wAABAAAAPv/AAD+/wAAAwAAAPv/AAD//wAAAQAAAPv/AAAAAAAAAAAAAPv/AAACAAAA//8AAPz/AAACAAAA/v8AAP3/AAACAAAA/f8AAP7/AAABAAAA/f8AAP//AAABAAAA/f8AAAAAAAAAAAAA/v8AAAEAAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAAAAAA"],Pg=["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AAD7/wEAAgD7//7/AQD8/wAAAwD8//3/AwD9/wAAAgD9//z/AwD/////AgD+//z/AwAAAP7/AQD///3/AgABAP3/AAAAAP3/AgACAPz///8BAP3/AQACAP3//v8BAP7/AAABAP3//v8CAP7///8BAP7//f8CAP////8AAAAA/v8CAAAAAAAAAAAA/v8BAAAAAAD//wAA//8AAP//AAD//wAA//8AAP//","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAP//AAD//wAA//8AAAAA/////wAAAQD+////AAAGAP3/OAABAIIAAwBv//f/E/0QAK0ADQCzA/7/8P4u/0cBDQCJA6ABbQDg/w7/z/9o+Vn/SPnL/1//Ef+2+jr9RfZgA5QFZwILDFj+PAb2/nEFKgKk/R0Dlv6b/FUDsP6YAoj9SgAT/iL/tAPwAv8A0P6zAr7/dwAnAf39uP22/skA2v///2YCoP4UAUsAZgF2AJH+4P70/rz9+f+U/Xv/8v7CAcb+TACS/kwAv/+x/tX9oP71/oL/1f8nAEUAZwGtAAgAIgC/AD4BaP8GAGH/dQDF/64Arf8nAakAhAH9/+kAQQD3AFb/q/8p/yIAR/8FAPD/ZAA/AIYA3v8tADQADQBp/3f/CwABAP3/Wf8OANj/WwDH/xoAe/8DAKz/zv96/z8A3f/J/5X/IAD5//j/q//c/+//RADq//D/vv8pADUAFQDI/y8ACAAbANb/OwD3/+3/9f/e/wcAIAAeAMH/8/8xAC0AEADW/+3/HAADAPv/8P8DAOL/OwD3/xcACQAHAM//5f8XAAcAz//T/9D/HgD9////yf/e//v/AgD//9H/6/////H/+/8hAAIA9//7/w0AFgAQAPL/2v/8/xsAGQABANz/9P8YAAQA/v/y/wMA5v8YAAkAAAAAAAMA7/8KABgADwDs//j/BwATABsA8P/1//z/BAAMAAAA9P/s/xAA/v8GAAkA/v/p/wMACwALAP7/9P/p/wcADQAFAPb/7//4/w0ACAD8//b//v/1/wMACwD1//T/8P/8/wAACQDz/+f/5P8GAAkABQD5//D/+v8FAA0AAwD///T/AgACABAA/v8CAPD/+/8FAAoA9f/3//f//v8GAP7/9v/t//z/+f8AAPj/+v/3/wEA+v8HAPr//P/5/wQA//8DAPr/+P/3/wYA///+//X/+//5/wQA/f/7//X/+//4/wMA/f/8//j//v/9/wYA///8//f/AgAAAAUA/f/6//n/AwACAAIA/f/7//z/AwACAAAA/f/6//3/AgADAP7//f/7/wAAAwAFAPz////8/wMAAgAEAPv//v/+/wMAAgADAPv//v///wMAAQABAPv//f8AAAIAAAD///v//f8BAAIA///+//z//v8CAAIA/v/9//3///8CAAEA/v/9//7/AAACAAAA/v/9////AAABAAAA/f/9/wAAAQABAP///f/+/wEAAQAAAP///v/+/wEAAQD///7//v///wEAAQD///7//v///wEAAAD+//7///8AAAAAAAD+//7///8AAAAA///+//7///8AAAAA////////AAAAAP////////////8AAP//////////","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAAAAAAABAAAAAAD//////////////v////3/////////+//8////AQD9//z/9f8BAAIA+f8dACgAWQBxAJX/qv+Y/uz9aP9k/7UDUQQBAiQA4Pgi/AkB0gKaBsD/+fxp/vz9CQSp/I/+ywDO+vMD0fzK/PABcgBeBfoBv/+uAuH9Sf5gAy39awMmBWUBuP9fA9/9fgDj/2/+EACaACcCSv9Z/2j/rv7hAA0AWf55/7L84P7E/SIAT/67AMv/tf+FAA7/1v+7/gv/IP+E/sQA+P5aAXz/tP9XAFX/tP8o/4r/j//e/yQAMv9mAJT/rgCr/9X/EwCb//H/9f7F/6D/EAAoAK3//v+e/zsAh/+B/7r/if/C/2r/4P/z/6//HwCy/0IA7/9ZALT/y/80ACgA9v/J/9//DgA5ADUALQARADIACwAfAOf/NgArACMACQBBAEcAGAAjAC4AWQBUAHcAAAAfACEAIAAcAPj/CADk/yQA7v89AEEAFwD5/xYA6f8aAOX/AADF/zQADwAUAOT/BQDr/yUA6P8XAOf/HADR/0AA8P8nAAgACQDt/ycAKAAHAPH/IQDz/xsACADn//n/DgADAA4A8P///8z/GgDN/yMA/f8QANj/MwACAC0ACwAOAO3/JgAZAAUACgAAAA4AIgAaAAkADwACAAAAHQATAAUABQACAAgACwAjAO////8AAA8ABQAPAPL//f8GAAsABgAGAPD/8v8GAPz/CAD6//H/6v8PAAgABgD4//3/9v8aAAgABwD1//7//v8QAAoACAD//wUA9v8QAAoABAAFAAgAAgAJAAoAAwD//w0AAgD//wcA/v8DAAoABQAFABUABAAKAAYABwAHAA8ACgAGAAwADwAMAAkAEAAJAAgADwAMAAgADgAJAAUACQAPAAUACwAHAAEABgAIAAEABAAGAP//AgAJAAAAAgAEAP7///8IAAIA//8GAAEAAQAJAAIA/v8EAAMA//8JAAEA/v8DAAMA/v8HAAMA/f8BAAUA/v8FAAMA/v8BAAcA//8DAAMA/v8BAAYA//8CAAMA/////wcAAAAAAAMAAAD//wYAAQD+/wMAAQD//wUAAQD+/wIAAgD//wQAAgD+/wEAAwD//wMAAwD+/wEAAwD//wIAAwD//wEABAAAAAEABAD//wAABAABAAAAAwAAAAAABAABAP//AwABAAAAAwACAP//AgACAAAAAwACAP//AgACAAAAAgACAAAAAQADAAAAAQACAAAAAQADAAAAAQACAAAAAAACAAEAAAACAAEAAAACAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAABAAEAAAAAAAAAAAAAAAAA","UklGRiQEAABXQVZFZm10IBAAAAABAAIAgLsAAADuAgAEABAAZGF0YQAEAAAAAP//AAD//wAA//8AAAAA//8AAP//AAACAAAA+f8BAAYA///4/wIA//8AAA8A/v/V/wEAEwA9AAEBRwA2AF7/kfog/3gBwv99CDYBU/qtAUX/AP7OAfkAX/o9B38FSfwaAuT14/60BAr8CQAI/tfyIQTzAXP+egdUBBwBof7TBMT8bAWi/5EEWwBRAAAKyfxE/8b88vp6ACP+PAF4/qD8MQNM/ygCJ/2XAPD9kP5gAVT/iP9I/lEB4P8qAD0BFAGa/+7/DgB2AOP98gFm/u/+Vv5/AG8ASP9gAM//qv9w//oAcv+2/jIBHgA7/6D/oAAGAKH/lADT/wAAggC8AAYAkP9yAEcAkf8BAOD/RAAr/zUANwDt/xQAJQAkAMT/zwA/AOH/xv9zAGsANQBTAIcALAAvACIATACy/xMADADg/xcAWABvAJL/7f9VAPb/EgDt/wcA4f8kAPP/5P+h/wgACQDy//r/LgAQAMn/8/9CAOX/5v/S/9//3P8pABYAuP/s/w8AFgDt/+3/7v/w/9j/5/8GAOf/2P/2//P//v8kABMAuf/m/xoADADZ/+r/3P8KAAUAKwDe/wsA3P8VAAAADgAfAB0ACAAMAF4AGgAhAPL/MwDz/0kABAAKAPX/LwAbAAkA9v/s/+3/8/8CABAAAADm//n/BQALAAUAAQDj//n/JQAVAPX/9v/+/wIAEQABAPP/8P/1/wAABgD6/+3/7//o//j/DAD8/+b/8P8IAAkABgD4//D/8P8UAAoAAwD4/wAA+f8OAAcAAAAFAPX/9v8TAAkA8v8EAPb/9/8dAA0A7/8CAPn/+f8SAAQA8/8CAOf/+v8DAAgA9P////H//P8IAAUA8//0/wIAAQAGAAgA9//7/wAA+/8EAP//+P/+////AgACAAsA8v/+/wIABQD7/wgA9v/7/wMABAD5/wAA/P/3/wEAAQD7//7//P/1/wQA///3//r////3/wMAAwD1//r/AwD6////AgD4//n/AwD8//7/AgD4//n/AwD+//3/AQD4//n/BQD///n/AAD6//j/BAABAPj/AAD9//v/AwADAPj//v/+//z/AwAEAPj//v8BAP7/AQADAPj//f8CAP////8EAPr//P8DAAAA/v8CAPv//P8DAAEA/f8BAP3//f8DAAIA/P8AAP7//f8DAAIA/P///wAA/f8BAAIA+//+/wEA//8AAAEA+//+/wEA/////wEA/P/+/wEA///+/wAA/f/9/wEAAAD9/wAA/f/+/wEAAQD8/////v/+/wAAAQD8////////////AQD9////AAD/////AAD+////AAAAAP//AAD///////8AAP//AAD//wAA//8AAP//"];const Cg=[2,3];class Bg{constructor(e,t){if(this.context=e,this.config=Object.assign({ambisonicOrder:3,renderingMode:md.Ambisonic},t),Cg.includes(this.config.ambisonicOrder)||(Xd("HOARenderer: Invalid ambisonic order. (got "+this.config.ambisonicOrder+") Fallbacks to 3rd-order ambisonic."),this.config.ambisonicOrder=Math.max(2,Math.min(3,this.config.ambisonicOrder))),this.config.numberOfChannels=(this.config.ambisonicOrder+1)*(this.config.ambisonicOrder+1),this.config.numberOfStereoChannels=Math.ceil(this.config.numberOfChannels/2),this.config.hrirPathList.length!==this.config.numberOfStereoChannels)throw new Error("HOARenderer: Invalid HRIR URLs. It must be an array with "+this.config.numberOfStereoChannels+" URLs to HRIR files. (got "+t.hrirPathList+")");this._buildAudioGraph()}_buildAudioGraph(){this.input=this.context.createGain(),this.output=this.context.createGain(),this.bypass=this.context.createGain(),this.rotator=new wg(this.context,this.config.ambisonicOrder),this.convolver=new og(this.context,this.config.ambisonicOrder),this.input.connect(this.rotator.input),this.input.connect(this.bypass),this.rotator.output.connect(this.convolver.input),this.convolver.output.connect(this.output),this.input.channelCount=this.config.numberOfChannels,this.input.channelCountMode="explicit",this.input.channelInterpretation="discrete"}dispose(){this.getRenderingMode()===md.Bypass&&this.bypass.connect(this.output),this.input.disconnect(this.rotator.input),this.input.disconnect(this.bypass),this.rotator.output.disconnect(this.convolver.input),this.convolver.output.disconnect(this.output),this.rotator.dispose(),this.convolver.dispose()}async initialize(){let e;e=this.config.hrirPathList?new Zd(this.context,this.config.hrirPathList,{dataType:Jd.URL}):2===this.config.ambisonicOrder?new Zd(this.context,yg):new Zd(this.context,Pg);try{const t=await e.load();this.convolver.setHRIRBufferList(t),this.setRenderingMode(this.config.renderingMode)}catch(e){const t=`HOARenderer: HRIR loading/decoding (mode: ${this.config.renderingMode}) failed. Reason: ${e.message}`;throw new Error(t)}}setRotationMatrix3(e){this.rotator.setRotationMatrix3(e)}setRotationMatrix4(e){this.rotator.setRotationMatrix4(e)}getRenderingMode(){return this.config.renderingMode}setRenderingMode(e){if(e!==this.config.renderingMode){switch(e){case md.Ambisonic:this.convolver.enable(),this.bypass.disconnect();break;case md.Bypass:this.convolver.disable(),this.bypass.connect(this.output);break;case md.None:this.convolver.disable(),this.bypass.disconnect();break;default:return void Xd('HOARenderer: Rendering mode "'+e+'" is not supported.')}this.config.renderingMode=e}}}class Mg{constructor(e,i){i=Object.assign({ambisonicOrder:1,position:c(o(),Cd),forward:c(o(),Md),up:c(o(),Sd),renderingMode:kd},i),this.position=o(),this.tempMatrix3=t(),this.ambisonicOrder=Yd.validateAmbisonicOrder(i.ambisonicOrder),1==this.ambisonicOrder?this.renderer=function(e,t){return new rg(e,t)}(e,{renderingMode:i.renderingMode}):this.ambisonicOrder>1&&(this.renderer=function(e,t){return new Bg(e,t)}(e,{ambisonicOrder:this.ambisonicOrder,renderingMode:i.renderingMode})),this.input=e.createGain(),this.output=e.createGain(),this.ambisonicOutput=e.createGain(),this.renderer.initialize().then((()=>{this.input.connect(this.renderer.input),this.renderer.rotator.output.connect(this.ambisonicOutput),this.renderer.output.connect(this.output)})),this.setOrientation(i.forward,i.up)}getRenderingMode(){return this.renderer.getRenderingMode()}setRenderingMode(e){this.renderer.setRenderingMode(e)}dispose(){this.input.disconnect(this.renderer.input),this.renderer.rotator.output.disconnect(this.ambisonicOutput),this.renderer.output.disconnect(this.output),this.renderer.dispose()}setOrientation(e,t){c(Sg,e),c(Fg,t),g(Eg,Sg,Fg),i(this.tempMatrix3,Eg[0],Eg[1],Eg[2],Fg[0],Fg[1],Fg[2],-Sg[0],-Sg[1],-Sg[2]),this.renderer.setRotationMatrix3(this.tempMatrix3)}}const Sg=o(),Fg=o(),Eg=o();class kg{constructor(e,t){this.listenerPosition=c(o(),Cd),this.speedOfSound=Fd,this.coefficients={left:Id.left,right:Id.right,front:Id.front,back:Id.back,up:Id.up,down:Id.down},this.halfDimensions={width:.5*Td.width,height:.5*Td.height,depth:.5*Td.depth},t&&(B(t?.speedOfSound)&&(this.speedOfSound=t.speedOfSound),t?.listenerPosition instanceof Array&&3===t.listenerPosition.length&&B(t.listenerPosition[0])&&B(t.listenerPosition[1])&&B(t.listenerPosition[2])&&(this.listenerPosition[0]=t.listenerPosition[0],this.listenerPosition[1]=t.listenerPosition[1],this.listenerPosition[2]=t.listenerPosition[2])),this.input=e.createGain(),this.output=e.createGain(),this.lowpass=e.createBiquadFilter(),this.merger=e.createChannelMerger(4),this.delays={left:e.createDelay(2),right:e.createDelay(2),front:e.createDelay(2),back:e.createDelay(2),up:e.createDelay(2),down:e.createDelay(2)},this.gains={left:e.createGain(),right:e.createGain(),front:e.createGain(),back:e.createGain(),up:e.createGain(),down:e.createGain()},this.inverters={right:e.createGain(),back:e.createGain(),down:e.createGain()};for(const e of Object.values(Pd)){const t=this.delays[e],i=this.gains[e];t.delayTime.value=0,i.gain.value=0,this.delays[e]=t,this.gains[e]=i,this.lowpass.connect(t),t.connect(i),i.connect(this.merger,0,0),e!==Pd.Right&&e!=Pd.Back&&e!==Pd.Down||(this.inverters[e].gain.value=-1)}this.input.connect(this.lowpass),this.lowpass.type="lowpass",this.lowpass.frequency.value=6400,this.lowpass.Q.value=0,this.gains.left.connect(this.merger,0,1),this.gains.right.connect(this.inverters.right),this.inverters.right.connect(this.merger,0,1),this.gains.up.connect(this.merger,0,2),this.gains.down.connect(this.inverters.down),this.inverters.down.connect(this.merger,0,2),this.gains.front.connect(this.merger,0,3),this.gains.back.connect(this.inverters.back),this.inverters.back.connect(this.merger,0,3),this.merger.connect(this.output),this.setRoomProperties(t?.dimensions,t?.coefficients)}setRoomProperties(e,t){null==e&&(e={width:Td.width,height:Td.height,depth:Td.depth}),B(e.width)&&B(e.height)&&B(e.depth)&&(this.halfDimensions.width=.5*e.width,this.halfDimensions.height=.5*e.height,this.halfDimensions.depth=.5*e.depth),null==t&&(t={left:Id.left,right:Id.right,front:Id.front,back:Id.back,up:Id.up,down:Id.down}),B(t.left)&&B(t.right)&&B(t.front)&&B(t.back)&&B(t.up)&&B(t.down)&&(this.coefficients.left=t.left,this.coefficients.right=t.right,this.coefficients.front=t.front,this.coefficients.back=t.back,this.coefficients.up=t.up,this.coefficients.down=t.down),this.setListenerPosition(this.listenerPosition)}dispose(){this.input.disconnect(this.lowpass);for(const e of Object.values(Pd)){const t=this.delays[e],i=this.gains[e];this.lowpass.disconnect(t),t.disconnect(i),i.disconnect(this.merger,0,0)}this.gains.left.disconnect(this.merger,0,1),this.gains.right.disconnect(this.inverters.right),this.inverters.right.disconnect(this.merger,0,1),this.gains.up.disconnect(this.merger,0,2),this.gains.down.disconnect(this.inverters.down),this.inverters.down.disconnect(this.merger,0,2),this.gains.front.disconnect(this.merger,0,3),this.gains.back.disconnect(this.inverters.back),this.inverters.back.disconnect(this.merger,0,3),this.merger.disconnect(this.output)}setListenerPosition(e){c(this.listenerPosition,e);for(const e of Object.values(Pd)){const t=this.halfDimensions[Wd[e]],i=this.listenerPosition[jd[e]],n=Vd[e],s=1*Math.max(0,t+n*i)+1,r=s/this.speedOfSound;this.delays[e].delayTime.value=r;const o=this.coefficients[e]/s;this.gains[e].gain.value=o}}}class Ig{constructor(e,t){const i=(t=Object.assign({durations:Ld.slice(),predelay:1.5,gain:.01,bandwidth:1,tailonset:3.8},t)).predelay/1e3;this.bandwidthCoeff=.346573590279973*t.bandwidth,this.tailonsetSamples=t.tailonset/1e3,this.context=e,this.input=e.createGain(),this.predelay=e.createDelay(i),this.convolver=e.createConvolver(),this.output=e.createGain(),this.output.gain.value=t.gain,this.convolver.normalize=!1,this.input.connect(this.predelay),this.predelay.connect(this.convolver),this.convolver.connect(this.output),this.setDurations(t.durations)}dispose(){this.input.disconnect(this.predelay),this.predelay.disconnect(this.convolver),this.convolver.disconnect(this.output)}setDurations(e){if(e.length!==xd)return void zd("Warning: invalid number of RT60 values provided to reverb.");const t=new Float32Array(xd),i=this.context.sampleRate;for(let n=0;n<e.length;n++)e[n]=Math.max(0,Math.min(3,e[n])),t[n]=Math.round(e[n]*i*1);let n=0;for(let e=0;e<t.length;e++)t[e]>n&&(n=t[e]);n<1&&(n=1);const s=this.context.createBuffer(1,n,i),r=s.getChannelData(0),o=new Float32Array(n);for(let e=0;e<n;e++)o[e]=2*Math.random()-1;for(let e=0;e<xd;e++){const n=-6.90775527898214/t[e],s=Hd*_d[e]/i,a=Math.sin(s),c=a*Math.sinh(this.bandwidthCoeff*s/a),A=1/(1+c),l=c*A,h=-2*Math.cos(s)*A,u=(1-c)*A;let d=0,g=0;for(let i=0;i<t[e];i++){const e=o[i]*Math.exp(n*i)-h*d-u*g;r[i]+=l*(e-g),g=d,d=e}}const a=Math.round(this.tailonsetSamples);for(let e=0;e<Math.min(r.length,a);e++){const t=.5*(1-Math.cos(Hd*e/(2*a-1)));r[e]*=t}this.convolver.buffer=s}}function Tg(e){const t={[Pd.Left]:null,[Pd.Right]:null,[Pd.Front]:null,[Pd.Back]:null,[Pd.Up]:null,[Pd.Down]:null};for(const e of Object.values(Pd)){const i=Qd[e];t[e]=Rd[i]}null==e&&(e=Object.assign({},e,Qd));for(const i of Object.values(Pd))e[i]in Rd?t[i]=Rd[e[i]]:zd('Material "'+e[i]+'" on wall "'+i+'" not found. Using "'+Qd[i]+'".');return t}function _g(e){if(null==e)e={width:Td.width,height:Td.height,depth:Td.depth};else for(const t of Object.values(yd))e.hasOwnProperty(t)||(e[t]=Td[t]);return e}function xg(e,t,i){const n=new Float32Array(xd);e=_g(e),t=function(e){null==e&&(e={[Pd.Left]:null,[Pd.Right]:null,[Pd.Front]:null,[Pd.Back]:null,[Pd.Up]:null,[Pd.Down]:null});for(const t of Object.values(Pd))e.hasOwnProperty(t)||(e[t]=Rd[Qd[t]]);return e}(t),null==i&&(i=Fd);const s=55.2620422318571/i,r=e.width*e.height*e.depth;if(r<1e-4)return n;const o=e.width*e.height,a=e.width*e.depth,c=e.depth*e.height,A=2*(o+a+c);for(let e=0;e<xd;e++){const i=((t.left[e]+t.right[e])*o+(t.down[e]+t.up[e])*a+(t.front[e]+t.back[e])*c)/A;n[e]=1.38*s*r/(-A*Math.log(1-i)+4*Nd[e]*r)}return n}function Lg(e){const t={[Pd.Left]:0,[Pd.Right]:0,[Pd.Front]:0,[Pd.Back]:0,[Pd.Up]:0,[Pd.Down]:0};for(const i of Object.values(Pd))if(Id.hasOwnProperty(i)){t[i]=0;for(let n=0;n<3;n++){const s=n+4;t[i]+=e[i][s]}t[i]/=3,t[i]=Math.sqrt(1-t[i])}return t}class Og{constructor(e,t){(t=Object.assign({listenerPosition:c(o(),Cd),dimensions:Object.assign({},t.dimensions,Td),materials:Object.assign({},t.materials,Qd),speedOfSound:Fd},t)).dimensions=_g(t.dimensions);const i=Tg(t.materials),n=Lg(i),s=xg(t.dimensions,i,t.speedOfSound);this.early=new kg(e,{dimensions:t.dimensions,coefficients:n,speedOfSound:t.speedOfSound,listenerPosition:t.listenerPosition}),this.late=new Ig(e,{durations:s}),this.speedOfSound=t.speedOfSound,this.output=e.createGain(),this.early.output.connect(this.output),this._merger=e.createChannelMerger(4),this.late.output.connect(this._merger,0,0),this._merger.connect(this.output)}dispose(){this.early.output.disconnect(this.output),this.late.output.disconnect(this._merger,0,0),this._merger.disconnect(this.output)}setProperties(e,t){const i=Tg(t),n=xg(e,i,this.speedOfSound);this.late.setDurations(n),this.early.speedOfSound=this.speedOfSound;const s=Lg(i);this.early.setRoomProperties(e,s)}setListenerPosition(e){this.early.speedOfSound=this.speedOfSound,this.early.setListenerPosition(e);const t=this.getDistanceOutsideRoom(e);let i=1;t>Gd&&(i=1-t/1,i=Math.max(0,Math.min(1,i))),this.output.gain.value=i}getDistanceOutsideRoom(e){const t=Math.max(0,-this.early.halfDimensions.width-e[0],e[0]-this.early.halfDimensions.width),i=Math.max(0,-this.early.halfDimensions.height-e[1],e[1]-this.early.halfDimensions.height),n=Math.max(0,-this.early.halfDimensions.depth-e[2],e[2]-this.early.halfDimensions.depth);return Math.sqrt(t*t+i*i+n*n)}}class Rg{constructor(e,t){this.minDistance=1,this.maxDistance=1e3,this.rolloff=Ed,t&&(B(t.minDistance)&&(this.minDistance=t.minDistance),B(t.maxDistance)&&(this.maxDistance=t.maxDistance),t.rolloff&&(this.rolloff=t.rolloff)),this.setRolloff(this.rolloff),this.gainNode=e.createGain(),this.setDistance(this.maxDistance),this.input=this.gainNode,this.output=this.gainNode}setDistance(e){let t=1;if("logarithmic"==this.rolloff){if(e>this.maxDistance)t=0;else if(e>this.minDistance){let i=this.maxDistance-this.minDistance;if(i>Gd){let n=1/(i+1);t=(1/(e-this.minDistance+1)-n)/(1-n)}}}else if("linear"==this.rolloff)if(e>this.maxDistance)t=0;else if(e>this.minDistance){let i=this.maxDistance-this.minDistance;i>Gd&&(t=(this.maxDistance-e)/i)}this.gainNode.gain.value=t}setRolloff(e){null==e&&(e=Ed),this.rolloff=e}}const Qg=o(),Ng=o();class Hg{constructor(e,t){this.cosTheta=0,t=Object.assign({alpha:0,sharpness:1},t),this.context=e,this.lowpass=e.createBiquadFilter(),this.lowpass.type="lowpass",this.lowpass.Q.value=0,this.lowpass.frequency.value=.5*e.sampleRate,this.setPattern(t.alpha,t.sharpness),this.input=this.lowpass,this.output=this.lowpass}computeAngle(e,t){d(Qg,e),d(Ng,t);let i=1;if(this.alpha>Gd){let e=(s=Ng,(n=Qg)[0]*s[0]+n[1]*s[1]+n[2]*s[2]);i=1-this.alpha+this.alpha*e,i=Math.pow(Math.abs(i),this.sharpness)}var n,s;this.lowpass.frequency.value=.5*this.context.sampleRate*i}setPattern(e,t){this.alpha=Math.min(1,Math.max(0,e)),this.sharpness=Math.max(1,t),this.computeAngle(A(Qg,this.cosTheta*this.cosTheta,0,0),A(Ng,1,0,0))}}class Ug{constructor(e,t){t=Object.assign({position:c(o(),Cd),forward:c(o(),Md),up:c(o(),Sd),minDistance:1,maxDistance:1e3,rolloff:Ed,gain:1,alpha:0,sharpness:1,sourceWidth:0},t),this.scene=e,this.position=t.position,this.forward=t.forward,this.up=t.up,this.dx=o(),this.right=o(),g(this.right,this.forward,this.up);let i=e.context;this.input=i.createGain(),this.directivity=new Hg(i,{alpha:t.alpha,sharpness:t.sharpness}),this.toEarly=i.createGain(),this.toLate=i.createGain(),this.attenuation=new Rg(i,{minDistance:t.minDistance,maxDistance:t.maxDistance,rolloff:t.rolloff}),this.encoder=new Yd(i,{ambisonicOrder:e.ambisonicOrder,sourceWidth:t.sourceWidth}),this.input.connect(this.toLate),this.toLate.connect(e.room.late.input),this.input.connect(this.attenuation.input),this.attenuation.output.connect(this.toEarly),this.toEarly.connect(e.room.early.input),this.attenuation.output.connect(this.directivity.input),this.directivity.output.connect(this.encoder.input),this.encoder.output.connect(e.listener.input),this.setPosition(t.position),this.input.gain.value=t.gain}dispose(){this.encoder.output.disconnect(this.scene.listener.input),this.directivity.output.disconnect(this.encoder.input),this.attenuation.output.disconnect(this.directivity.input),this.toEarly.disconnect(this.scene.room.early.input),this.attenuation.output.disconnect(this.toEarly),this.input.disconnect(this.attenuation.input),this.toLate.disconnect(this.scene.room.late.input),this.input.disconnect(this.toLate),this.encoder.dispose()}update(){h(this.dx,this.position,this.scene.listener.position);const e=a(this.dx);d(this.dx,this.dx);const t=Ud*Math.atan2(-this.dx[0],this.dx[2]),i=Ud*Math.atan2(this.dx[1],Math.sqrt(this.dx[0]*this.dx[0]+this.dx[2]*this.dx[2]));this.attenuation.setDistance(e),this.directivity.computeAngle(this.forward,this.dx),this.encoder.setDirection(t,i)}setRolloff(e){this.attenuation.setRolloff(e)}setMinDistance(e){this.attenuation.minDistance=e}setMaxDistance(e){this.attenuation.maxDistance=e}setGain(e){this.input.gain.value=e}setPosition(e){c(this.position,e);let t=function(e){let t=1;return e>Gd&&(t=1-e/1,t=Math.max(0,Math.min(1,t))),t}(this.scene.room.getDistanceOutsideRoom(this.position));this.toLate.gain.value=t,this.toEarly.gain.value=t,this.update()}setOrientation(e,t){c(this.forward,e),c(this.up,t),g(this.right,this.forward,this.up)}setSourceWidth(e){this.encoder.setSourceWidth(e),this.setPosition(this.position)}setDirectivityPattern(e,t){this.directivity.setPattern(e,t),this.setPosition(this.position)}}class Gg{constructor(e,t){t=Object.assign({ambisonicOrder:1,listenerPosition:c(o(),Cd),listenerForward:c(o(),Md),listenerUp:c(o(),Sd),dimensions:Object.assign({},t.dimensions,Td),materials:Object.assign({},t.materials,Qd),speedOfSound:Fd,renderingMode:kd},t),this.ambisonicOrder=Yd.validateAmbisonicOrder(t.ambisonicOrder),this._sources=new Array,this.room=new Og(e,{listenerPosition:t.listenerPosition,dimensions:t.dimensions,materials:t.materials,speedOfSound:t.speedOfSound}),this.listener=new Mg(e,{ambisonicOrder:t.ambisonicOrder,position:t.listenerPosition,forward:t.listenerForward,up:t.listenerUp,renderingMode:t.renderingMode}),this.context=e,this.output=e.createGain(),this.ambisonicOutput=e.createGain(),this.ambisonicInput=this.listener.input,this.room.output.connect(this.listener.input),this.listener.output.connect(this.output),this.listener.ambisonicOutput.connect(this.ambisonicOutput)}getRenderingMode(){return this.listener.getRenderingMode()}setRenderingMode(e){this.listener.setRenderingMode(e)}dispose(){this.room.output.disconnect(this.listener.input),this.listener.output.disconnect(this.output),this.listener.ambisonicOutput.disconnect(this.ambisonicOutput)}createSource(e){let t=new Ug(this,e);return this._sources[this._sources.length]=t,t}removeSource(e){const t=this._sources.findIndex((t=>t===e));t>-1&&(this._sources.splice(t,1),e.dispose())}setAmbisonicOrder(e){this.ambisonicOrder=Yd.validateAmbisonicOrder(e)}setRoomProperties(e,t){this.room.setProperties(e,t)}setListenerPosition(e){c(this.listener.position,e),this.room.setListenerPosition(e),this._sources.forEach((function(e){e.update()}))}setListenerOrientation(e,t){this.listener.setOrientation(e,t)}setSpeedOfSound(e){this.room.speedOfSound=e}}class zg extends dd{constructor(e,t,i,n){super(e,t,i),this.node=n,this.gain.connect(this.node)}dispose(){this.node&&(this.node.disconnect(),this.node=null),super.dispose()}}class Wg extends zg{constructor(e,t,i,n){const s=n.createSource(void 0);super(e,t,i,s.input),this.resScene=n,this.resNode=s,Object.seal(this)}update(e,t){const{p:i,f:n,u:s}=e;this.resNode.setPosition(i),this.resNode.setOrientation(n,s)}setAudioProperties(e,t,i,n,s){super.setAudioProperties(e,t,i,n,s),this.resNode.setMinDistance(this.minDistance),this.resNode.setMaxDistance(this.maxDistance),this.resNode.setGain(1/this.rolloff),this.resNode.setRolloff(this.algorithm)}dispose(){this.resScene.removeSource(this.resNode),this.resNode=null,super.dispose()}}class jg extends pd{constructor(e,t){super(e,t),this.scene=new Gg(e,{ambisonicOrder:1,renderingMode:md.Bypass}),this.scene.output.connect(this.gain),this.scene.setRoomProperties({width:10,height:5,depth:10},{[Pd.Left]:Od.Transparent,[Pd.Right]:Od.Transparent,[Pd.Front]:Od.Transparent,[Pd.Back]:Od.Transparent,[Pd.Down]:Od.Grass,[Pd.Up]:Od.Transparent}),Object.seal(this)}update(e,t){const{p:i,f:n,u:s}=e;this.scene.setListenerPosition(i),this.scene.setListenerOrientation(n,s)}createSpatializer(e,t,i,n){return i?new Wg(e,t,n,this.scene):super.createSpatializer(e,t,i,n)}}const Vg=o();class Yg extends dd{constructor(e,t,i,n,s){super(e,t,i),this.listener=s,this.gain.connect(n),Object.seal(this)}update(e,t){const i=this.listener.pose.p;m(Vg,i,e.p);let n=Bu(id(a(Vg),this.minDistance,this.maxDistance),0,1);"logarithmic"===this.algorithm&&(n=Math.sqrt(n));const s=1-n;this.gain.gain.setValueAtTime(s,t)}}class Xg extends pd{constructor(e,t){super(e,t),this.pose=null,this.gain.gain.value=.25,Object.seal(this)}update(e,t){this.pose=e}createSpatializer(e,t,i,n){return i?new Yg(e,t,n,this.gain,this):super.createSpatializer(e,t,i,n)}}class Jg extends zg{constructor(e,t,i,n){const s=i.createPanner();super(e,t,i,s),this.node.panningModel="HRTF",this.node.distanceModel="inverse",this.node.coneInnerAngle=360,this.node.coneOuterAngle=0,this.node.coneOuterGain=0,this.node.connect(n)}setAudioProperties(e,t,i,n,s){super.setAudioProperties(e,t,i,n,s),this.node.refDistance=this.minDistance,"logarithmic"===this.algorithm&&(n="inverse"),this.node.distanceModel=n,this.node.rolloffFactor=this.rolloff}}class Zg extends Jg{constructor(e,t,i,n){super(e,t,i,n),Object.seal(this)}update(e,t){const{p:i,f:n}=e;this.node.positionX.setValueAtTime(i[0],t),this.node.positionY.setValueAtTime(i[1],t),this.node.positionZ.setValueAtTime(i[2],t),this.node.orientationX.setValueAtTime(-n[0],t),this.node.orientationY.setValueAtTime(-n[1],t),this.node.orientationZ.setValueAtTime(-n[2],t)}}class qg extends fd{constructor(e,t){super(e,t),Object.seal(this)}update(e,t){const{p:i,f:n,u:s}=e;this.node.positionX.setValueAtTime(i[0],t),this.node.positionY.setValueAtTime(i[1],t),this.node.positionZ.setValueAtTime(i[2],t),this.node.forwardX.setValueAtTime(n[0],t),this.node.forwardY.setValueAtTime(n[1],t),this.node.forwardZ.setValueAtTime(n[2],t),this.node.upX.setValueAtTime(s[0],t),this.node.upY.setValueAtTime(s[1],t),this.node.upZ.setValueAtTime(s[2],t)}createSpatializer(e,t,i,n){return i?new Zg(e,t,n,this.gain):super.createSpatializer(e,t,i,n)}}class Kg extends Jg{constructor(e,t,i,n){super(e,t,i,n),Object.seal(this)}update(e,t){const{p:i,f:n}=e;this.node.setPosition(i[0],i[1],i[2]),this.node.setOrientation(n[0],n[1],n[2])}}class $g extends fd{constructor(e,t){super(e,t),Object.seal(this)}update(e,t){const{p:i,f:n,u:s}=e;this.node.setPosition(i[0],i[1],i[2]),this.node.setOrientation(n[0],n[1],n[2],s[0],s[1],s[2])}createSpatializer(e,t,i,n){return i?new Kg(e,t,n,this.gain):super.createSpatializer(e,t,i,n)}}class ep extends Event{constructor(){super("audioActivity"),this.id=null,this.isActive=!1,Object.seal(this)}set(e,t){this.id=e,this.isActive=t}}const tp=new ep;function ip(e,t,i){const n=t/2;return Bu(Math.round(e/n*i),0,i)}class np extends ou{constructor(e,t,i){if(super(),this.wasActive=!1,this.analyser=null,!B(i)||i<=0)throw new Error("Buffer size must be greater than 0");this.id=e.id,this.bufferSize=i,this.buffer=new Float32Array(this.bufferSize),this.wasActive=!1,this.activityCounter=0;const n=()=>{e.spatializer instanceof dd&&e.spatializer.source?(this.analyser=t.createAnalyser(),this.analyser.fftSize=2*this.bufferSize,this.analyser.smoothingTimeConstant=.2,e.spatializer.source.connect(this.analyser)):setTimeout(n,0)};n()}dispose(){this.analyser&&(this.analyser.disconnect(),this.analyser=null),this.buffer=null}update(){if(this.analyser){this.analyser.getFloatFrequencyData(this.buffer);const e=1.1+function(e,t,i,n,s){const r=e.context.sampleRate,o=ip(i,r,s),a=ip(n,r,s),c=a-o;let A=0;for(let e=o;e<a;++e)A+=t[e];return 0===c?0:A/c}(this.analyser,this.buffer,85,255,this.bufferSize)/100;e>=.5&&this.activityCounter<60?this.activityCounter++:e<.5&&this.activityCounter>0&&this.activityCounter--;const t=this.activityCounter>5;this.wasActive!==t&&(this.wasActive=t,tp.id=this.id,tp.isActive=t,this.dispatchEvent(tp))}}}class sp{constructor(e){this.id=e,this.pose=new hd,this.streams=new Map,this._spatializer=null}get spatializer(){return this._spatializer}set spatializer(e){this.spatializer!==e&&(this._spatializer&&this._spatializer.dispose(),this._spatializer=e)}dispose(){this.spatializer=null}update(e){this.pose.update(e),this.spatializer&&this.spatializer.update(this.pose.current,e)}}const rp=w(HTMLAudioElement.prototype.setSinkId);!("AudioContext"in globalThis)&&"webkitAudioContext"in globalThis&&(globalThis.AudioContext=globalThis.webkitAudioContext),!("OfflineAudioContext"in globalThis)&&"webkitOfflineAudioContext"in globalThis&&(globalThis.OfflineAudioContext=globalThis.webkitOfflineAudioContext);const op=new ep,ap=new Event("audioready"),cp=Du(),Ap="createMediaStreamTrackSource"in AudioContext.prototype,lp=!Ap&&!("createMediaStreamSource"in AudioContext.prototype),hp=new Map([["wav",["audio/wav","audio/vnd.wave","audio/wave","audio/x-wav"]],["mp3",["audio/mpeg"]],["m4a",["audio/mp4"]],["m4b",["audio/mp4"]],["3gp",["audio/mp4"]],["3g2",["audio/mp4"]],["aac",["audio/aac","audio/aacp"]],["oga",["audio/ogg"]],["ogg",["audio/ogg"]],["spx",["audio/ogg"]],["webm",["audio/webm"]],["flac",["audio/flac"]]]);let up="AudioContext"in globalThis,dp="AudioListener"in globalThis,gp=dp&&"setPosition"in AudioListener.prototype,pp=dp&&"positionX"in AudioListener.prototype,fp=dp;var mp;!function(e){e.Low="volumescale",e.Medium="webaudiopanner",e.High="resonance"}(mp||(mp={}));class vp extends ou{constructor(e,t){super(),this.type=e,this.getBlob=t,this.minDistance=1,this.maxDistance=10,this.rolloff=1,this.algorithm="logarithmic",this.transitionTime=.5,this._offsetRadius=0,this.clips=new Map,this.users=new Map,this.analysers=new Map,this.sortedUserIDs=new Array,this.localUserID=null,this.listener=null,this.audioContext=null,this.element=null,this.destination=null,this._audioOutputDeviceID=null,this.onAudioActivity=e=>{op.id=e.id,op.isActive=e.isActive,this.dispatchEvent(op)},this.createContext(),Object.seal(this)}get offsetRadius(){return this._offsetRadius}set offsetRadius(e){this._offsetRadius=e,this.updateUserOffsets()}addEventListener(e,t,i=null){e===ap.type&&this.ready?t(ap):super.addEventListener(e,t,i)}get ready(){return this.audioContext&&"running"===this.audioContext.state}async start(){await this.audioContext.resume(),await this.setAudioOutputDeviceID(this._audioOutputDeviceID),this.element&&await this.element.play()}update(){if(this.audioContext){const e=this.currentTime;for(const t of this.clips.values())t.update(e);for(const t of this.users.values())t.update(e);for(const e of this.analysers.values())e.update()}}createContext(){if(!this.audioContext){if(this.audioContext=new AudioContext,rp?(this.destination=this.audioContext.createMediaStreamDestination(),this.element=Du(du,uu,gu(this.destination.stream),fu(mu("none"))),document.body.appendChild(this.element)):this.destination=this.audioContext.destination,this.type===mp.High)if(up&&dp&&fp)try{this.listener=new jg(this.audioContext,this.destination)}catch(e){fp=!1,this.type=mp.Medium,console.warn("Resonance Audio API not available!",e)}else this.type=mp.Medium;if(this.type===mp.Medium)if(up&&dp){if(pp)try{this.listener=new qg(this.audioContext,this.destination)}catch(e){pp=!1,console.warn("No AudioListener.positionX property!",e)}if(!pp&&gp)try{this.listener=new $g(this.audioContext,this.destination)}catch(e){gp=!1,console.warn("No WebAudio API!",e)}pp||gp||(this.type=mp.Low,dp=!1)}else this.type=mp.Low;if(this.type===mp.Low&&(this.listener=new Xg(this.audioContext,this.destination)),null===this.listener)throw new Error("Calla requires a functioning WebAudio system.");this.ready?(this.start(),this.dispatchEvent(ap)):function(e,t){const i=M(t)?Au:t,n=async t=>{if(t.isTrusted&&await i()){for(const e of cu)window.removeEventListener(e,n);e()}};for(const e of cu)window.addEventListener(e,n)}((()=>this.dispatchEvent(ap)),(async()=>(await this.start(),this.ready)))}}getAudioOutputDeviceID(){return this.element?.sinkId}async setAudioOutputDeviceID(e){this._audioOutputDeviceID=e||"",this.element&&this._audioOutputDeviceID!==this.element.sinkId&&await this.element.setSinkId(this._audioOutputDeviceID)}createSpatializer(e,t,i){if(!this.listener)throw new Error("Audio context isn't ready");return this.listener.createSpatializer(e,t,i,this.audioContext)}get currentTime(){return this.audioContext.currentTime}createUser(e){let t=this.users.get(e);return t||(t=new sp(e),this.users.set(e,t),I(this.sortedUserIDs,e),this.updateUserOffsets()),t}createLocalUser(e){this.localUserID=e;let t=null,i=null;for(const e of this.users.entries())if(e[1].spatializer===this.listener){[t,i]=e;break}return i?(this.users.delete(t),E(this.sortedUserIDs,t),this.users.set(e,i),I(this.sortedUserIDs,e),this.updateUserOffsets()):(i=this.createUser(e),i.spatializer=this.listener),i}async createClip(e,t,i,n,s,r,o){if(null==r||0===r.length)throw new Error("No clip source path provided");let a=null;if(function(e){const t=e.lastIndexOf(".");if(t>-1){const i=e.substring(t+1);if(hp.has(i)){for(const e of hp.get(i))if(cp.canPlayType(e))return!0;return!1}}return!0}(r)){const e=await this.getBlob(r,o);cp.canPlayType(e.type)&&(a=e)}else o&&o(1,1,"skip");if(!a)throw new Error("Cannot play file: "+r);const c=await a.arrayBuffer(),A=await this.audioContext.decodeAudioData(c),l=this.audioContext.createBufferSource();l.buffer=A,l.loop=t;const h=new sp("audio-clip-"+e);return h.spatializer=this.createSpatializer(e,l,n),h.spatializer.volume=s,i&&h.spatializer.play(),this.clips.set(e,h),h}hasClip(e){return this.clips.has(e)}async playClip(e){if(this.ready&&this.hasClip(e)){const t=this.clips.get(e);await t.spatializer.play()}}stopClip(e){if(this.ready&&this.hasClip(e)){this.clips.get(e).spatializer.stop()}}getSource(e,t){return e.get(t)||null}getUser(e){return this.getSource(this.users,e)}getClip(e){return this.getSource(this.clips,e)}removeSource(e,t){e.has(t)&&Ku(e.get(t),(i=>{i.spatializer&&i.spatializer.stop(),e.delete(t)}))}removeUser(e){this.removeSource(this.users,e),E(this.sortedUserIDs,e),this.updateUserOffsets()}removeClip(e){this.removeSource(this.clips,e)}createSourceFromStream(e){if(Ap){const t=e.getAudioTracks().map((e=>this.audioContext.createMediaStreamTrackSource(e)));if(0===t.length)throw new Error("No audio tracks!");if(1===t.length)return t[0];{const e=this.audioContext.createChannelMerger(t.length);for(const i of t)i.connect(e);return e}}{const t=Du(du(!0),uu(!0),new hu("muted",!lp,"audio","video"),function(e){return new hu("controls",e,"audio","video")}(!1),fu(mu("none")),gu(e));return document.body.appendChild(t),t.play(),lp?this.audioContext.createMediaElementSource(t):this.audioContext.createMediaStreamSource(e)}}async setUserStream(e,t){if(this.users.has(e)){this.analysers.has(e)&&Ku(this.analysers.get(e),(t=>{this.analysers.delete(e),t.removeEventListener("audioActivity",this.onAudioActivity)}));const i=this.users.get(e);if(i.spatializer=null,t){await lu((()=>t.active));const n=this.createSourceFromStream(t);i.spatializer=this.createSpatializer(e,n,!0),i.spatializer.setAudioProperties(this.minDistance,this.maxDistance,this.rolloff,this.algorithm,this.transitionTime);const s=new np(i,this.audioContext,1024);s.addEventListener("audioActivity",this.onAudioActivity),this.analysers.set(e,s)}}}updateUserOffsets(){if(this.offsetRadius>0){const e=this.sortedUserIDs.indexOf(this.localUserID),t=2*Math.PI/this.sortedUserIDs.length,i=(e+1)*t,n=this.offsetRadius*Math.sin(i),s=this.offsetRadius*(Math.cos(i)-1);for(let e=0;e<this.sortedUserIDs.length;++e){const i=this.sortedUserIDs[e],r=(e+1)*t,o=this.offsetRadius*Math.sin(r)-n,a=this.offsetRadius*(Math.cos(r)-1)-s;this.setUserOffset(i,o,0,a)}}}setAudioProperties(e,t,i,n,s){this.minDistance=e,this.maxDistance=t,this.transitionTime=s,this.rolloff=i,this.algorithm=n;for(const e of this.users.values())e.spatializer&&e.spatializer.setAudioProperties(this.minDistance,this.maxDistance,this.rolloff,this.algorithm,this.transitionTime)}withPose(e,t,i,n){if(e.has(t)){const s=e.get(t).pose;return null==i&&(i=this.transitionTime),n(s,i)}return null}withUser(e,t,i){return this.withPose(this.users,e,t,i)}setUserOffset(e,t,i,n){this.withUser(e,null,(e=>{e.setOffset(t,i,n)}))}getUserOffset(e){return this.withUser(e,null,(e=>e.offset))}setUserPose(e,t,i,n,s,r,o,a,c,A,l=null){this.withUser(e,l,((e,l)=>{e.setTarget(t,i,n,s,r,o,a,c,A,this.currentTime,l)}))}withClip(e,t,i){return this.withPose(this.clips,e,t,i)}setClipPosition(e,t,i,n,s=null){this.withClip(e,s,((e,s)=>{e.setTargetPosition(t,i,n,this.currentTime,s)}))}setClipOrientation(e,t,i,n,s,r,o,a=null){this.withClip(e,a,((e,a)=>{e.setTargetOrientation(t,i,n,s,r,o,this.currentTime,a)}))}setClipPose(e,t,i,n,s,r,o,a,c,A,l=null){this.withClip(e,l,((e,l)=>{e.setTarget(t,i,n,s,r,o,a,c,A,this.currentTime,l)}))}}var wp,bp,Dp=(wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}wp(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),yp=function(e){function t(t,i){var n=this,s=this.constructor.prototype;return(n=e.call(this,t)||this).statusCode=i,n.__proto__=s,n}return Dp(t,e),t}(Error),Pp=function(e){function t(t){void 0===t&&(t="A timeout occurred.");var i=this,n=this.constructor.prototype;return(i=e.call(this,t)||this).__proto__=n,i}return Dp(t,e),t}(Error),Cp=function(e){function t(t){void 0===t&&(t="An abort occurred.");var i=this,n=this.constructor.prototype;return(i=e.call(this,t)||this).__proto__=n,i}return Dp(t,e),t}(Error),Bp=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Mp=function(e,t,i){this.statusCode=e,this.statusText=t,this.content=i},Sp=function(){function e(){}return e.prototype.get=function(e,t){return this.send(Bp({},t,{method:"GET",url:e}))},e.prototype.post=function(e,t){return this.send(Bp({},t,{method:"POST",url:e}))},e.prototype.delete=function(e,t){return this.send(Bp({},t,{method:"DELETE",url:e}))},e.prototype.getCookieString=function(e){return""},e}();!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(bp||(bp={}));var Fp=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ep=function(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?s(e.value):new i((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))},kp=function(e,t){var i,n,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){o.label=r[1];break}if(6===r[0]&&o.label<s[1]){o.label=s[1],s=r;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(r);break}s[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Ip=function(){function e(){}return e.isRequired=function(e,t){if(null==e)throw new Error("The '"+t+"' argument is required.")},e.isNotEmpty=function(e,t){if(!e||e.match(/^\s*$/))throw new Error("The '"+t+"' argument should not be empty.")},e.isIn=function(e,t,i){if(!(e in t))throw new Error("Unknown "+i+" value: "+e+".")},e}(),Tp=function(){function e(){}return Object.defineProperty(e,"isBrowser",{get:function(){return"object"==typeof window},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebWorker",{get:function(){return"object"==typeof self&&"importScripts"in self},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isNode",{get:function(){return!this.isBrowser&&!this.isWebWorker},enumerable:!0,configurable:!0}),e}();function _p(e,t){var i="";return xp(e)?(i="Binary data of length "+e.byteLength,t&&(i+=". Content: '"+function(e){var t=new Uint8Array(e),i="";return t.forEach((function(e){i+="0x"+(e<16?"0":"")+e.toString(16)+" "})),i.substr(0,i.length-1)}(e)+"'")):"string"==typeof e&&(i="String data of length "+e.length,t&&(i+=". Content: '"+e+"'")),i}function xp(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Lp(e,t,i,n,s,r,o,a,c){return Ep(this,void 0,void 0,(function(){var A,l,h,u,d,g,p,f;return kp(this,(function(m){switch(m.label){case 0:return l={},s?[4,s()]:[3,2];case 1:(h=m.sent())&&((A={}).Authorization="Bearer "+h,l=A),m.label=2;case 2:return u=Rp(),d=u[0],g=u[1],l[d]=g,e.log(bp.Trace,"("+t+" transport) sending data. "+_p(r,o)+"."),p=xp(r)?"arraybuffer":"text",[4,i.post(n,{content:r,headers:Fp({},l,c),responseType:p,withCredentials:a})];case 3:return f=m.sent(),e.log(bp.Trace,"("+t+" transport) request complete. Response status: "+f.statusCode+"."),[2]}}))}))}var Op=function(){function e(e,t){this.subject=e,this.observer=t}return e.prototype.dispose=function(){var e=this.subject.observers.indexOf(this.observer);e>-1&&this.subject.observers.splice(e,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch((function(e){}))},e}();function Rp(){var e="X-SignalR-User-Agent";return Tp.isNode&&(e="User-Agent"),[e,Qp("5.0.1",Np(),Up(),Hp())]}function Qp(e,t,i,n){var s="Microsoft SignalR/",r=e.split(".");return s+=r[0]+"."+r[1],s+=" ("+e+"; ",s+=t&&""!==t?t+"; ":"Unknown OS; ",s+=""+i,s+=n?"; "+n:"; Unknown Runtime Version",s+=")"}function Np(){if(!Tp.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function Hp(){if(Tp.isNode)return process.versions.node}function Up(){return Tp.isNode?"NodeJS":"Browser"}var Gp=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),zp=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Wp=function(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?s(e.value):new i((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))},jp=function(e,t){var i,n,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){o.label=r[1];break}if(6===r[0]&&o.label<s[1]){o.label=s[1],s=r;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(r);break}s[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Vp=function(e){function t(t){var i=e.call(this)||this;if(i.logger=t,"undefined"==typeof fetch){var n="function"==typeof __webpack_require__?__non_webpack_require__:require;i.jar=new(n("tough-cookie").CookieJar),i.fetchType=n("node-fetch"),i.fetchType=n("fetch-cookie")(i.fetchType,i.jar),i.abortControllerType=n("abort-controller")}else i.fetchType=fetch.bind(self),i.abortControllerType=AbortController;return i}return Gp(t,e),t.prototype.send=function(e){return Wp(this,void 0,void 0,(function(){var t,i,n,s,r,o,a,c=this;return jp(this,(function(A){switch(A.label){case 0:if(e.abortSignal&&e.abortSignal.aborted)throw new Cp;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");t=new this.abortControllerType,e.abortSignal&&(e.abortSignal.onabort=function(){t.abort(),i=new Cp}),n=null,e.timeout&&(s=e.timeout,n=setTimeout((function(){t.abort(),c.logger.log(bp.Warning,"Timeout from HTTP request."),i=new Pp}),s)),A.label=1;case 1:return A.trys.push([1,3,4,5]),[4,this.fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:zp({"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,mode:"cors",redirect:"manual",signal:t.signal})];case 2:return r=A.sent(),[3,5];case 3:if(o=A.sent(),i)throw i;throw this.logger.log(bp.Warning,"Error from HTTP request. "+o+"."),o;case 4:return n&&clearTimeout(n),e.abortSignal&&(e.abortSignal.onabort=null),[7];case 5:if(!r.ok)throw new yp(r.statusText,r.status);return[4,function(e,t){var i;switch(t){case"arraybuffer":i=e.arrayBuffer();break;case"text":i=e.text();break;case"blob":case"document":case"json":throw new Error(t+" is not supported.");default:i=e.text()}return i}(r,e.responseType)];case 6:return a=A.sent(),[2,new Mp(r.status,r.statusText,a)]}}))}))},t.prototype.getCookieString=function(e){var t="";return Tp.isNode&&this.jar&&this.jar.getCookies(e,(function(e,i){return t=i.join("; ")})),t},t}(Sp);var Yp,Xp=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jp=function(e){function t(t){var i=e.call(this)||this;return i.logger=t,i}return Xp(t,e),t.prototype.send=function(e){var t=this;return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Cp):e.method?e.url?new Promise((function(i,n){var s=new XMLHttpRequest;s.open(e.method,e.url,!0),s.withCredentials=void 0===e.withCredentials||e.withCredentials,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var r=e.headers;r&&Object.keys(r).forEach((function(e){s.setRequestHeader(e,r[e])})),e.responseType&&(s.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=function(){s.abort(),n(new Cp)}),e.timeout&&(s.timeout=e.timeout),s.onload=function(){e.abortSignal&&(e.abortSignal.onabort=null),s.status>=200&&s.status<300?i(new Mp(s.status,s.statusText,s.response||s.responseText)):n(new yp(s.statusText,s.status))},s.onerror=function(){t.logger.log(bp.Warning,"Error from HTTP request. "+s.status+": "+s.statusText+"."),n(new yp(s.statusText,s.status))},s.ontimeout=function(){t.logger.log(bp.Warning,"Timeout from HTTP request."),n(new Pp)},s.send(e.content||"")})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t}(Sp),Zp=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),qp=(function(e){function t(t){var i=e.call(this)||this;if("undefined"!=typeof fetch||Tp.isNode)i.httpClient=new Vp(t);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");i.httpClient=new Jp(t)}return i}Zp(t,e),t.prototype.send=function(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Cp):e.method?e.url?this.httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t.prototype.getCookieString=function(e){return this.httpClient.getCookieString(e)}}(Sp),function(){function e(){}return e.write=function(t){return""+t+e.RecordSeparator},e.parse=function(t){if(t[t.length-1]!==e.RecordSeparator)throw new Error("Message is incomplete.");var i=t.split(e.RecordSeparator);return i.pop(),i},e.RecordSeparatorCode=30,e.RecordSeparator=String.fromCharCode(e.RecordSeparatorCode),e}()),Kp=function(){function e(){}return e.prototype.writeHandshakeRequest=function(e){return qp.write(JSON.stringify(e))},e.prototype.parseHandshakeResponse=function(e){var t,i;if(xp(e)||"undefined"!=typeof Buffer&&e instanceof Buffer){var n=new Uint8Array(e);if(-1===(r=n.indexOf(qp.RecordSeparatorCode)))throw new Error("Message is incomplete.");var s=r+1;t=String.fromCharCode.apply(null,n.slice(0,s)),i=n.byteLength>s?n.slice(s).buffer:null}else{var r,o=e;if(-1===(r=o.indexOf(qp.RecordSeparator)))throw new Error("Message is incomplete.");s=r+1;t=o.substring(0,s),i=o.length>s?o.substring(s):null}var a=qp.parse(t),c=JSON.parse(a[0]);if(c.type)throw new Error("Expected a handshake response from the server.");return[i,c]},e}();!function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close"}(Yp||(Yp={}));var $p,ef=function(){function e(){this.observers=[]}return e.prototype.next=function(e){for(var t=0,i=this.observers;t<i.length;t++){i[t].next(e)}},e.prototype.error=function(e){for(var t=0,i=this.observers;t<i.length;t++){var n=i[t];n.error&&n.error(e)}},e.prototype.complete=function(){for(var e=0,t=this.observers;e<t.length;e++){var i=t[e];i.complete&&i.complete()}},e.prototype.subscribe=function(e){return this.observers.push(e),new Op(this,e)},e}(),tf=function(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?s(e.value):new i((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))},nf=function(e,t){var i,n,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){o.label=r[1];break}if(6===r[0]&&o.label<s[1]){o.label=s[1],s=r;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(r);break}s[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};!function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"}($p||($p={}));var sf,rf;!function(){function e(e,t,i,n){var s=this;Ip.isRequired(e,"connection"),Ip.isRequired(t,"logger"),Ip.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this.logger=t,this.protocol=i,this.connection=e,this.reconnectPolicy=n,this.handshakeProtocol=new Kp,this.connection.onreceive=function(e){return s.processIncomingData(e)},this.connection.onclose=function(e){return s.connectionClosed(e)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.reconnectingCallbacks=[],this.reconnectedCallbacks=[],this.invocationId=0,this.receivedHandshakeResponse=!1,this.connectionState=$p.Disconnected,this.connectionStarted=!1,this.cachedPingMessage=this.protocol.writeMessage({type:Yp.Ping})}e.create=function(t,i,n,s){return new e(t,i,n,s)},Object.defineProperty(e.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connectionId",{get:function(){return this.connection&&this.connection.connectionId||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this.connection.baseUrl||""},set:function(e){if(this.connectionState!==$p.Disconnected&&this.connectionState!==$p.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e},enumerable:!0,configurable:!0}),e.prototype.start=function(){return this.startPromise=this.startWithStateTransitions(),this.startPromise},e.prototype.startWithStateTransitions=function(){return tf(this,void 0,void 0,(function(){var e;return nf(this,(function(t){switch(t.label){case 0:if(this.connectionState!==$p.Disconnected)return[2,Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."))];this.connectionState=$p.Connecting,this.logger.log(bp.Debug,"Starting HubConnection."),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.startInternal()];case 2:return t.sent(),this.connectionState=$p.Connected,this.connectionStarted=!0,this.logger.log(bp.Debug,"HubConnection connected successfully."),[3,4];case 3:return e=t.sent(),this.connectionState=$p.Disconnected,this.logger.log(bp.Debug,"HubConnection failed to start successfully because of error '"+e+"'."),[2,Promise.reject(e)];case 4:return[2]}}))}))},e.prototype.startInternal=function(){return tf(this,void 0,void 0,(function(){var e,t,i,n=this;return nf(this,(function(s){switch(s.label){case 0:return this.stopDuringStartError=void 0,this.receivedHandshakeResponse=!1,e=new Promise((function(e,t){n.handshakeResolver=e,n.handshakeRejecter=t})),[4,this.connection.start(this.protocol.transferFormat)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),t={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(bp.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(t))];case 3:return s.sent(),this.logger.log(bp.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,e];case 4:if(s.sent(),this.stopDuringStartError)throw this.stopDuringStartError;return[3,7];case 5:return i=s.sent(),this.logger.log(bp.Debug,"Hub handshake failed with error '"+i+"' during start(). Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),[4,this.connection.stop(i)];case 6:throw s.sent(),i;case 7:return[2]}}))}))},e.prototype.stop=function(){return tf(this,void 0,void 0,(function(){var e;return nf(this,(function(t){switch(t.label){case 0:return e=this.startPromise,this.stopPromise=this.stopInternal(),[4,this.stopPromise];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,4,,5]),[4,e];case 3:return t.sent(),[3,5];case 4:return t.sent(),[3,5];case 5:return[2]}}))}))},e.prototype.stopInternal=function(e){return this.connectionState===$p.Disconnected?(this.logger.log(bp.Debug,"Call to HubConnection.stop("+e+") ignored because it is already in the disconnected state."),Promise.resolve()):this.connectionState===$p.Disconnecting?(this.logger.log(bp.Debug,"Call to HttpConnection.stop("+e+") ignored because the connection is already in the disconnecting state."),this.stopPromise):(this.connectionState=$p.Disconnecting,this.logger.log(bp.Debug,"Stopping HubConnection."),this.reconnectDelayHandle?(this.logger.log(bp.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this.reconnectDelayHandle),this.reconnectDelayHandle=void 0,this.completeClose(),Promise.resolve()):(this.cleanupTimeout(),this.cleanupPingTimer(),this.stopDuringStartError=e||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(e)))},e.prototype.stream=function(e){for(var t=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var s,r=this.replaceStreamingParams(i),o=r[0],a=r[1],c=this.createStreamInvocation(e,i,a),A=new ef;return A.cancelCallback=function(){var e=t.createCancelInvocation(c.invocationId);return delete t.callbacks[c.invocationId],s.then((function(){return t.sendWithProtocol(e)}))},this.callbacks[c.invocationId]=function(e,t){t?A.error(t):e&&(e.type===Yp.Completion?e.error?A.error(new Error(e.error)):A.complete():A.next(e.item))},s=this.sendWithProtocol(c).catch((function(e){A.error(e),delete t.callbacks[c.invocationId]})),this.launchStreams(o,s),A},e.prototype.sendMessage=function(e){return this.resetKeepAliveInterval(),this.connection.send(e)},e.prototype.sendWithProtocol=function(e){return this.sendMessage(this.protocol.writeMessage(e))},e.prototype.send=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=this.replaceStreamingParams(t),s=n[0],r=n[1],o=this.sendWithProtocol(this.createInvocation(e,t,!0,r));return this.launchStreams(s,o),o},e.prototype.invoke=function(e){for(var t=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var s=this.replaceStreamingParams(i),r=s[0],o=s[1],a=this.createInvocation(e,i,!1,o),c=new Promise((function(e,i){t.callbacks[a.invocationId]=function(t,n){n?i(n):t&&(t.type===Yp.Completion?t.error?i(new Error(t.error)):e(t.result):i(new Error("Unexpected message type: "+t.type)))};var n=t.sendWithProtocol(a).catch((function(e){i(e),delete t.callbacks[a.invocationId]}));t.launchStreams(r,n)}));return c},e.prototype.on=function(e,t){e&&t&&(e=e.toLowerCase(),this.methods[e]||(this.methods[e]=[]),-1===this.methods[e].indexOf(t)&&this.methods[e].push(t))},e.prototype.off=function(e,t){if(e){e=e.toLowerCase();var i=this.methods[e];if(i)if(t){var n=i.indexOf(t);-1!==n&&(i.splice(n,1),0===i.length&&delete this.methods[e])}else delete this.methods[e]}},e.prototype.onclose=function(e){e&&this.closedCallbacks.push(e)},e.prototype.onreconnecting=function(e){e&&this.reconnectingCallbacks.push(e)},e.prototype.onreconnected=function(e){e&&this.reconnectedCallbacks.push(e)},e.prototype.processIncomingData=function(e){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(e=this.processHandshakeResponse(e),this.receivedHandshakeResponse=!0),e)for(var t=0,i=this.protocol.parseMessages(e,this.logger);t<i.length;t++){var n=i[t];switch(n.type){case Yp.Invocation:this.invokeClientMethod(n);break;case Yp.StreamItem:case Yp.Completion:var s=this.callbacks[n.invocationId];s&&(n.type===Yp.Completion&&delete this.callbacks[n.invocationId],s(n));break;case Yp.Ping:break;case Yp.Close:this.logger.log(bp.Information,"Close message received from server.");var r=n.error?new Error("Server returned an error on close: "+n.error):void 0;!0===n.allowReconnect?this.connection.stop(r):this.stopPromise=this.stopInternal(r);break;default:this.logger.log(bp.Warning,"Invalid message type: "+n.type+".")}}this.resetTimeoutPeriod()},e.prototype.processHandshakeResponse=function(e){var t,i,n;try{n=(t=this.handshakeProtocol.parseHandshakeResponse(e))[0],i=t[1]}catch(e){var s="Error parsing handshake response: "+e;this.logger.log(bp.Error,s);var r=new Error(s);throw this.handshakeRejecter(r),r}if(i.error){s="Server returned handshake error: "+i.error;this.logger.log(bp.Error,s);r=new Error(s);throw this.handshakeRejecter(r),r}return this.logger.log(bp.Debug,"Server handshake complete."),this.handshakeResolver(),n},e.prototype.resetKeepAliveInterval=function(){var e=this;this.connection.features.inherentKeepAlive||(this.cleanupPingTimer(),this.pingServerHandle=setTimeout((function(){return tf(e,void 0,void 0,(function(){return nf(this,(function(e){switch(e.label){case 0:if(this.connectionState!==$p.Connected)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return e.sent(),[3,4];case 3:return e.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}}))}))}),this.keepAliveIntervalInMilliseconds))},e.prototype.resetTimeoutPeriod=function(){var e=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout((function(){return e.serverTimeout()}),this.serverTimeoutInMilliseconds))},e.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},e.prototype.invokeClientMethod=function(e){var t=this,i=this.methods[e.target.toLowerCase()];if(i){try{i.forEach((function(i){return i.apply(t,e.arguments)}))}catch(t){this.logger.log(bp.Error,"A callback for the method "+e.target.toLowerCase()+" threw error '"+t+"'.")}if(e.invocationId){var n="Server requested a response, which is not supported in this version of the client.";this.logger.log(bp.Error,n),this.stopPromise=this.stopInternal(new Error(n))}}else this.logger.log(bp.Warning,"No client method with the name '"+e.target+"' found.")},e.prototype.connectionClosed=function(e){this.logger.log(bp.Debug,"HubConnection.connectionClosed("+e+") called while in state "+this.connectionState+"."),this.stopDuringStartError=this.stopDuringStartError||e||new Error("The underlying connection was closed before the hub handshake could complete."),this.handshakeResolver&&this.handshakeResolver(),this.cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this.cleanupTimeout(),this.cleanupPingTimer(),this.connectionState===$p.Disconnecting?this.completeClose(e):this.connectionState===$p.Connected&&this.reconnectPolicy?this.reconnect(e):this.connectionState===$p.Connected&&this.completeClose(e)},e.prototype.completeClose=function(e){var t=this;if(this.connectionStarted){this.connectionState=$p.Disconnected,this.connectionStarted=!1;try{this.closedCallbacks.forEach((function(i){return i.apply(t,[e])}))}catch(t){this.logger.log(bp.Error,"An onclose callback called with error '"+e+"' threw error '"+t+"'.")}}},e.prototype.reconnect=function(e){return tf(this,void 0,void 0,(function(){var t,i,n,s,r,o=this;return nf(this,(function(a){switch(a.label){case 0:if(t=Date.now(),i=0,n=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),null===(s=this.getNextRetryDelay(i++,0,n)))return this.logger.log(bp.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this.completeClose(e),[2];if(this.connectionState=$p.Reconnecting,e?this.logger.log(bp.Information,"Connection reconnecting because of error '"+e+"'."):this.logger.log(bp.Information,"Connection reconnecting."),this.onreconnecting){try{this.reconnectingCallbacks.forEach((function(t){return t.apply(o,[e])}))}catch(t){this.logger.log(bp.Error,"An onreconnecting callback called with error '"+e+"' threw error '"+t+"'.")}if(this.connectionState!==$p.Reconnecting)return this.logger.log(bp.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting."),[2]}a.label=1;case 1:return null===s?[3,7]:(this.logger.log(bp.Information,"Reconnect attempt number "+i+" will start in "+s+" ms."),[4,new Promise((function(e){o.reconnectDelayHandle=setTimeout(e,s)}))]);case 2:if(a.sent(),this.reconnectDelayHandle=void 0,this.connectionState!==$p.Reconnecting)return this.logger.log(bp.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting."),[2];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.startInternal()];case 4:if(a.sent(),this.connectionState=$p.Connected,this.logger.log(bp.Information,"HubConnection reconnected successfully."),this.onreconnected)try{this.reconnectedCallbacks.forEach((function(e){return e.apply(o,[o.connection.connectionId])}))}catch(e){this.logger.log(bp.Error,"An onreconnected callback called with connectionId '"+this.connection.connectionId+"; threw error '"+e+"'.")}return[2];case 5:return r=a.sent(),this.logger.log(bp.Information,"Reconnect attempt failed because of error '"+r+"'."),this.connectionState!==$p.Reconnecting?(this.logger.log(bp.Debug,"Connection left the reconnecting state during reconnect attempt. Done reconnecting."),[2]):(n=r instanceof Error?r:new Error(r.toString()),s=this.getNextRetryDelay(i++,Date.now()-t,n),[3,6]);case 6:return[3,1];case 7:return this.logger.log(bp.Information,"Reconnect retries have been exhausted after "+(Date.now()-t)+" ms and "+i+" failed attempts. Connection disconnecting."),this.completeClose(),[2]}}))}))},e.prototype.getNextRetryDelay=function(e,t,i){try{return this.reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:i})}catch(i){return this.logger.log(bp.Error,"IRetryPolicy.nextRetryDelayInMilliseconds("+e+", "+t+") threw error '"+i+"'."),null}},e.prototype.cancelCallbacksWithError=function(e){var t=this.callbacks;this.callbacks={},Object.keys(t).forEach((function(i){(0,t[i])(null,e)}))},e.prototype.cleanupPingTimer=function(){this.pingServerHandle&&clearTimeout(this.pingServerHandle)},e.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},e.prototype.createInvocation=function(e,t,i,n){if(i)return 0!==n.length?{arguments:t,streamIds:n,target:e,type:Yp.Invocation}:{arguments:t,target:e,type:Yp.Invocation};var s=this.invocationId;return this.invocationId++,0!==n.length?{arguments:t,invocationId:s.toString(),streamIds:n,target:e,type:Yp.Invocation}:{arguments:t,invocationId:s.toString(),target:e,type:Yp.Invocation}},e.prototype.launchStreams=function(e,t){var i=this;if(0!==e.length){t||(t=Promise.resolve());var n=function(n){e[n].subscribe({complete:function(){t=t.then((function(){return i.sendWithProtocol(i.createCompletionMessage(n))}))},error:function(e){var s;s=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then((function(){return i.sendWithProtocol(i.createCompletionMessage(n,s))}))},next:function(e){t=t.then((function(){return i.sendWithProtocol(i.createStreamItemMessage(n,e))}))}})};for(var s in e)n(s)}},e.prototype.replaceStreamingParams=function(e){for(var t=[],i=[],n=0;n<e.length;n++){var s=e[n];if(this.isObservable(s)){var r=this.invocationId;this.invocationId++,t[r]=s,i.push(r.toString()),e.splice(n,1)}}return[t,i]},e.prototype.isObservable=function(e){return e&&e.subscribe&&"function"==typeof e.subscribe},e.prototype.createStreamInvocation=function(e,t,i){var n=this.invocationId;return this.invocationId++,0!==i.length?{arguments:t,invocationId:n.toString(),streamIds:i,target:e,type:Yp.StreamInvocation}:{arguments:t,invocationId:n.toString(),target:e,type:Yp.StreamInvocation}},e.prototype.createCancelInvocation=function(e){return{invocationId:e,type:Yp.CancelInvocation}},e.prototype.createStreamItemMessage=function(e,t){return{invocationId:e,item:t,type:Yp.StreamItem}},e.prototype.createCompletionMessage=function(e,t,i){return t?{error:t,invocationId:e,type:Yp.Completion}:{invocationId:e,result:i,type:Yp.Completion}}}();!function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"}(sf||(sf={})),function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"}(rf||(rf={}));var of,af,cf,Af,lf=function(){function e(){this.isAborted=!1,this.onabort=null}return e.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(e.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),e}(),hf=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},uf=function(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?s(e.value):new i((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))},df=function(e,t){var i,n,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){o.label=r[1];break}if(6===r[0]&&o.label<s[1]){o.label=s[1],s=r;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(r);break}s[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},gf=(function(){function e(e,t,i,n,s,r){this.httpClient=e,this.accessTokenFactory=t,this.logger=i,this.pollAbort=new lf,this.logMessageContent=n,this.withCredentials=s,this.headers=r,this.running=!1,this.onreceive=null,this.onclose=null}Object.defineProperty(e.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),e.prototype.connect=function(e,t){return uf(this,void 0,void 0,(function(){var i,n,s,r,o,a,c,A,l;return df(this,(function(h){switch(h.label){case 0:if(Ip.isRequired(e,"url"),Ip.isRequired(t,"transferFormat"),Ip.isIn(t,rf,"transferFormat"),this.url=e,this.logger.log(bp.Trace,"(LongPolling transport) Connecting."),t===rf.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return n=Rp(),s=n[0],r=n[1],o=hf(((i={})[s]=r,i),this.headers),a={abortSignal:this.pollAbort.signal,headers:o,timeout:1e5,withCredentials:this.withCredentials},t===rf.Binary&&(a.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return c=h.sent(),this.updateHeaderToken(a,c),A=e+"&_="+Date.now(),this.logger.log(bp.Trace,"(LongPolling transport) polling: "+A+"."),[4,this.httpClient.get(A,a)];case 2:return 200!==(l=h.sent()).statusCode?(this.logger.log(bp.Error,"(LongPolling transport) Unexpected response code: "+l.statusCode+"."),this.closeError=new yp(l.statusText||"",l.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,a),[2]}}))}))},e.prototype.getAccessToken=function(){return uf(this,void 0,void 0,(function(){return df(this,(function(e){switch(e.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,null]}}))}))},e.prototype.updateHeaderToken=function(e,t){e.headers||(e.headers={}),t?e.headers.Authorization="Bearer "+t:e.headers.Authorization&&delete e.headers.Authorization},e.prototype.poll=function(e,t){return uf(this,void 0,void 0,(function(){var i,n,s,r;return df(this,(function(o){switch(o.label){case 0:o.trys.push([0,,8,9]),o.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:i=o.sent(),this.updateHeaderToken(t,i),o.label=3;case 3:return o.trys.push([3,5,,6]),n=e+"&_="+Date.now(),this.logger.log(bp.Trace,"(LongPolling transport) polling: "+n+"."),[4,this.httpClient.get(n,t)];case 4:return 204===(s=o.sent()).statusCode?(this.logger.log(bp.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==s.statusCode?(this.logger.log(bp.Error,"(LongPolling transport) Unexpected response code: "+s.statusCode+"."),this.closeError=new yp(s.statusText||"",s.statusCode),this.running=!1):s.content?(this.logger.log(bp.Trace,"(LongPolling transport) data received. "+_p(s.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(s.content)):this.logger.log(bp.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return r=o.sent(),this.running?r instanceof Pp?this.logger.log(bp.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=r,this.running=!1):this.logger.log(bp.Trace,"(LongPolling transport) Poll errored after shutdown: "+r.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(bp.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}}))}))},e.prototype.send=function(e){return uf(this,void 0,void 0,(function(){return df(this,(function(t){return this.running?[2,Lp(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},e.prototype.stop=function(){return uf(this,void 0,void 0,(function(){var e,t,i,n,s,r;return df(this,(function(o){switch(o.label){case 0:this.logger.log(bp.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),o.label=1;case 1:return o.trys.push([1,,5,6]),[4,this.receiving];case 2:return o.sent(),this.logger.log(bp.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),e={},t=Rp(),i=t[0],n=t[1],e[i]=n,s={headers:hf({},e,this.headers),withCredentials:this.withCredentials},[4,this.getAccessToken()];case 3:return r=o.sent(),this.updateHeaderToken(s,r),[4,this.httpClient.delete(this.url,s)];case 4:return o.sent(),this.logger.log(bp.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(bp.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}}))}))},e.prototype.raiseOnClose=function(){if(this.onclose){var e="(LongPolling transport) Firing onclose event.";this.closeError&&(e+=" Error: "+this.closeError),this.logger.log(bp.Trace,e),this.onclose(this.closeError)}}}(),Object.assign,Object.assign,Object.assign,function(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){e.done?s(e.value):new i((function(t){t(e.value)})).then(o,a)}c((n=n.apply(e,t||[])).next())}))}),pf=function(e,t){var i,n,s,r,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(s=2&r[0]?n.return:r[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;switch(n=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){o.label=r[1];break}if(6===r[0]&&o.label<s[1]){o.label=s[1],s=r;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(r);break}s[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{i=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},ff=(function(){function e(e){this.transport=e,this.buffer=[],this.executing=!0,this.sendBufferedData=new ff,this.transportResult=new ff,this.sendLoopPromise=this.sendLoop()}e.prototype.send=function(e){return this.bufferData(e),this.transportResult||(this.transportResult=new ff),this.transportResult.promise},e.prototype.stop=function(){return this.executing=!1,this.sendBufferedData.resolve(),this.sendLoopPromise},e.prototype.bufferData=function(e){if(this.buffer.length&&typeof this.buffer[0]!=typeof e)throw new Error("Expected data to be of type "+typeof this.buffer+" but was of type "+typeof e);this.buffer.push(e),this.sendBufferedData.resolve()},e.prototype.sendLoop=function(){return gf(this,void 0,void 0,(function(){var t,i,n;return pf(this,(function(s){switch(s.label){case 0:return[4,this.sendBufferedData.promise];case 1:if(s.sent(),!this.executing)return this.transportResult&&this.transportResult.reject("Connection stopped."),[3,6];this.sendBufferedData=new ff,t=this.transportResult,this.transportResult=void 0,i="string"==typeof this.buffer[0]?this.buffer.join(""):e.concatBuffers(this.buffer),this.buffer.length=0,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.transport.send(i)];case 3:return s.sent(),t.resolve(),[3,5];case 4:return n=s.sent(),t.reject(n),[3,5];case 5:return[3,0];case 6:return[2]}}))}))},e.concatBuffers=function(e){for(var t=e.map((function(e){return e.byteLength})).reduce((function(e,t){return e+t})),i=new Uint8Array(t),n=0,s=0,r=e;s<r.length;s++){var o=r[s];i.set(new Uint8Array(o),n),n+=o.byteLength}return i.buffer}}(),function(){function e(){var e=this;this.promise=new Promise((function(t,i){var n;return n=[t,i],e.resolver=n[0],e.rejecter=n[1],n}))}return e.prototype.resolve=function(){this.resolver()},e.prototype.reject=function(e){this.rejecter(e)},e}());Object.assign,bp.Trace,bp.Debug,bp.Information,bp.Information,bp.Warning,bp.Warning,bp.Error,bp.Critical,bp.None;!function(e){e.ServerConnected="serverConnected",e.ServerDisconnected="serverDisconnected",e.ServerFailed="serverFailed",e.ConferenceConnected="conferenceConnected",e.ConferenceJoined="conferenceJoined",e.ConferenceFailed="conferenceFailed",e.ConferenceRestored="conferenceRestored",e.ConferenceLeft="conferenceLeft",e.ParticipantJoined="participantJoined",e.ParticipantLeft="participantLeft",e.UserNameChanged="userNameChanged",e.AudioMuteStatusChanged="audioMuteStatucChanged",e.VideoMuteStatusChanged="videoMuteStatucChanged",e.AudioActivity="audioActivity",e.AudioAdded="audioAdded",e.AudioRemoved="audioRemoved",e.VideoAdded="videoAdded",e.VideoRemoved="videoRemoved"}(of||(of={})),function(e){e.UserPosed="userPosed",e.UserPointer="userPointer",e.SetAvatarEmoji="setAvatarEmoji",e.AvatarChanged="avatarChanged",e.Emote="emote",e.Chat="chat"}(af||(af={}));class mf extends Event{constructor(e){super(e),this.eventType=e}}class vf extends mf{constructor(){super(of.ServerConnected)}}class wf extends mf{constructor(){super(of.ServerDisconnected)}}class bf extends mf{constructor(){super(of.ServerFailed)}}class Df extends mf{constructor(e,t){super(e),this.id=t}}class yf extends Df{constructor(e,t,i){super(e,t),this.displayName=i}}class Pf extends Df{constructor(e,t){super(of.ConferenceJoined,e),this.pose=t}}class Cf extends Df{constructor(e){super(of.ConferenceLeft,e)}}class Bf extends mf{constructor(){super(of.ConferenceFailed)}}class Mf extends yf{constructor(e,t,i){super(of.ParticipantJoined,e,t),this.source=i}}class Sf extends Df{constructor(e){super(of.ParticipantLeft,e)}}class Ff extends yf{constructor(e,t){super(of.UserNameChanged,e,t)}}class Ef extends Df{constructor(e,t,i){super(e,t),this.muted=i}}class kf extends Ef{constructor(e,t){super(of.AudioMuteStatusChanged,e,t)}}class If extends Ef{constructor(e,t){super(of.VideoMuteStatusChanged,e,t)}}!function(e){e.Audio="audio",e.Video="video"}(cf||(cf={})),function(e){e.Added="added",e.Removed="removed",e.Changed="changed"}(Af||(Af={}));class Tf extends Df{constructor(e,t,i,n,s){super(e,n),this.kind=t,this.op=i,this.stream=s}}class _f extends Tf{constructor(e,t,i,n){super(e,t,Af.Added,i,n)}}class xf extends Tf{constructor(e,t,i,n){super(e,t,Af.Removed,i,n)}}class Lf extends _f{constructor(e,t){super(of.AudioAdded,cf.Audio,e,t)}}class Of extends xf{constructor(e,t){super(of.AudioRemoved,cf.Audio,e,t)}}class Rf extends _f{constructor(e,t){super(of.VideoAdded,cf.Video,e,t)}}class Qf extends xf{constructor(e,t){super(of.VideoRemoved,cf.Video,e,t)}}class Nf extends Df{constructor(e,t,i,n,s,r,o,a,c,A,l){super(e,t),this.px=i,this.py=n,this.pz=s,this.fx=r,this.fy=o,this.fz=a,this.ux=c,this.uy=A,this.uz=l}set(e,t,i,n,s,r,o,a,c){this.px=e,this.py=t,this.pz=i,this.fx=n,this.fy=s,this.fz=r,this.ux=o,this.uy=a,this.uz=c}}class Hf extends Nf{constructor(e,t,i,n,s,r,o,a,c,A){super(af.UserPosed,e,t,i,n,s,r,o,a,c,A)}}class Uf extends Nf{constructor(e,t,i,n,s,r,o,a,c,A,l){super(af.UserPointer,e,i,n,s,r,o,a,c,A,l),this.name=t}}class Gf extends Df{constructor(e,t,i){super(e,t),this.emoji=i instanceof T?i.value:i}}class zf extends Gf{constructor(e,t){super(af.Emote,e,t)}}class Wf extends Gf{constructor(e,t){super(af.SetAvatarEmoji,e,t)}}class jf extends Df{constructor(e,t){super(af.AvatarChanged,e),this.url=t}}class Vf extends Df{constructor(e,t){super(af.Chat,e),this.text=t}}class Yf extends ou{constructor(e){super(),this.sleepTime=e,this.tasks=new Map}async getNext(e,t){return new Promise((i=>{const n=s=>{s instanceof Df&&s.id===t&&(this.removeEventListener(e,n),i(s))};this.addEventListener(e,n)}))}get isConnected(){return this.metadataState===$p.Connected}async callThrottled(e,t,...i){if(!this.tasks.has(e)){const s=performance.now(),r=this.callInternal(t,...i);this.tasks.set(e,r),await r;const o=performance.now()-s;this.sleepTime-o>0&&await(n=this.sleepTime,new Promise((e=>{setTimeout(e,n)}))),this.tasks.delete(e)}var n}async callImmediate(e,...t){await this.callInternal(e,...t)}setLocalPose(e,t,i,n,s,r,o,a,c){this.callThrottled(af.UserPosed,af.UserPosed,e,t,i,n,s,r,o,a,c)}setLocalPointer(e,t,i,n,s,r,o,a,c,A){this.callThrottled(af.UserPointer+e,af.UserPointer,e,t,i,n,s,r,o,a,c,A)}setAvatarEmoji(e){this.callImmediate(af.SetAvatarEmoji,e)}setAvatarURL(e){this.callImmediate(af.AvatarChanged,e)}emote(e){this.callImmediate(af.Emote,e)}chat(e){this.callImmediate(af.Chat,e)}}function Xf(e,t){e.addEventListener(t,((...e)=>{$f&&console.log(">== CALLA ==<",t,...e)}))}const Jf="calla:preferredAudioOutputID",Zf="calla:preferredAudioInputID",qf="calla:preferredVideoInputID",Kf="local-user";let $f="localhost"===window.location.hostname||/\bdebug\b/.test(window.location.search);class em extends ou{constructor(e){super(),this.localUserID=null,this.localUserName=null,this.roomName=null,this._prepared=!1,this._connectionState=$p.Disconnected,this._conferenceState=$p.Disconnected,this.hasAudioPermission=!1,this.hasVideoPermission=!1,this.audio=new vp(Hu?mp.High:mp.Medium,e),this.addEventListener(of.ServerConnected,this.setConnectionState.bind(this,$p.Connected)),this.addEventListener(of.ServerFailed,this.setConnectionState.bind(this,$p.Disconnected)),this.addEventListener(of.ServerDisconnected,this.setConnectionState.bind(this,$p.Disconnected)),this.addEventListener(of.ConferenceJoined,this.setConferenceState.bind(this,$p.Connected)),this.addEventListener(of.ConferenceFailed,this.setConferenceState.bind(this,$p.Disconnected)),this.addEventListener(of.ConferenceRestored,this.setConferenceState.bind(this,$p.Connected)),this.addEventListener(of.ConferenceLeft,this.setConferenceState.bind(this,$p.Disconnected))}toggleLogging(){$f=!$f}get connectionState(){return this._connectionState}setConnectionState(e){this._connectionState=e}get conferenceState(){return this._conferenceState}setConferenceState(e){this._conferenceState=e}dispatchEvent(e){return e instanceof Df&&(null==e.id||"local"===e.id)&&(this.localUserID===Kf?e.id=null:e.id=this.localUserID),super.dispatchEvent(e)}async getNext(e,t){return new Promise((i=>{const n=s=>{s instanceof Df&&s.id===t&&(this.removeEventListener(e,n),i(s))};this.addEventListener(e,n)}))}get preferredAudioInputID(){return localStorage.getItem(Zf)}set preferredAudioInputID(e){localStorage.setItem(Zf,e)}get preferredVideoInputID(){return localStorage.getItem(qf)}set preferredVideoInputID(e){localStorage.setItem(qf,e)}async setPreferredDevices(){await this.setPreferredAudioInput(!0),await this.setPreferredVideoInput(!1),await this.setPreferredAudioOutput(!0)}async getPreferredAudioInput(e){return k(await this.getAudioInputDevices(),(e=>e.deviceId===this.preferredAudioInputID),(e=>"communications"===e.deviceId),(e=>"default"===e.deviceId),(t=>e&&t.deviceId.length>0))}async setPreferredAudioInput(e){const t=await this.getPreferredAudioInput(e);t&&await this.setAudioInputDevice(t)}async getPreferredVideoInput(e){return k(await this.getVideoInputDevices(),(e=>e.deviceId===this.preferredVideoInputID),(t=>e&&t&&/front/i.test(t.label)),(t=>e&&t.deviceId.length>0))}async setPreferredVideoInput(e){const t=await this.getPreferredVideoInput(e);t&&await this.setVideoInputDevice(t)}async getDevices(){let e=null;for(let t=0;t<3;++t){e=await navigator.mediaDevices.enumerateDevices();for(const t of e)t.deviceId.length>0&&(this.hasAudioPermission=this.hasAudioPermission||"audioinput"===t.kind&&t.label.length>0,this.hasVideoPermission=this.hasVideoPermission||"videoinput"===t.kind&&t.label.length>0);if(this.hasAudioPermission)break;try{await navigator.mediaDevices.getUserMedia({audio:!this.hasAudioPermission,video:!this.hasVideoPermission})}catch(e){console.warn(e)}}return e||[]}async getMediaPermissions(){return await this.getDevices(),{audio:this.hasAudioPermission,video:this.hasVideoPermission}}async getAvailableDevices(e=!1){let t=await this.getDevices();return e&&(t=function(e){const t=[];for(let i=0;i<e.length;++i){const n=e[i];let s=!1;for(let e=0;e<t.length&&!s;++e){const i=t[e];s=n.kind===i.kind&&i.label.indexOf(n.label)>0}s||t.push(n)}return t}(t)),{audioOutput:rp?t.filter((e=>"audiooutput"===e.kind)):[],audioInput:t.filter((e=>"audioinput"===e.kind)),videoInput:t.filter((e=>"videoinput"===e.kind))}}async getAudioInputDevices(e=!1){const t=await this.getAvailableDevices(e);return t&&t.audioInput||[]}async getVideoInputDevices(e=!1){const t=await this.getAvailableDevices(e);return t&&t.videoInput||[]}async setAudioOutputDevice(e){rp&&(this.preferredAudioOutputID=e&&e.deviceId||null)}async getAudioOutputDevices(e=!1){if(!rp)return[];const t=await this.getAvailableDevices(e);return t&&t.audioOutput||[]}async getCurrentAudioOutputDevice(){if(!rp)return null;const e=this.audio.getAudioOutputDeviceID(),t=(await this.getAudioOutputDevices()).filter((t=>null!=e&&t.deviceId===e||null==e&&t.deviceId===this.preferredAudioOutputID));return 0===t.length?null:t[0]}get preferredAudioOutputID(){return localStorage.getItem(Jf)}set preferredAudioOutputID(e){localStorage.setItem(Jf,e)}async getPreferredAudioOutput(e){return k(await this.getAudioOutputDevices(),(e=>e.deviceId===this.preferredAudioOutputID),(e=>"communications"===e.deviceId),(e=>"default"===e.deviceId),(t=>e&&t.deviceId.length>0))}async setPreferredAudioOutput(e){const t=await this.getPreferredAudioOutput(e);t&&await this.setAudioOutputDevice(t)}async setAudioInputDevice(e){this.preferredAudioInputID=e&&e.deviceId||null}async setVideoInputDevice(e){this.preferredVideoInputID=e&&e.deviceId||null}async connect(){this.setConnectionState($p.Connecting)}async join(e,t){this.setConferenceState($p.Connecting)}async leave(){this.setConferenceState($p.Disconnecting)}async disconnect(){this.setConnectionState($p.Disconnecting)}}const tm="Calla";class im extends Yf{constructor(e){super(250),this.tele=e,this._status=$p.Disconnected,this.remoteUserIDs=new Array,this.tele.addEventListener(of.ParticipantJoined,(e=>{I(this.remoteUserIDs,e.id,!1)})),this.tele.addEventListener(of.ParticipantLeft,(e=>{E(this.remoteUserIDs,e.id)}))}get metadataState(){return this._status}async connect(){await this.tele.connect()}async join(e){this._status=$p.Connecting;const t=await au(this.tele.conference,JitsiMeetJS.events.conference.DATA_CHANNEL_OPENED);this.tele.conference.addEventListener(JitsiMeetJS.events.conference.ENDPOINT_MESSAGE_RECEIVED,((e,t)=>{if(t.hax===tm){const i=e.getId(),n=t.command,s=t.values;switch(n){case af.AvatarChanged:this.dispatchEvent(new jf(i,s[0]));break;case af.Emote:this.dispatchEvent(new zf(i,s[0]));break;case af.SetAvatarEmoji:this.dispatchEvent(new Wf(i,s[0]));break;case af.UserPosed:this.dispatchEvent(new Hf(i,s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8]));break;case af.UserPointer:this.dispatchEvent(new Uf(i,s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]));break;case af.Chat:this.dispatchEvent(new Vf(i,s[0]));break;default:console.warn("Unknown message type:",n,"from user:",i,"values:",s)}}})),await this.tele.join(e),await t,this._status=$p.Connected}async leave(){this._status=$p.Disconnecting,await this.tele.leave(),this._status=$p.Disconnected}async identify(e){await this.tele.identify(e)}async disconnect(){await this.tele.disconnect()}sendJitsiHax(e,t,...i){this.tele.conference.sendMessage({hax:tm,command:t,values:i},e)}callInternal(e,...t){for(const i of this.remoteUserIDs)this.sendJitsiHax(i,e,...t);return Promise.resolve()}async stopInternal(){this._status=$p.Disconnecting,await lu((()=>this.metadataState===$p.Disconnected))}}function nm(e){try{return decodeURIComponent(e)}catch(t){return e}}class sm extends em{constructor(e,t){super(e),this.loadScript=t,this.usingDefaultMetadataClient=!1,this.host=null,this.bridgeHost=null,this.bridgeMUC=null,this.connection=null,this.conference=null,this.tracks=new Map,this.listenersForObjs=new Map}_on(e,t,i){let n=this.listenersForObjs.get(e);n||this.listenersForObjs.set(e,n=new Map);let s=n.get(t);s||n.set(t,s=new Array),s.push(i),e.addEventListener(t,i)}_off(e){const t=this.listenersForObjs.get(e);if(t){this.listenersForObjs.delete(e);for(const[i,n]of t.entries()){for(const t of n)e.removeEventListener(i,t);S(n)}t.clear()}}getDefaultMetadataClient(){return this.usingDefaultMetadataClient=!0,new im(this)}async prepare(e,t,i,n){if(!this._prepared){this.host=e,this.bridgeHost=t,this.bridgeMUC=i,console.info("Connecting to:",this.host);const s=function(e,t){let i;if(y(t)){i=new Array(t);for(let e=0;e<i.length;++e)i[e]=1/t}else i=t;let n=0;for(let e=0;e<i.length;++e)n+=i[e];const s=new Array(i.length),r=new Array(i.length),o=performance.now(),a=(t,r,a,c)=>{if(e){s[t]=r/a;let A=0;for(let e=0;e<i.length;++e)A+=s[e]*i[e];const l=performance.now();e(A,n,c,o-l+(l-o)*n/A)}};for(let e=0;e<i.length;++e)s[e]=0,r[e]=(t,i,n)=>a(e,t,i,n);return r}(n,2);await this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js",(()=>"jQuery"in globalThis),s.shift()),await this.loadScript(`https://${this.host}/libs/lib-jitsi-meet.min.js`,(()=>"JitsiMeetJS"in globalThis),s.shift()),JitsiMeetJS.setLogLevel(JitsiMeetJS.logLevels.ERROR),JitsiMeetJS.init(),this._prepared=!0}}async connect(){await super.connect();const e=JitsiMeetJS.events.connection;this.connection=new JitsiMeetJS.JitsiConnection(null,null,{hosts:{domain:this.bridgeHost,muc:this.bridgeMUC},serviceUrl:`https://${this.host}/http-bind`});for(const t of Object.values(e))Xf(this.connection,t);const t=()=>{this.connection&&(this._off(this.connection),this.connection=null)},i=(e,t,i)=>{this._on(this.connection,e,(()=>{this.dispatchEvent(new t),i&&i()}))};i(e.CONNECTION_ESTABLISHED,vf),i(e.CONNECTION_DISCONNECTED,wf,t),i(e.CONNECTION_FAILED,bf,t);const n=au(this.connection,e.CONNECTION_ESTABLISHED);this.connection.connect(),await n}async join(e,t){await super.join(e,t);const i=e.toLocaleLowerCase();if(i!==this.roomName){this.conference&&await this.leave(),this.roomName=i,this.conference=this.connection.initJitsiConference(this.roomName,{openBridgeChannel:this.usingDefaultMetadataClient,p2p:{enabled:!1},startVideoMuted:!0});const e=JitsiMeetJS.events.conference;for(const t of Object.values(e))"conference.audioLevelsChanged"!==t&&Xf(this.conference,t);const n=(e,t,i)=>{this._on(this.conference,e,(()=>{this.dispatchEvent(new t),i&&i()}))},s=async()=>{if(this.localUserID=Kf,this.tracks.size>0){console.warn("><> CALLA <>< ---- there are leftover conference tracks");for(const e of this.tracks.keys())await this.tryRemoveTrack(e,cf.Video),await this.tryRemoveTrack(e,cf.Audio),this.dispatchEvent(new Sf(e))}this.dispatchEvent(new Cf(this.localUserID)),this.conference&&(this._off(this.conference),this.conference=null)};n(e.CONFERENCE_ERROR,Bf,s),n(e.CONFERENCE_FAILED,Bf,s),n(e.CONNECTION_INTERRUPTED,Bf,s),this._on(this.conference,e.CONFERENCE_JOINED,(async()=>{const e=this.conference.myUserId();e&&(this.localUserID=e,this.dispatchEvent(new Pf(e,null)))})),this._on(this.conference,e.CONFERENCE_LEFT,s),this._on(this.conference,e.USER_JOINED,((e,t)=>{this.dispatchEvent(new Mf(e,nm(t.getDisplayName()),null))})),this._on(this.conference,e.USER_LEFT,(e=>{this.dispatchEvent(new Sf(e))})),this._on(this.conference,e.DISPLAY_NAME_CHANGED,((e,t)=>{this.dispatchEvent(new Ff(e,nm(t)))}));const r=(e,t)=>{const i=e.getParticipantId()||this.localUserID,n=e.getType()===cf.Audio?new kf(i,t):new If(i,t);this.dispatchEvent(n)};this._on(this.conference,e.TRACK_ADDED,(e=>{const t=e.getParticipantId()||this.localUserID,i=e.getType(),n=i===cf.Audio?new Lf(t,e.stream):new Rf(t,e.stream);let s=this.tracks.get(t);s||(s=new Map,this.tracks.set(t,s));const o=s.get(i);if(o){const e=cf.Audio?new Of(t,o.stream):new Qf(t,o.stream);this.dispatchEvent(e),o.dispose()}s.set(i,e),this.dispatchEvent(n),e.addEventListener(JitsiMeetJS.events.track.TRACK_MUTE_CHANGED,(e=>{r(e,e.isMuted())})),r(e,!1)})),this._on(this.conference,e.TRACK_REMOVED,(e=>{Ku(e,(t=>{const i=e.getParticipantId()||this.localUserID,n=e.getType(),s=cf.Audio?new Of(i,e.stream):new Qf(i,e.stream);r(e,!0),this.dispatchEvent(s);const o=this.tracks.get(i);if(o){const t=o.get(n);t&&(o.delete(n),0===o.size&&this.tracks.delete(i),t!==e&&t.dispose())}}))}));const o=au(this,of.ConferenceJoined);this.conference.join(t),await o}}async identify(e){this.localUserName=e,this.conference.setDisplayName(function(e){try{return encodeURIComponent(e)}catch(t){return e}}(e))}async tryRemoveTrack(e,t){const i=this.tracks.get(e),n=t===cf.Video?Qf:Of;if(i){const s=i.get(t);if(s){this.dispatchEvent(new n(e,s.stream)),i.delete(t);try{this.conference&&s.isLocal&&this.conference.removeTrack(s)}catch(e){console.warn(e)}finally{s.dispose()}}0===i.size&&this.tracks.delete(e)}}async leave(){await super.leave();try{await this.tryRemoveTrack(this.localUserID,cf.Video),await this.tryRemoveTrack(this.localUserID,cf.Audio);const e=au(this,of.ConferenceLeft);this.conference.leave(),await e}catch(e){console.warn("><> CALLA <>< ---- Failed to leave teleconference.",e)}}async disconnect(){await super.disconnect(),this.conferenceState!==$p.Disconnected&&await this.leave();const e=au(this,of.ServerDisconnected);this.connection.disconnect(),await e}userExists(e){return this.conference&&this.conference.participants&&e in this.conference.participants}getUserNames(){return this.conference?Object.keys(this.conference.participants).map((e=>[e,nm(this.conference.participants[e].getDisplayName())])):[]}getCurrentMediaTrack(e){if(this.localUserID===Kf)return null;const t=this.tracks.get(this.localUserID);return t?t.get(e):null}async setAudioInputDevice(e){await super.setAudioInputDevice(e);const t=this.getCurrentMediaTrack(cf.Audio);if(t){const e=this.getNext(of.AudioRemoved,this.localUserID);this.conference.removeTrack(t),await e}if(this.conference&&this.preferredAudioInputID){const e=this.getNext(of.AudioAdded,this.localUserID),t=await JitsiMeetJS.createLocalTracks({devices:["audio"],micDeviceId:this.preferredAudioInputID,constraints:{autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0}});for(const e of t)this.conference.addTrack(e);await e}}async setVideoInputDevice(e){await super.setVideoInputDevice(e);const t=this.getCurrentMediaTrack(cf.Video);if(t){const e=this.getNext(of.VideoRemoved,this.localUserID);this.conference.removeTrack(t),await e}if(this.conference&&this.preferredVideoInputID){const e=this.getNext(of.VideoAdded,this.localUserID),t=await JitsiMeetJS.createLocalTracks({devices:["video"],cameraDeviceId:this.preferredVideoInputID});for(const e of t)this.conference.addTrack(e);await e}}async getCurrentAudioInputDevice(){const e=this.getCurrentMediaTrack(cf.Audio),t=(await this.getAudioInputDevices()).filter((t=>null!=e&&t.deviceId===e.getDeviceId()||null==e&&t.deviceId===this.preferredAudioInputID));return 0===t.length?null:t[0]}async getCurrentVideoInputDevice(){const e=this.getCurrentMediaTrack(cf.Video),t=(await this.getVideoInputDevices()).filter((t=>null!=e&&t.deviceId===e.getDeviceId()||null==e&&t.deviceId===this.preferredVideoInputID));return 0===t.length?null:t[0]}async toggleAudioMuted(){const e=this.getNext(of.AudioMuteStatusChanged,this.localUserID),t=this.getCurrentMediaTrack(cf.Audio);if(t){t.isMuted()?await t.unmute():await t.mute()}else await this.setPreferredAudioInput(!0);return(await e).muted}async toggleVideoMuted(){const e=this.getNext(of.VideoMuteStatusChanged,this.localUserID);this.getCurrentMediaTrack(cf.Video)?await this.setVideoInputDevice(null):await this.setPreferredVideoInput(!0);return(await e).muted}isMediaMuted(e){const t=this.getCurrentMediaTrack(e);return null==t||t.isMuted()}async getAudioMuted(){return this.isMediaMuted(cf.Audio)}async getVideoMuted(){return this.isMediaMuted(cf.Video)}}var rm;!function(e){e.InConference="in-conference",e.JoiningConference="joining-conference",e.Connected="connected",e.Connecting="connecting",e.Prepaired="prepaired",e.Prepairing="prepairing",e.Unprepared="unprepaired"}(rm||(rm={}));const om=new ep;console.info("Calla v1.0.0.");const am="tele.calla.chat";class cm{constructor(e,t,i,n){this.id=e,this.pose=i,this._name=null,this._nameEl=null,this._videoStream=null,this._video=null,this.container=document.createElement("div"),this.container.className="user",n&&(this.container.className+=" localUser",t+=" (Me)"),this.name=t}dispose(){this.container.parentElement.removeChild(this.container)}get name(){return this._name}set name(e){this._nameEl&&(this.container.removeChild(this._nameEl),this._nameEl=null),this._name=e,this._nameEl=document.createElement("div"),this._nameEl.className="userName",this._nameEl.append(document.createTextNode(this.name)),this.container.append(this._nameEl)}get videoStream(){return this._videoStream}set videoStream(e){this._video&&(this.container.removeChild(this._video),this._video=null),this._videoStream=e,this._videoStream&&(this._video=document.createElement("video"),this._video.playsInline=!0,this._video.autoplay=!0,this._video.controls=!1,this._video.muted=!0,this._video.volume=0,this._video.srcObject=this._videoStream,this._video.className="userVideo",this.container.append(this._video),this._video.play())}update(){const e=this.container.parentElement.clientLeft-this.container.clientWidth/2,t=this.container.parentElement.clientTop-this.container.clientHeight/2;this.container.style.left=100*this.pose.current.p[0]+e+"px",this.container.style.zIndex=this.pose.current.p[1].toFixed(3),this.container.style.top=100*this.pose.current.p[2]+t+"px"}}const Am={roomName:document.getElementById("roomName"),userName:document.getElementById("userName"),connect:document.getElementById("connect"),leave:document.getElementById("leave"),space:document.getElementById("space"),cams:document.getElementById("cams"),mics:document.getElementById("mics"),speakers:document.getElementById("speakers"),sideTest:document.getElementById("sideTest")},lm=new class extends ad{constructor(){super(120)}start(){const e=t=>{this._timer=requestAnimationFrame(e),this._onTick(t)};this._timer=requestAnimationFrame(e)}stop(){this._timer&&(cancelAnimationFrame(this._timer),super.stop())}},hm=new class extends ou{constructor(e,t,i,n){super(),this.isAudioMuted=null,this.isVideoMuted=null,M(e)&&(e=Zu),M(t)&&(t=td),M(i)&&(i=sm),this.tele=new i(e,t),M(n)?this.meta=this.tele.getDefaultMetadataClient():this.meta=new n(this.tele);const s=this.dispatchEvent.bind(this);this.tele.addEventListener(of.ServerConnected,s),this.tele.addEventListener(of.ServerDisconnected,s),this.tele.addEventListener(of.ServerFailed,s),this.tele.addEventListener(of.ConferenceFailed,s),this.tele.addEventListener(of.ConferenceRestored,s),this.tele.addEventListener(of.UserNameChanged,s),this.tele.addEventListener(of.AudioMuteStatusChanged,s),this.tele.addEventListener(of.VideoMuteStatusChanged,s),this.tele.addEventListener(of.ConferenceJoined,(async e=>{const t=this.audio.createLocalUser(e.id);e.pose=t.pose,await this.setPreferredDevices(),this.dispatchEvent(e)})),this.tele.addEventListener(of.ConferenceLeft,(e=>{this.audio.createLocalUser(e.id),this.dispatchEvent(e)})),this.tele.addEventListener(of.ParticipantJoined,(async e=>{const t=await this.meta.getNext(af.UserPosed,e.id);e.source=this.audio.createUser(e.id),this.audio.setUserPose(t.id,t.px,t.py,t.pz,t.fx,t.fy,t.fz,t.ux,t.uy,t.uz,0);const i=this.audio.getUserOffset(t.id);t.px+=i[0],t.py+=i[1],t.pz+=i[2],this.dispatchEvent(e)})),this.tele.addEventListener(of.ParticipantLeft,(e=>{this.dispatchEvent(e),this.audio.removeUser(e.id)})),this.tele.addEventListener(of.AudioAdded,(e=>{const t=this.audio.getUser(e.id);if(t){let i=t.streams.get(e.kind);i&&t.streams.delete(e.kind),i=e.stream,t.streams.set(e.kind,i),e.id!==this.tele.localUserID&&this.audio.setUserStream(e.id,i),this.dispatchEvent(e)}})),this.tele.addEventListener(of.AudioRemoved,(e=>{const t=this.audio.getUser(e.id);t&&t.streams.has(e.kind)&&t.streams.delete(e.kind),e.id!==this.tele.localUserID&&this.audio.setUserStream(e.id,null),this.dispatchEvent(e)})),this.meta.addEventListener(af.AvatarChanged,s),this.meta.addEventListener(af.Chat,s),this.meta.addEventListener(af.Emote,s),this.meta.addEventListener(af.SetAvatarEmoji,s);const r=e=>{const t=this.audio.getUserOffset(e.id);t&&(e.px+=t[0],e.py+=t[1],e.pz+=t[2]),this.dispatchEvent(e)};this.meta.addEventListener(af.UserPointer,r),this.meta.addEventListener(af.UserPosed,(e=>{this.audio.setUserPose(e.id,e.px,e.py,e.pz,e.fx,e.fy,e.fz,e.ux,e.uy,e.uz),r(e)})),this.audio.addEventListener("audioActivity",(e=>{om.id=e.id,om.isActive=e.isActive,this.dispatchEvent(om)}));const o=this.dispose.bind(this);window.addEventListener("beforeunload",o),window.addEventListener("unload",o),window.addEventListener("pagehide",o),Object.seal(this)}get connectionState(){return this.tele.connectionState}get conferenceState(){return this.tele.conferenceState}get audio(){return this.tele.audio}get preferredAudioOutputID(){return this.tele.preferredAudioOutputID}set preferredAudioOutputID(e){this.tele.preferredAudioOutputID=e}get preferredAudioInputID(){return this.tele.preferredAudioInputID}set preferredAudioInputID(e){this.tele.preferredAudioInputID=e}get preferredVideoInputID(){return this.tele.preferredVideoInputID}set preferredVideoInputID(e){this.tele.preferredVideoInputID=e}async getCurrentAudioOutputDevice(){return await this.tele.getCurrentAudioOutputDevice()}async getMediaPermissions(){return await this.tele.getMediaPermissions()}async getAudioOutputDevices(e){return await this.tele.getAudioOutputDevices(e)}async getAudioInputDevices(e){return await this.tele.getAudioInputDevices(e)}async getVideoInputDevices(e){return await this.tele.getVideoInputDevices(e)}dispose(){this.leave(),this.disconnect()}get offsetRadius(){return this.audio.offsetRadius}set offsetRadius(e){this.audio.offsetRadius=e}setLocalPose(e,t,i,n,s,r,o,a,c){this.audio.setUserPose(this.localUserID,e,t,i,n,s,r,o,a,c,0),this.meta.setLocalPose(e,t,i,n,s,r,o,a,c)}setLocalPointer(e,t,i,n,s,r,o,a,c,A){this.meta.setLocalPointer(e,t,i,n,s,r,o,a,c,A)}setAvatarEmoji(e){this.meta.setAvatarEmoji(e)}setAvatarURL(e){this.meta.setAvatarURL(e)}emote(e){this.meta.emote(e)}chat(e){this.meta.chat(e)}async setPreferredDevices(){await this.tele.setPreferredDevices()}async setAudioInputDevice(e){await this.tele.setAudioInputDevice(e)}async setVideoInputDevice(e){await this.tele.setVideoInputDevice(e)}async getCurrentAudioInputDevice(){return await this.tele.getCurrentAudioInputDevice()}async getCurrentVideoInputDevice(){return await this.tele.getCurrentVideoInputDevice()}async toggleAudioMuted(){return await this.tele.toggleAudioMuted()}async toggleVideoMuted(){return await this.tele.toggleVideoMuted()}async getAudioMuted(){return await this.tele.getAudioMuted()}async getVideoMuted(){return await this.tele.getVideoMuted()}get metadataState(){return this.meta.metadataState}get localUserID(){return this.tele.localUserID}get localUserName(){return this.tele.localUserName}get roomName(){return this.tele.roomName}userExists(e){return this.tele.userExists(e)}getUserNames(){return this.tele.getUserNames()}async prepare(e,t,i,n){await this.tele.prepare(e,t,i,n)}async connect(){await this.tele.connect(),this.tele.connectionState===$p.Connected&&await this.meta.connect()}async join(e){await this.tele.join(e),this.tele.conferenceState===$p.Connected&&await this.meta.join(e)}async identify(e){await this.tele.identify(e),await this.meta.identify(this.localUserID)}async leave(){await this.meta.leave(),await this.tele.leave()}async disconnect(){await this.meta.disconnect(),await this.tele.disconnect()}update(){this.audio.update()}async setAudioOutputDevice(e){this.tele.setAudioOutputDevice(e),rp&&await this.audio.setAudioOutputDeviceID(this.tele.preferredAudioOutputID)}async setAudioMuted(e){let t=this.isAudioMuted;return e!==t&&(t=await this.toggleAudioMuted()),t}async setVideoMuted(e){let t=this.isVideoMuted;return e!==t&&(t=await this.toggleVideoMuted()),t}},um=new Map;function dm(e,t,i,n){const s=new cm(e,t,i,n);um.has(e)&&um.get(e).dispose(),um.set(e,s),Am.space.append(s.container)}function gm(e){const t=um.get(e);t&&(t.dispose(),um.delete(e))}function pm(e,t){hm.localUserID&&(e/=100,t/=100,hm.setLocalPose(e,0,t,0,0,-1,0,1,0))}function fm(e,t){if(um.has(e)){um.get(e).videoStream=t}}function mm(e,t,i,n,s){if(e){const e=document.createElement("option");e.text="None",t.append(e)}let r=null;t.append(...i.map((e=>{const t=document.createElement("option");return t.value=e.deviceId,t.text=e.label,n===e.deviceId&&(r=e,t.selected=!0),t}))),t.addEventListener("input",(()=>{let n=t.selectedIndex;e&&--n;const r=i[n];s(r||null)})),r&&s(r)}Am.connect.addEventListener("click",(async function(){const e=Am.roomName.value,t=Am.userName.value;let i="";if(0===e.length&&(i+="\n   Room name is required"),0===t.length&&(i+="\n   User name is required"),i.length>0)return i="Required fields missing:"+i,void alert(i);Am.roomName.disabled=!0,Am.userName.disabled=!0,Am.connect.disabled=!0,await hm.join(e),await hm.identify(t)})),Am.leave.addEventListener("click",(async function(){await hm.leave()})),Am.space.addEventListener("click",(e=>{pm(e.clientX-Am.space.offsetLeft,e.clientY-Am.space.offsetTop)})),hm.addEventListener(of.ConferenceJoined,(e=>{return t=e.id,i=e.pose,Am.leave.disabled=!1,lm.start(),dm(t,"local-user",i,!0),void pm(Math.random()*(Am.space.clientWidth-100)+50,Math.random()*(Am.space.clientHeight-100)+50);var t,i})),hm.addEventListener(of.ConferenceLeft,(e=>{gm(e.id),lm.stop(),Am.leave.disabled=!0,Am.connect.disabled=!1})),hm.addEventListener(of.ParticipantJoined,(e=>dm(e.id,e.displayName,null,!1))),hm.addEventListener(of.ParticipantLeft,(e=>gm(e.id))),hm.addEventListener(of.VideoAdded,(e=>fm(e.id,e.stream))),hm.addEventListener(of.VideoRemoved,(e=>fm(e.id,null))),hm.addEventListener(of.UserNameChanged,(e=>{return t=e.id,i=e.displayName,void(um.has(t)&&(um.get(t).name=i));var t,i})),lm.addEventListener("tick",(function(){hm.update();for(let e of um.values())e.update()})),async function(){await hm.prepare(am,"tele.calla.chat","conference.tele.calla.chat"),mm(!0,Am.cams,await hm.getVideoInputDevices(!0),hm.preferredVideoInputID,(e=>hm.setVideoInputDevice(e))),mm(!0,Am.mics,await hm.getAudioInputDevices(!0),hm.preferredAudioInputID,(e=>hm.setAudioInputDevice(e))),mm(!1,Am.speakers,await hm.getAudioOutputDevices(!0),hm.preferredAudioOutputID,(e=>hm.setAudioOutputDevice(e))),Am.speakers.disabled=!rp,Am.connect.disabled=!1}(),1===sd&&Am.sideTest.addEventListener("click",(function(){const e=new URL(document.location.href);e.searchParams.set("testUserNumber",(sd+rd.length+1).toString()),function(e,t,i,n,s){const r=window.open(e,"_blank",`left=${t},top=${i},width=${n},height=${s}`);r&&rd.push(r)}(e.href,window.screenLeft+window.outerWidth,0,window.innerWidth,window.innerHeight)})),Am.roomName.value="TestRoom",Am.userName.value=`TestUser${sd}`}();
//# sourceMappingURL=basic.min.js.map
